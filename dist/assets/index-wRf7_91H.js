var JI=Object.defineProperty;var ZI=(i,e,t)=>e in i?JI(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Gb=(i,e,t)=>ZI(i,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var ex=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ng={exports:{}},Fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function tx(){if($b)return Fc;$b=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:i,type:n,key:u,ref:a!==void 0?a:null,props:o}}return Fc.Fragment=e,Fc.jsx=t,Fc.jsxs=t,Fc}var Qb;function nx(){return Qb||(Qb=1,Ng.exports=tx()),Ng.exports}var W=nx(),Pg={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function rx(){if(Yb)return mt;Yb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function I(q){return q===null||typeof q!="object"?null:(q=S&&q[S]||q["@@iterator"],typeof q=="function"?q:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,Z={};function ne(q,be,Ve){this.props=q,this.context=be,this.refs=Z,this.updater=Ve||P}ne.prototype.isReactComponent={},ne.prototype.setState=function(q,be){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,be,"setState")},ne.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function ge(){}ge.prototype=ne.prototype;function _e(q,be,Ve){this.props=q,this.context=be,this.refs=Z,this.updater=Ve||P}var re=_e.prototype=new ge;re.constructor=_e,N(re,ne.prototype),re.isPureReactComponent=!0;var ve=Array.isArray,Ae={H:null,A:null,T:null,S:null,V:null},De=Object.prototype.hasOwnProperty;function M(q,be,Ve,Ie,Ye,lt){return Ve=lt.ref,{$$typeof:i,type:q,key:be,ref:Ve!==void 0?Ve:null,props:lt}}function D(q,be){return M(q.type,be,void 0,void 0,void 0,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===i}function z(q){var be={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Ve){return be[Ve]})}var Q=/\/+/g;function J(q,be){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):be.toString(36)}function j(){}function Dt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(j,j):(q.status="pending",q.then(function(be){q.status==="pending"&&(q.status="fulfilled",q.value=be)},function(be){q.status==="pending"&&(q.status="rejected",q.reason=be)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Lt(q,be,Ve,Ie,Ye){var lt=typeof q;(lt==="undefined"||lt==="boolean")&&(q=null);var et=!1;if(q===null)et=!0;else switch(lt){case"bigint":case"string":case"number":et=!0;break;case"object":switch(q.$$typeof){case i:case e:et=!0;break;case E:return et=q._init,Lt(et(q._payload),be,Ve,Ie,Ye)}}if(et)return Ye=Ye(q),et=Ie===""?"."+J(q,0):Ie,ve(Ye)?(Ve="",et!=null&&(Ve=et.replace(Q,"$&/")+"/"),Lt(Ye,be,Ve,"",function(Ke){return Ke})):Ye!=null&&(V(Ye)&&(Ye=D(Ye,Ve+(Ye.key==null||q&&q.key===Ye.key?"":(""+Ye.key).replace(Q,"$&/")+"/")+et)),be.push(Ye)),1;et=0;var cn=Ie===""?".":Ie+":";if(ve(q))for(var qt=0;qt<q.length;qt++)Ie=q[qt],lt=cn+J(Ie,qt),et+=Lt(Ie,be,Ve,lt,Ye);else if(qt=I(q),typeof qt=="function")for(q=qt.call(q),qt=0;!(Ie=q.next()).done;)Ie=Ie.value,lt=cn+J(Ie,qt++),et+=Lt(Ie,be,Ve,lt,Ye);else if(lt==="object"){if(typeof q.then=="function")return Lt(Dt(q),be,Ve,Ie,Ye);throw be=String(q),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.")}return et}function ye(q,be,Ve){if(q==null)return q;var Ie=[],Ye=0;return Lt(q,Ie,"","",function(lt){return be.call(Ve,lt,Ye++)}),Ie}function Ne(q){if(q._status===-1){var be=q._result;be=be(),be.then(function(Ve){(q._status===0||q._status===-1)&&(q._status=1,q._result=Ve)},function(Ve){(q._status===0||q._status===-1)&&(q._status=2,q._result=Ve)}),q._status===-1&&(q._status=0,q._result=be)}if(q._status===1)return q._result.default;throw q._result}var qe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var be=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(be))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ft(){}return mt.Children={map:ye,forEach:function(q,be,Ve){ye(q,function(){be.apply(this,arguments)},Ve)},count:function(q){var be=0;return ye(q,function(){be++}),be},toArray:function(q){return ye(q,function(be){return be})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},mt.Component=ne,mt.Fragment=t,mt.Profiler=a,mt.PureComponent=_e,mt.StrictMode=n,mt.Suspense=m,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae,mt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return Ae.H.useMemoCache(q)}},mt.cache=function(q){return function(){return q.apply(null,arguments)}},mt.cloneElement=function(q,be,Ve){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Ie=N({},q.props),Ye=q.key,lt=void 0;if(be!=null)for(et in be.ref!==void 0&&(lt=void 0),be.key!==void 0&&(Ye=""+be.key),be)!De.call(be,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&be.ref===void 0||(Ie[et]=be[et]);var et=arguments.length-2;if(et===1)Ie.children=Ve;else if(1<et){for(var cn=Array(et),qt=0;qt<et;qt++)cn[qt]=arguments[qt+2];Ie.children=cn}return M(q.type,Ye,void 0,void 0,lt,Ie)},mt.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},mt.createElement=function(q,be,Ve){var Ie,Ye={},lt=null;if(be!=null)for(Ie in be.key!==void 0&&(lt=""+be.key),be)De.call(be,Ie)&&Ie!=="key"&&Ie!=="__self"&&Ie!=="__source"&&(Ye[Ie]=be[Ie]);var et=arguments.length-2;if(et===1)Ye.children=Ve;else if(1<et){for(var cn=Array(et),qt=0;qt<et;qt++)cn[qt]=arguments[qt+2];Ye.children=cn}if(q&&q.defaultProps)for(Ie in et=q.defaultProps,et)Ye[Ie]===void 0&&(Ye[Ie]=et[Ie]);return M(q,lt,void 0,void 0,null,Ye)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(q){return{$$typeof:h,render:q}},mt.isValidElement=V,mt.lazy=function(q){return{$$typeof:E,_payload:{_status:-1,_result:q},_init:Ne}},mt.memo=function(q,be){return{$$typeof:g,type:q,compare:be===void 0?null:be}},mt.startTransition=function(q){var be=Ae.T,Ve={};Ae.T=Ve;try{var Ie=q(),Ye=Ae.S;Ye!==null&&Ye(Ve,Ie),typeof Ie=="object"&&Ie!==null&&typeof Ie.then=="function"&&Ie.then(ft,qe)}catch(lt){qe(lt)}finally{Ae.T=be}},mt.unstable_useCacheRefresh=function(){return Ae.H.useCacheRefresh()},mt.use=function(q){return Ae.H.use(q)},mt.useActionState=function(q,be,Ve){return Ae.H.useActionState(q,be,Ve)},mt.useCallback=function(q,be){return Ae.H.useCallback(q,be)},mt.useContext=function(q){return Ae.H.useContext(q)},mt.useDebugValue=function(){},mt.useDeferredValue=function(q,be){return Ae.H.useDeferredValue(q,be)},mt.useEffect=function(q,be,Ve){var Ie=Ae.H;if(typeof Ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ie.useEffect(q,be)},mt.useId=function(){return Ae.H.useId()},mt.useImperativeHandle=function(q,be,Ve){return Ae.H.useImperativeHandle(q,be,Ve)},mt.useInsertionEffect=function(q,be){return Ae.H.useInsertionEffect(q,be)},mt.useLayoutEffect=function(q,be){return Ae.H.useLayoutEffect(q,be)},mt.useMemo=function(q,be){return Ae.H.useMemo(q,be)},mt.useOptimistic=function(q,be){return Ae.H.useOptimistic(q,be)},mt.useReducer=function(q,be,Ve){return Ae.H.useReducer(q,be,Ve)},mt.useRef=function(q){return Ae.H.useRef(q)},mt.useState=function(q){return Ae.H.useState(q)},mt.useSyncExternalStore=function(q,be,Ve){return Ae.H.useSyncExternalStore(q,be,Ve)},mt.useTransition=function(){return Ae.H.useTransition()},mt.version="19.1.0",mt}var Xb;function Qy(){return Xb||(Xb=1,Pg.exports=rx()),Pg.exports}var me=Qy(),Vg={exports:{}},Kc={},Mg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function ix(){return Wb||(Wb=1,function(i){function e(ye,Ne){var qe=ye.length;ye.push(Ne);e:for(;0<qe;){var ft=qe-1>>>1,q=ye[ft];if(0<a(q,Ne))ye[ft]=Ne,ye[qe]=q,qe=ft;else break e}}function t(ye){return ye.length===0?null:ye[0]}function n(ye){if(ye.length===0)return null;var Ne=ye[0],qe=ye.pop();if(qe!==Ne){ye[0]=qe;e:for(var ft=0,q=ye.length,be=q>>>1;ft<be;){var Ve=2*(ft+1)-1,Ie=ye[Ve],Ye=Ve+1,lt=ye[Ye];if(0>a(Ie,qe))Ye<q&&0>a(lt,Ie)?(ye[ft]=lt,ye[Ye]=qe,ft=Ye):(ye[ft]=Ie,ye[Ve]=qe,ft=Ve);else if(Ye<q&&0>a(lt,qe))ye[ft]=lt,ye[Ye]=qe,ft=Ye;else break e}}return Ne}function a(ye,Ne){var qe=ye.sortIndex-Ne.sortIndex;return qe!==0?qe:ye.id-Ne.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();i.unstable_now=function(){return u.now()-h}}var m=[],g=[],E=1,S=null,I=3,P=!1,N=!1,Z=!1,ne=!1,ge=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ve(ye){for(var Ne=t(g);Ne!==null;){if(Ne.callback===null)n(g);else if(Ne.startTime<=ye)n(g),Ne.sortIndex=Ne.expirationTime,e(m,Ne);else break;Ne=t(g)}}function Ae(ye){if(Z=!1,ve(ye),!N)if(t(m)!==null)N=!0,De||(De=!0,J());else{var Ne=t(g);Ne!==null&&Lt(Ae,Ne.startTime-ye)}}var De=!1,M=-1,D=5,V=-1;function z(){return ne?!0:!(i.unstable_now()-V<D)}function Q(){if(ne=!1,De){var ye=i.unstable_now();V=ye;var Ne=!0;try{e:{N=!1,Z&&(Z=!1,_e(M),M=-1),P=!0;var qe=I;try{t:{for(ve(ye),S=t(m);S!==null&&!(S.expirationTime>ye&&z());){var ft=S.callback;if(typeof ft=="function"){S.callback=null,I=S.priorityLevel;var q=ft(S.expirationTime<=ye);if(ye=i.unstable_now(),typeof q=="function"){S.callback=q,ve(ye),Ne=!0;break t}S===t(m)&&n(m),ve(ye)}else n(m);S=t(m)}if(S!==null)Ne=!0;else{var be=t(g);be!==null&&Lt(Ae,be.startTime-ye),Ne=!1}}break e}finally{S=null,I=qe,P=!1}Ne=void 0}}finally{Ne?J():De=!1}}}var J;if(typeof re=="function")J=function(){re(Q)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Dt=j.port2;j.port1.onmessage=Q,J=function(){Dt.postMessage(null)}}else J=function(){ge(Q,0)};function Lt(ye,Ne){M=ge(function(){ye(i.unstable_now())},Ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ye){ye.callback=null},i.unstable_forceFrameRate=function(ye){0>ye||125<ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ye?Math.floor(1e3/ye):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(ye){switch(I){case 1:case 2:case 3:var Ne=3;break;default:Ne=I}var qe=I;I=Ne;try{return ye()}finally{I=qe}},i.unstable_requestPaint=function(){ne=!0},i.unstable_runWithPriority=function(ye,Ne){switch(ye){case 1:case 2:case 3:case 4:case 5:break;default:ye=3}var qe=I;I=ye;try{return Ne()}finally{I=qe}},i.unstable_scheduleCallback=function(ye,Ne,qe){var ft=i.unstable_now();switch(typeof qe=="object"&&qe!==null?(qe=qe.delay,qe=typeof qe=="number"&&0<qe?ft+qe:ft):qe=ft,ye){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=qe+q,ye={id:E++,callback:Ne,priorityLevel:ye,startTime:qe,expirationTime:q,sortIndex:-1},qe>ft?(ye.sortIndex=qe,e(g,ye),t(m)===null&&ye===t(g)&&(Z?(_e(M),M=-1):Z=!0,Lt(Ae,qe-ft))):(ye.sortIndex=q,e(m,ye),N||P||(N=!0,De||(De=!0,J()))),ye},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(ye){var Ne=I;return function(){var qe=I;I=Ne;try{return ye.apply(this,arguments)}finally{I=qe}}}}(Lg)),Lg}var Jb;function sx(){return Jb||(Jb=1,Mg.exports=ix()),Mg.exports}var jg={exports:{}},hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function ax(){if(Zb)return hr;Zb=1;var i=Qy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:m,containerInfo:g,implementation:E}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,hr.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(m,g,null,E)},hr.flushSync=function(m){var g=u.T,E=n.p;try{if(u.T=null,n.p=2,m)return m()}finally{u.T=g,n.p=E,n.d.f()}},hr.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(m,g))},hr.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},hr.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,S=h(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?n.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:P}):E==="script"&&n.d.X(m,{crossOrigin:S,integrity:I,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hr.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=h(g.as,g.crossOrigin);n.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(m)},hr.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=h(E,g.crossOrigin);n.d.L(m,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hr.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=h(g.as,g.crossOrigin);n.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(m)},hr.requestFormReset=function(m){n.d.r(m)},hr.unstable_batchedUpdates=function(m,g){return m(g)},hr.useFormState=function(m,g,E){return u.H.useFormState(m,g,E)},hr.useFormStatus=function(){return u.H.useHostTransitionStatus()},hr.version="19.1.0",hr}var eE;function ox(){if(eE)return jg.exports;eE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jg.exports=ax(),jg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function lx(){if(tE)return Kc;tE=1;var i=sx(),e=Qy(),t=ox();function n(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(n(188))}function m(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,c=s;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return h(p),r;if(v===c)return h(p),s;v=v.sibling}throw Error(n(188))}if(l.return!==c.return)l=p,c=v;else{for(var A=!1,k=p.child;k;){if(k===l){A=!0,l=p,c=v;break}if(k===c){A=!0,c=p,l=v;break}k=k.sibling}if(!A){for(k=v.child;k;){if(k===l){A=!0,l=v,c=p;break}if(k===c){A=!0,c=v,l=p;break}k=k.sibling}if(!A)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),_e=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function J(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function Dt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case ne:return"Profiler";case Z:return"StrictMode";case Ae:return"Suspense";case De:return"SuspenseList";case V:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case P:return"Portal";case re:return(r.displayName||"Context")+".Provider";case _e:return(r._context.displayName||"Context")+".Consumer";case ve:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:Dt(r.type)||"Memo";case D:s=r._payload,r=r._init;try{return Dt(r(s))}catch{}}return null}var Lt=Array.isArray,ye=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qe={pending:!1,data:null,method:null,action:null},ft=[],q=-1;function be(r){return{current:r}}function Ve(r){0>q||(r.current=ft[q],ft[q]=null,q--)}function Ie(r,s){q++,ft[q]=r.current,r.current=s}var Ye=be(null),lt=be(null),et=be(null),cn=be(null);function qt(r,s){switch(Ie(et,s),Ie(lt,r),Ie(Ye,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?bb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=bb(s),r=Eb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ve(Ye),Ie(Ye,r)}function Ke(){Ve(Ye),Ve(lt),Ve(et)}function Vi(r){r.memoizedState!==null&&Ie(cn,r);var s=Ye.current,l=Eb(s,r.type);s!==l&&(Ie(lt,r),Ie(Ye,l))}function Ir(r){lt.current===r&&(Ve(Ye),Ve(lt)),cn.current===r&&(Ve(cn),jc._currentValue=qe)}var Tt=Object.prototype.hasOwnProperty,qr=i.unstable_scheduleCallback,Ns=i.unstable_cancelCallback,Fr=i.unstable_shouldYield,jl=i.unstable_requestPaint,xr=i.unstable_now,ic=i.unstable_getCurrentPriorityLevel,ko=i.unstable_ImmediatePriority,as=i.unstable_UserBlockingPriority,jn=i.unstable_NormalPriority,Ul=i.unstable_LowPriority,hi=i.unstable_IdlePriority,Ea=i.log,os=i.unstable_setDisableYieldValue,Vt=null,vt=null;function Yn(r){if(typeof Ea=="function"&&os(r),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Vt,r)}catch{}}var hn=Math.clz32?Math.clz32:yr,wa=Math.log,Ta=Math.LN2;function yr(r){return r>>>=0,r===0?32:31-(wa(r)/Ta|0)|0}var fi=256,Mi=4194304;function An(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Fe(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,v=r.suspendedLanes,A=r.pingedLanes;r=r.warmLanes;var k=c&134217727;return k!==0?(c=k&~v,c!==0?p=An(c):(A&=k,A!==0?p=An(A):l||(l=k&~r,l!==0&&(p=An(l))))):(k=c&~v,k!==0?p=An(k):A!==0?p=An(A):l||(l=c&~r,l!==0&&(p=An(l)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,l=s&-s,v>=l||v===32&&(l&4194048)!==0)?s:p}function Kr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Hr(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ls(){var r=fi;return fi<<=1,(fi&4194048)===0&&(fi=256),r}function Ue(){var r=Mi;return Mi<<=1,(Mi&62914560)===0&&(Mi=4194304),r}function Gr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function di(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ps(r,s,l,c,p,v){var A=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var k=r.entanglements,U=r.expirationTimes,le=r.hiddenUpdates;for(l=A&~l;0<l;){var we=31-hn(l),Se=1<<we;k[we]=0,U[we]=-1;var ce=le[we];if(ce!==null)for(le[we]=null,we=0;we<ce.length;we++){var he=ce[we];he!==null&&(he.lane&=-536870913)}l&=~Se}c!==0&&$r(r,c,0),v!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=v&~(A&~s))}function $r(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-hn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function Vs(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-hn(l),p=1<<c;p&s|r[c]&s&&(r[c]|=s),l&=~p}}function us(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Sa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function vr(){var r=Ne.p;return r!==0?r:(r=window.event,r===void 0?32:zb(r.type))}function Li(r,s){var l=Ne.p;try{return Ne.p=r,s()}finally{Ne.p=l}}var Ft=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ft,ct="__reactProps$"+Ft,Nt="__reactContainer$"+Ft,Co="__reactEvents$"+Ft,Aa="__reactListeners$"+Ft,Qr="__reactHandles$"+Ft,Ms="__reactResources$"+Ft,Ls="__reactMarker$"+Ft;function Xn(r){delete r[tn],delete r[ct],delete r[Co],delete r[Aa],delete r[Qr]}function sr(r){var s=r[tn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Nt]||l[tn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Ab(r);r!==null;){if(l=r[tn])return l;r=Ab(r)}return s}r=l,l=r.parentNode}return null}function Dn(r){if(r=r[tn]||r[Nt]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function _r(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(n(33))}function Wn(r){var s=r[Ms];return s||(s=r[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(r){r[Ls]=!0}var Ra=new Set,kr={};function Cr(r,s){Yr(r,s),Yr(r+"Capture",s)}function Yr(r,s){for(kr[r]=s,r=0;r<s.length;r++)Ra.add(s[r])}var Wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mi={},Jn={};function Oo(r){return Tt.call(Jn,r)?!0:Tt.call(mi,r)?!1:Wt.test(r)?Jn[r]=!0:(mi[r]=!0,!1)}function br(r,s,l){if(Oo(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Er(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function gn(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}var ji,pi;function gi(r){if(ji===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ji=s&&s[1]||"",pi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+r+pi}var Ui=!1;function js(r,s){if(!r||Ui)return"";Ui=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(he){var ce=he}Reflect.construct(r,[],Se)}else{try{Se.call()}catch(he){ce=he}r.call(Se.prototype)}}else{try{throw Error()}catch(he){ce=he}(Se=r())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(he){if(he&&ce&&typeof he.stack=="string")return[he.stack,ce.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),A=v[0],k=v[1];if(A&&k){var U=A.split(`
`),le=k.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<le.length&&!le[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===le.length)for(c=U.length-1,p=le.length-1;1<=c&&0<=p&&U[c]!==le[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==le[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==le[p]){var we=`
`+U[c].replace(" at new "," at ");return r.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",r.displayName)),we}while(1<=c&&0<=p);break}}}finally{Ui=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?gi(l):""}function dt(r){switch(r.tag){case 26:case 27:case 5:return gi(r.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return js(r.type,!1);case 11:return js(r.type.render,!1);case 1:return js(r.type,!0);case 31:return gi("Activity");default:return""}}function Us(r){try{var s="";do s+=dt(r),r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Un(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ia(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jt(r){var s=Ia(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(A){c=""+A,v.call(this,A)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function yi(r){r._valueTracker||(r._valueTracker=jt(r))}function zi(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=Ia(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Or(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Do=/[\n"\\]/g;function nn(r){return r.replace(Do,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zn(r,s,l,c,p,v,A,k){r.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.type=A:r.removeAttribute("type"),s!=null?A==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Un(s)):r.value!==""+Un(s)&&(r.value=""+Un(s)):A!=="submit"&&A!=="reset"||r.removeAttribute("value"),s!=null?Xr(r,A,Un(s)):l!=null?Xr(r,A,Un(l)):c!=null&&r.removeAttribute("value"),p==null&&v!=null&&(r.defaultChecked=!!v),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+Un(k):r.removeAttribute("name")}function cs(r,s,l,c,p,v,A,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),s!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;l=l!=null?""+Un(l):"",s=s!=null?""+Un(s):l,k||s===r.value||(r.value=s),r.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=k?r.checked:!!c,r.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(r.name=A)}function Xr(r,s,l){s==="number"&&Or(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function vi(r,s,l,c){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Un(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function It(r,s,l){if(s!=null&&(s=""+Un(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+Un(l):""}function hs(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(n(92));if(Lt(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Un(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function Dr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var pt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xa(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||pt.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function No(r,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&xa(r,p,c)}else for(var v in s)s.hasOwnProperty(v)&&xa(r,v,s[v])}function Po(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bi(r){return fs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Bn=null;function wr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _i=null,Kt=null;function ar(r){var s=Dn(r);if(s&&(r=s.stateNode)){var l=r[ct]||null;e:switch(r=s.stateNode,s.type){case"input":if(zn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var p=c[ct]||null;if(!p)throw Error(n(90));zn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&zi(c)}break e;case"textarea":It(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&vi(r,!!l.multiple,s,!1)}}}var or=!1;function ds(r,s,l){if(or)return r(s,l);or=!0;try{var c=r(s);return c}finally{if(or=!1,(_i!==null||Kt!==null)&&(Wf(),_i&&(s=_i,r=Kt,Kt=_i=null,ar(s),r)))for(s=0;s<r.length;s++)ar(r[s])}}function qi(r,s){var l=r.stateNode;if(l===null)return null;var c=l[ct]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Rn)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{Nr=!1}var Pr=null,Fi=null,Wr=null;function Ki(){if(Wr)return Wr;var r,s=Fi,l=s.length,c,p="value"in Pr?Pr.value:Pr.textContent,v=p.length;for(r=0;r<l&&s[r]===p[r];r++);var A=l-r;for(c=1;c<=A&&s[l-c]===p[v-c];c++);return Wr=p.slice(r,1<c?1-c:void 0)}function Vr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Jr(){return!0}function Vo(){return!1}function rn(r){function s(l,c,p,v,A){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Jr:Vo,this.isPropagationStopped=Vo,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),s}var Ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=rn(Ct),bi=E({},Ct,{view:0,detail:0}),zs=rn(bi),ms,Ca,Ei,Bs=E({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ei&&(Ei&&r.type==="mousemove"?(ms=r.screenX-Ei.screenX,Ca=r.screenY-Ei.screenY):Ca=ms=0,Ei=r),ms)},movementY:function(r){return"movementY"in r?r.movementY:Ca}}),lr=rn(Bs),Oa=E({},Bs,{dataTransfer:0}),zl=rn(Oa),wi=E({},bi,{relatedTarget:0}),Hi=rn(wi),ps=E({},Ct,{animationName:0,elapsedTime:0,pseudoElement:0}),qs=rn(ps),Bl=E({},Ct,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Gi=rn(Bl),Mo=E({},Ct,{data:0}),Fs=rn(Mo),$i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qi(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=yn[r])?!!s[r]:!1}function Zr(){return Qi}var Lo=E({},bi,{key:function(r){if(r.key){var s=$i[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Vr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Da[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(r){return r.type==="keypress"?Vr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Vr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yi=rn(Lo),jo=E({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Na=rn(jo),Mr=E({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Pa=rn(Mr),Ti=E({},Ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Va=rn(Ti),Ma=E({},Bs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xi=rn(Ma),Nn=E({},Ct,{newState:0,oldState:0}),Uo=rn(Nn),ql=[9,13,27,32],Lr=Rn&&"CompositionEvent"in window,f=null;Rn&&"documentMode"in document&&(f=document.documentMode);var b=Rn&&"TextEvent"in window&&!f,T=Rn&&(!Lr||f&&8<f&&11>=f),C=" ",se=!1;function pe(r,s){switch(r){case"keyup":return ql.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _t=!1;function fn(r,s){switch(r){case"compositionend":return Me(s);case"keypress":return s.which!==32?null:(se=!0,C);case"textInput":return r=s.data,r===C&&se?null:r;default:return null}}function St(r,s){if(_t)return r==="compositionend"||!Lr&&pe(r,s)?(r=Ki(),Wr=Fi=Pr=null,_t=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!vn[r.type]:s==="textarea"}function Si(r,s,l,c){_i?Kt?Kt.push(c):Kt=[c]:_i=c,s=rd(s,"onChange"),0<s.length&&(l=new ka("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var In=null,Ai=null;function zo(r){pb(r,0)}function Fl(r){var s=_r(r);if(zi(s))return r}function Bo(r,s){if(r==="change")return s}var Ri=!1;if(Rn){var Zt;if(Rn){var La="oninput"in document;if(!La){var Tr=document.createElement("div");Tr.setAttribute("oninput","return;"),La=typeof Tr.oninput=="function"}Zt=La}else Zt=!1;Ri=Zt&&(!document.documentMode||9<document.documentMode)}function bf(){In&&(In.detachEvent("onpropertychange",Kl),Ai=In=null)}function Kl(r){if(r.propertyName==="value"&&Fl(Ai)){var s=[];Si(s,Ai,r,wr(r)),ds(zo,s)}}function Ef(r,s,l){r==="focusin"?(bf(),In=s,Ai=l,In.attachEvent("onpropertychange",Kl)):r==="focusout"&&bf()}function Ks(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fl(Ai)}function sc(r,s){if(r==="click")return Fl(s)}function ja(r,s){if(r==="input"||r==="change")return Fl(s)}function gs(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ur=typeof Object.is=="function"?Object.is:gs;function d(r,s){if(ur(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Tt.call(s,p)||!ur(r[p],s[p]))return!1}return!0}function y(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _(r,s){var l=y(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=y(l)}}function w(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?w(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function R(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Or(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Or(r.document)}return s}function x(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var O=Rn&&"documentMode"in document&&11>=document.documentMode,L=null,K=null,G=null,X=!1;function B(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;X||L==null||L!==Or(c)||(c=L,"selectionStart"in c&&x(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),G&&d(G,c)||(G=c,c=rd(K,"onSelect"),0<c.length&&(s=new ka("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=L)))}function te(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var F={animationend:te("Animation","AnimationEnd"),animationiteration:te("Animation","AnimationIteration"),animationstart:te("Animation","AnimationStart"),transitionrun:te("Transition","TransitionRun"),transitionstart:te("Transition","TransitionStart"),transitioncancel:te("Transition","TransitionCancel"),transitionend:te("Transition","TransitionEnd")},Y={},ie={};Rn&&(ie=document.createElement("div").style,"AnimationEvent"in window||(delete F.animationend.animation,delete F.animationiteration.animation,delete F.animationstart.animation),"TransitionEvent"in window||delete F.transitionend.transition);function $(r){if(Y[r])return Y[r];if(!F[r])return r;var s=F[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in ie)return Y[r]=s[l];return r}var ue=$("animationend"),fe=$("animationiteration"),de=$("animationstart"),Ee=$("transitionrun"),Oe=$("transitionstart"),Le=$("transitioncancel"),ke=$("transitionend"),Pe=new Map,je="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");je.push("scrollEnd");function Ce(r,s){Pe.set(r,s),Cr(s,[r])}var Be=new WeakMap;function Je(r,s){if(typeof r=="object"&&r!==null){var l=Be.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Us(s)},Be.set(r,s),s)}return{value:r,source:s,stack:Us(s)}}var tt=[],ht=0,er=0;function it(){for(var r=ht,s=er=ht=0;s<r;){var l=tt[s];tt[s++]=null;var c=tt[s];tt[s++]=null;var p=tt[s];tt[s++]=null;var v=tt[s];if(tt[s++]=null,c!==null&&p!==null){var A=c.pending;A===null?p.next=p:(p.next=A.next,A.next=p),c.pending=p}v!==0&&Fn(l,p,v)}}function _n(r,s,l,c){tt[ht++]=r,tt[ht++]=s,tt[ht++]=l,tt[ht++]=c,er|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function xn(r,s,l,c){return _n(r,s,l,c),Ii(r)}function Wi(r,s){return _n(r,null,null,s),Ii(r)}function Fn(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,v=r.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(p=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,p&&s!==null&&(p=31-hn(l),r=v.hiddenUpdates,c=r[p],c===null?r[p]=[s]:c.push(s),s.lane=l|536870912),v):null}function Ii(r){if(50<Cc)throw Cc=0,rg=null,Error(n(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ys={};function LR(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(r,s,l,c){return new LR(r,s,l,c)}function Jm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Hs(r,s){var l=r.alternate;return l===null?(l=ei(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function e_(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function wf(r,s,l,c,p,v){var A=0;if(c=r,typeof r=="function")Jm(r)&&(A=1);else if(typeof r=="string")A=UI(r,l,Ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case V:return r=ei(31,l,s,p),r.elementType=V,r.lanes=v,r;case N:return qo(l.children,p,v,s);case Z:A=8,p|=24;break;case ne:return r=ei(12,l,s,p|2),r.elementType=ne,r.lanes=v,r;case Ae:return r=ei(13,l,s,p),r.elementType=Ae,r.lanes=v,r;case De:return r=ei(19,l,s,p),r.elementType=De,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ge:case re:A=10;break e;case _e:A=9;break e;case ve:A=11;break e;case M:A=14;break e;case D:A=16,c=null;break e}A=29,l=Error(n(130,r===null?"null":typeof r,"")),c=null}return s=ei(A,l,s,p),s.elementType=r,s.type=c,s.lanes=v,s}function qo(r,s,l,c){return r=ei(7,r,c,s),r.lanes=l,r}function Zm(r,s,l){return r=ei(6,r,null,s),r.lanes=l,r}function ep(r,s,l){return s=ei(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Hl=[],Gl=0,Tf=null,Sf=0,xi=[],ki=0,Fo=null,Gs=1,$s="";function Ko(r,s){Hl[Gl++]=Sf,Hl[Gl++]=Tf,Tf=r,Sf=s}function t_(r,s,l){xi[ki++]=Gs,xi[ki++]=$s,xi[ki++]=Fo,Fo=r;var c=Gs;r=$s;var p=32-hn(c)-1;c&=~(1<<p),l+=1;var v=32-hn(s)+p;if(30<v){var A=p-p%5;v=(c&(1<<A)-1).toString(32),c>>=A,p-=A,Gs=1<<32-hn(s)+p|l<<p|c,$s=v+r}else Gs=1<<v|l<<p|c,$s=r}function tp(r){r.return!==null&&(Ko(r,1),t_(r,1,0))}function np(r){for(;r===Tf;)Tf=Hl[--Gl],Hl[Gl]=null,Sf=Hl[--Gl],Hl[Gl]=null;for(;r===Fo;)Fo=xi[--ki],xi[ki]=null,$s=xi[--ki],xi[ki]=null,Gs=xi[--ki],xi[ki]=null}var Sr=null,dn=null,Pt=!1,Ho=null,vs=!1,rp=Error(n(519));function Go(r){var s=Error(n(418,""));throw lc(Je(s,r)),rp}function n_(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[tn]=r,s[ct]=c,l){case"dialog":Et("cancel",s),Et("close",s);break;case"iframe":case"object":case"embed":Et("load",s);break;case"video":case"audio":for(l=0;l<Dc.length;l++)Et(Dc[l],s);break;case"source":Et("error",s);break;case"img":case"image":case"link":Et("error",s),Et("load",s);break;case"details":Et("toggle",s);break;case"input":Et("invalid",s),cs(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),yi(s);break;case"select":Et("invalid",s);break;case"textarea":Et("invalid",s),hs(s,c.value,c.defaultValue,c.children),yi(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||_b(s.textContent,l)?(c.popover!=null&&(Et("beforetoggle",s),Et("toggle",s)),c.onScroll!=null&&Et("scroll",s),c.onScrollEnd!=null&&Et("scrollend",s),c.onClick!=null&&(s.onclick=id),s=!0):s=!1,s||Go(r)}function r_(r){for(Sr=r.return;Sr;)switch(Sr.tag){case 5:case 13:vs=!1;return;case 27:case 3:vs=!0;return;default:Sr=Sr.return}}function ac(r){if(r!==Sr)return!1;if(!Pt)return r_(r),Pt=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||_g(r.type,r.memoizedProps)),l=!l),l&&dn&&Go(r),r_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(s===0){dn=Zi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;r=r.nextSibling}dn=null}}else s===27?(s=dn,eo(r.type)?(r=Tg,Tg=null,dn=r):dn=s):dn=Sr?Zi(r.stateNode.nextSibling):null;return!0}function oc(){dn=Sr=null,Pt=!1}function i_(){var r=Ho;return r!==null&&(zr===null?zr=r:zr.push.apply(zr,r),Ho=null),r}function lc(r){Ho===null?Ho=[r]:Ho.push(r)}var ip=be(null),$o=null,Qs=null;function Ua(r,s,l){Ie(ip,s._currentValue),s._currentValue=l}function Ys(r){r._currentValue=ip.current,Ve(ip)}function sp(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function ap(r,s,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var v=p.dependencies;if(v!==null){var A=p.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=p;for(var U=0;U<s.length;U++)if(k.context===s[U]){v.lanes|=l,k=v.alternate,k!==null&&(k.lanes|=l),sp(v.return,l,r),c||(A=null);break e}v=k.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(n(341));A.lanes|=l,v=A.alternate,v!==null&&(v.lanes|=l),sp(A,l,r),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===r){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function uc(r,s,l,c){r=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var k=p.type;ur(p.pendingProps.value,A.value)||(r!==null?r.push(k):r=[k])}}else if(p===cn.current){if(A=p.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(jc):r=[jc])}p=p.return}r!==null&&ap(s,r,l,c),s.flags|=262144}function Af(r){for(r=r.firstContext;r!==null;){if(!ur(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qo(r){$o=r,Qs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function cr(r){return s_($o,r)}function Rf(r,s){return $o===null&&Qo(r),s_(r,s)}function s_(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Qs===null){if(r===null)throw Error(n(308));Qs=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Qs=Qs.next=s;return l}var jR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},UR=i.unstable_scheduleCallback,zR=i.unstable_NormalPriority,Pn={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new jR,data:new Map,refCount:0}}function cc(r){r.refCount--,r.refCount===0&&UR(zR,function(){r.controller.abort()})}var hc=null,lp=0,$l=0,Ql=null;function BR(r,s){if(hc===null){var l=hc=[];lp=0,$l=cg(),Ql={status:"pending",value:void 0,then:function(c){l.push(c)}}}return lp++,s.then(a_,a_),s}function a_(){if(--lp===0&&hc!==null){Ql!==null&&(Ql.status="fulfilled");var r=hc;hc=null,$l=0,Ql=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function qR(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var o_=ye.S;ye.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&BR(r,s),o_!==null&&o_(r,s)};var Yo=be(null);function up(){var r=Yo.current;return r!==null?r:Jt.pooledCache}function If(r,s){s===null?Ie(Yo,Yo.current):Ie(Yo,s.pool)}function l_(){var r=up();return r===null?null:{parent:Pn._currentValue,pool:r}}var fc=Error(n(460)),u_=Error(n(474)),xf=Error(n(542)),cp={then:function(){}};function c_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function kf(){}function h_(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(kf,kf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,d_(r),r;default:if(typeof s.status=="string")s.then(kf,kf);else{if(r=Jt,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,d_(r),r}throw dc=s,fc}}var dc=null;function f_(){if(dc===null)throw Error(n(459));var r=dc;return dc=null,r}function d_(r){if(r===fc||r===xf)throw Error(n(483))}var za=!1;function hp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ba(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qa(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ut&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Ii(r),Fn(r,null,l),s}return _n(r,c,s,l),Ii(r)}function mc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Vs(r,l)}}function dp(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?p=v=A:v=v.next=A,l=l.next}while(l!==null);v===null?p=v=s:v=v.next=s}else p=v=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var mp=!1;function pc(){if(mp){var r=Ql;if(r!==null)throw r}}function gc(r,s,l,c){mp=!1;var p=r.updateQueue;za=!1;var v=p.firstBaseUpdate,A=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var U=k,le=U.next;U.next=null,A===null?v=le:A.next=le,A=U;var we=r.alternate;we!==null&&(we=we.updateQueue,k=we.lastBaseUpdate,k!==A&&(k===null?we.firstBaseUpdate=le:k.next=le,we.lastBaseUpdate=U))}if(v!==null){var Se=p.baseState;A=0,we=le=U=null,k=v;do{var ce=k.lane&-536870913,he=ce!==k.lane;if(he?(xt&ce)===ce:(c&ce)===ce){ce!==0&&ce===$l&&(mp=!0),we!==null&&(we=we.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var st=r,nt=k;ce=s;var $t=l;switch(nt.tag){case 1:if(st=nt.payload,typeof st=="function"){Se=st.call($t,Se,ce);break e}Se=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=nt.payload,ce=typeof st=="function"?st.call($t,Se,ce):st,ce==null)break e;Se=E({},Se,ce);break e;case 2:za=!0}}ce=k.callback,ce!==null&&(r.flags|=64,he&&(r.flags|=8192),he=p.callbacks,he===null?p.callbacks=[ce]:he.push(ce))}else he={lane:ce,tag:k.tag,payload:k.payload,callback:k.callback,next:null},we===null?(le=we=he,U=Se):we=we.next=he,A|=ce;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;he=k,k=he.next,he.next=null,p.lastBaseUpdate=he,p.shared.pending=null}}while(!0);we===null&&(U=Se),p.baseState=U,p.firstBaseUpdate=le,p.lastBaseUpdate=we,v===null&&(p.shared.lanes=0),Xa|=A,r.lanes=A,r.memoizedState=Se}}function m_(r,s){if(typeof r!="function")throw Error(n(191,r));r.call(s)}function p_(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)m_(l[r],s)}var Yl=be(null),Cf=be(0);function g_(r,s){r=na,Ie(Cf,r),Ie(Yl,s),na=r|s.baseLanes}function pp(){Ie(Cf,na),Ie(Yl,Yl.current)}function gp(){na=Cf.current,Ve(Yl),Ve(Cf)}var Fa=0,gt=null,Ht=null,kn=null,Of=!1,Xl=!1,Xo=!1,Df=0,yc=0,Wl=null,FR=0;function bn(){throw Error(n(321))}function yp(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!ur(r[l],s[l]))return!1;return!0}function vp(r,s,l,c,p,v){return Fa=v,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ye.H=r===null||r.memoizedState===null?Z_:e0,Xo=!1,v=l(c,p),Xo=!1,Xl&&(v=v_(s,l,c,p)),y_(r),v}function y_(r){ye.H=jf;var s=Ht!==null&&Ht.next!==null;if(Fa=0,kn=Ht=gt=null,Of=!1,yc=0,Wl=null,s)throw Error(n(300));r===null||Kn||(r=r.dependencies,r!==null&&Af(r)&&(Kn=!0))}function v_(r,s,l,c){gt=r;var p=0;do{if(Xl&&(Wl=null),yc=0,Xl=!1,25<=p)throw Error(n(301));if(p+=1,kn=Ht=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ye.H=XR,v=s(l,c)}while(Xl);return v}function KR(){var r=ye.H,s=r.useState()[0];return s=typeof s.then=="function"?vc(s):s,r=r.useState()[0],(Ht!==null?Ht.memoizedState:null)!==r&&(gt.flags|=1024),s}function _p(){var r=Df!==0;return Df=0,r}function bp(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function Ep(r){if(Of){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Of=!1}Fa=0,kn=Ht=gt=null,Xl=!1,yc=Df=0,Wl=null}function jr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?gt.memoizedState=kn=r:kn=kn.next=r,kn}function Cn(){if(Ht===null){var r=gt.alternate;r=r!==null?r.memoizedState:null}else r=Ht.next;var s=kn===null?gt.memoizedState:kn.next;if(s!==null)kn=s,Ht=r;else{if(r===null)throw gt.alternate===null?Error(n(467)):Error(n(310));Ht=r,r={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},kn===null?gt.memoizedState=kn=r:kn=kn.next=r}return kn}function wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vc(r){var s=yc;return yc+=1,Wl===null&&(Wl=[]),r=h_(Wl,r,s),s=gt,(kn===null?s.memoizedState:kn.next)===null&&(s=s.alternate,ye.H=s===null||s.memoizedState===null?Z_:e0),r}function Nf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return vc(r);if(r.$$typeof===re)return cr(r)}throw Error(n(438,String(r)))}function Tp(r){var s=null,l=gt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=gt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=wp(),gt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=z;return s.index++,l}function Xs(r,s){return typeof s=="function"?s(r):s}function Pf(r){var s=Cn();return Sp(s,Ht,r)}function Sp(r,s,l){var c=r.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=l;var p=r.baseQueue,v=c.pending;if(v!==null){if(p!==null){var A=p.next;p.next=v.next,v.next=A}s.baseQueue=p=v,c.pending=null}if(v=r.baseState,p===null)r.memoizedState=v;else{s=p.next;var k=A=null,U=null,le=s,we=!1;do{var Se=le.lane&-536870913;if(Se!==le.lane?(xt&Se)===Se:(Fa&Se)===Se){var ce=le.revertLane;if(ce===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Se===$l&&(we=!0);else if((Fa&ce)===ce){le=le.next,ce===$l&&(we=!0);continue}else Se={lane:0,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},U===null?(k=U=Se,A=v):U=U.next=Se,gt.lanes|=ce,Xa|=ce;Se=le.action,Xo&&l(v,Se),v=le.hasEagerState?le.eagerState:l(v,Se)}else ce={lane:Se,revertLane:le.revertLane,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},U===null?(k=U=ce,A=v):U=U.next=ce,gt.lanes|=Se,Xa|=Se;le=le.next}while(le!==null&&le!==s);if(U===null?A=v:U.next=k,!ur(v,r.memoizedState)&&(Kn=!0,we&&(l=Ql,l!==null)))throw l;r.memoizedState=v,r.baseState=A,r.baseQueue=U,c.lastRenderedState=v}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Ap(r){var s=Cn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,v=s.memoizedState;if(p!==null){l.pending=null;var A=p=p.next;do v=r(v,A.action),A=A.next;while(A!==p);ur(v,s.memoizedState)||(Kn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,c]}function __(r,s,l){var c=gt,p=Cn(),v=Pt;if(v){if(l===void 0)throw Error(n(407));l=l()}else l=s();var A=!ur((Ht||p).memoizedState,l);A&&(p.memoizedState=l,Kn=!0),p=p.queue;var k=w_.bind(null,c,p,r);if(_c(2048,8,k,[r]),p.getSnapshot!==s||A||kn!==null&&kn.memoizedState.tag&1){if(c.flags|=2048,Jl(9,Vf(),E_.bind(null,c,p,l,s),null),Jt===null)throw Error(n(349));v||(Fa&124)!==0||b_(c,s,l)}return l}function b_(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=gt.updateQueue,s===null?(s=wp(),gt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function E_(r,s,l,c){s.value=l,s.getSnapshot=c,T_(s)&&S_(r)}function w_(r,s,l){return l(function(){T_(s)&&S_(r)})}function T_(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!ur(r,l)}catch{return!0}}function S_(r){var s=Wi(r,2);s!==null&&si(s,r,2)}function Rp(r){var s=jr();if(typeof r=="function"){var l=r;if(r=l(),Xo){Yn(!0);try{l()}finally{Yn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:r},s}function A_(r,s,l,c){return r.baseState=l,Sp(r,Ht,typeof c=="function"?c:Xs)}function HR(r,s,l,c,p){if(Lf(r))throw Error(n(485));if(r=s.action,r!==null){var v={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};ye.T!==null?l(!0):v.isTransition=!1,c(v),l=s.pending,l===null?(v.next=s.pending=v,R_(s,v)):(v.next=l.next,s.pending=l.next=v)}}function R_(r,s){var l=s.action,c=s.payload,p=r.state;if(s.isTransition){var v=ye.T,A={};ye.T=A;try{var k=l(p,c),U=ye.S;U!==null&&U(A,k),I_(r,s,k)}catch(le){Ip(r,s,le)}finally{ye.T=v}}else try{v=l(p,c),I_(r,s,v)}catch(le){Ip(r,s,le)}}function I_(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){x_(r,s,c)},function(c){return Ip(r,s,c)}):x_(r,s,l)}function x_(r,s,l){s.status="fulfilled",s.value=l,k_(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,R_(r,l)))}function Ip(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,k_(s),s=s.next;while(s!==c)}r.action=null}function k_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function C_(r,s){return s}function O_(r,s){if(Pt){var l=Jt.formState;if(l!==null){e:{var c=gt;if(Pt){if(dn){t:{for(var p=dn,v=vs;p.nodeType!==8;){if(!v){p=null;break t}if(p=Zi(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){dn=Zi(p.nextSibling),c=p.data==="F!";break e}}Go(c)}c=!1}c&&(s=l[0])}}return l=jr(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:s},l.queue=c,l=X_.bind(null,gt,c),c.dispatch=l,c=Rp(!1),v=Dp.bind(null,gt,!1,c.queue),c=jr(),p={state:s,dispatch:null,action:r,pending:null},c.queue=p,l=HR.bind(null,gt,p,v,l),p.dispatch=l,c.memoizedState=r,[s,l,!1]}function D_(r){var s=Cn();return N_(s,Ht,r)}function N_(r,s,l){if(s=Sp(r,s,C_)[0],r=Pf(Xs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=vc(s)}catch(A){throw A===fc?xf:A}else c=s;s=Cn();var p=s.queue,v=p.dispatch;return l!==s.memoizedState&&(gt.flags|=2048,Jl(9,Vf(),GR.bind(null,p,l),null)),[c,v,r]}function GR(r,s){r.action=s}function P_(r){var s=Cn(),l=Ht;if(l!==null)return N_(s,l,r);Cn(),s=s.memoizedState,l=Cn();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function Jl(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=gt.updateQueue,s===null&&(s=wp(),gt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function Vf(){return{destroy:void 0,resource:void 0}}function V_(){return Cn().memoizedState}function Mf(r,s,l,c){var p=jr();c=c===void 0?null:c,gt.flags|=r,p.memoizedState=Jl(1|s,Vf(),l,c)}function _c(r,s,l,c){var p=Cn();c=c===void 0?null:c;var v=p.memoizedState.inst;Ht!==null&&c!==null&&yp(c,Ht.memoizedState.deps)?p.memoizedState=Jl(s,v,l,c):(gt.flags|=r,p.memoizedState=Jl(1|s,v,l,c))}function M_(r,s){Mf(8390656,8,r,s)}function L_(r,s){_c(2048,8,r,s)}function j_(r,s){return _c(4,2,r,s)}function U_(r,s){return _c(4,4,r,s)}function z_(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function B_(r,s,l){l=l!=null?l.concat([r]):null,_c(4,4,z_.bind(null,s,r),l)}function xp(){}function q_(r,s){var l=Cn();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&yp(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function F_(r,s){var l=Cn();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&yp(s,c[1]))return c[0];if(c=r(),Xo){Yn(!0);try{r()}finally{Yn(!1)}}return l.memoizedState=[c,s],c}function kp(r,s,l){return l===void 0||(Fa&1073741824)!==0?r.memoizedState=s:(r.memoizedState=l,r=G0(),gt.lanes|=r,Xa|=r,l)}function K_(r,s,l,c){return ur(l,s)?l:Yl.current!==null?(r=kp(r,l,c),ur(r,s)||(Kn=!0),r):(Fa&42)===0?(Kn=!0,r.memoizedState=l):(r=G0(),gt.lanes|=r,Xa|=r,s)}function H_(r,s,l,c,p){var v=Ne.p;Ne.p=v!==0&&8>v?v:8;var A=ye.T,k={};ye.T=k,Dp(r,!1,s,l);try{var U=p(),le=ye.S;if(le!==null&&le(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var we=qR(U,c);bc(r,s,we,ii(r))}else bc(r,s,c,ii(r))}catch(Se){bc(r,s,{then:function(){},status:"rejected",reason:Se},ii())}finally{Ne.p=v,ye.T=A}}function $R(){}function Cp(r,s,l,c){if(r.tag!==5)throw Error(n(476));var p=G_(r).queue;H_(r,p,s,qe,l===null?$R:function(){return $_(r),l(c)})}function G_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:qe,baseState:qe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:qe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function $_(r){var s=G_(r).next.queue;bc(r,s,{},ii())}function Op(){return cr(jc)}function Q_(){return Cn().memoizedState}function Y_(){return Cn().memoizedState}function QR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=ii();r=Ba(l);var c=qa(s,r,l);c!==null&&(si(c,s,l),mc(c,s,l)),s={cache:op()},r.payload=s;return}s=s.return}}function YR(r,s,l){var c=ii();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Lf(r)?W_(s,l):(l=xn(r,s,l,c),l!==null&&(si(l,r,c),J_(l,s,c)))}function X_(r,s,l){var c=ii();bc(r,s,l,c)}function bc(r,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lf(r))W_(s,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,k=v(A,l);if(p.hasEagerState=!0,p.eagerState=k,ur(k,A))return _n(r,s,p,0),Jt===null&&it(),!1}catch{}finally{}if(l=xn(r,s,p,c),l!==null)return si(l,r,c),J_(l,s,c),!0}return!1}function Dp(r,s,l,c){if(c={lane:2,revertLane:cg(),action:c,hasEagerState:!1,eagerState:null,next:null},Lf(r)){if(s)throw Error(n(479))}else s=xn(r,l,c,2),s!==null&&si(s,r,2)}function Lf(r){var s=r.alternate;return r===gt||s!==null&&s===gt}function W_(r,s){Xl=Of=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function J_(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Vs(r,l)}}var jf={readContext:cr,use:Nf,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn},Z_={readContext:cr,use:Nf,useCallback:function(r,s){return jr().memoizedState=[r,s===void 0?null:s],r},useContext:cr,useEffect:M_,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Mf(4194308,4,z_.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Mf(4194308,4,r,s)},useInsertionEffect:function(r,s){Mf(4,2,r,s)},useMemo:function(r,s){var l=jr();s=s===void 0?null:s;var c=r();if(Xo){Yn(!0);try{r()}finally{Yn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=jr();if(l!==void 0){var p=l(s);if(Xo){Yn(!0);try{l(s)}finally{Yn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=YR.bind(null,gt,r),[c.memoizedState,r]},useRef:function(r){var s=jr();return r={current:r},s.memoizedState=r},useState:function(r){r=Rp(r);var s=r.queue,l=X_.bind(null,gt,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:xp,useDeferredValue:function(r,s){var l=jr();return kp(l,r,s)},useTransition:function(){var r=Rp(!1);return r=H_.bind(null,gt,r.queue,!0,!1),jr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=gt,p=jr();if(Pt){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Jt===null)throw Error(n(349));(xt&124)!==0||b_(c,s,l)}p.memoizedState=l;var v={value:l,getSnapshot:s};return p.queue=v,M_(w_.bind(null,c,v,r),[r]),c.flags|=2048,Jl(9,Vf(),E_.bind(null,c,v,l,s),null),l},useId:function(){var r=jr(),s=Jt.identifierPrefix;if(Pt){var l=$s,c=Gs;l=(c&~(1<<32-hn(c)-1)).toString(32)+l,s=""+s+"R"+l,l=Df++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=FR++,s=""+s+"r"+l.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Op,useFormState:O_,useActionState:O_,useOptimistic:function(r){var s=jr();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Dp.bind(null,gt,!0,l),l.dispatch=s,[r,s]},useMemoCache:Tp,useCacheRefresh:function(){return jr().memoizedState=QR.bind(null,gt)}},e0={readContext:cr,use:Nf,useCallback:q_,useContext:cr,useEffect:L_,useImperativeHandle:B_,useInsertionEffect:j_,useLayoutEffect:U_,useMemo:F_,useReducer:Pf,useRef:V_,useState:function(){return Pf(Xs)},useDebugValue:xp,useDeferredValue:function(r,s){var l=Cn();return K_(l,Ht.memoizedState,r,s)},useTransition:function(){var r=Pf(Xs)[0],s=Cn().memoizedState;return[typeof r=="boolean"?r:vc(r),s]},useSyncExternalStore:__,useId:Q_,useHostTransitionStatus:Op,useFormState:D_,useActionState:D_,useOptimistic:function(r,s){var l=Cn();return A_(l,Ht,r,s)},useMemoCache:Tp,useCacheRefresh:Y_},XR={readContext:cr,use:Nf,useCallback:q_,useContext:cr,useEffect:L_,useImperativeHandle:B_,useInsertionEffect:j_,useLayoutEffect:U_,useMemo:F_,useReducer:Ap,useRef:V_,useState:function(){return Ap(Xs)},useDebugValue:xp,useDeferredValue:function(r,s){var l=Cn();return Ht===null?kp(l,r,s):K_(l,Ht.memoizedState,r,s)},useTransition:function(){var r=Ap(Xs)[0],s=Cn().memoizedState;return[typeof r=="boolean"?r:vc(r),s]},useSyncExternalStore:__,useId:Q_,useHostTransitionStatus:Op,useFormState:P_,useActionState:P_,useOptimistic:function(r,s){var l=Cn();return Ht!==null?A_(l,Ht,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Tp,useCacheRefresh:Y_},Zl=null,Ec=0;function Uf(r){var s=Ec;return Ec+=1,Zl===null&&(Zl=[]),h_(Zl,r,s)}function wc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function zf(r,s){throw s.$$typeof===S?Error(n(525)):(r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function t0(r){var s=r._init;return s(r._payload)}function n0(r){function s(ee,H){if(r){var oe=ee.deletions;oe===null?(ee.deletions=[H],ee.flags|=16):oe.push(H)}}function l(ee,H){if(!r)return null;for(;H!==null;)s(ee,H),H=H.sibling;return null}function c(ee){for(var H=new Map;ee!==null;)ee.key!==null?H.set(ee.key,ee):H.set(ee.index,ee),ee=ee.sibling;return H}function p(ee,H){return ee=Hs(ee,H),ee.index=0,ee.sibling=null,ee}function v(ee,H,oe){return ee.index=oe,r?(oe=ee.alternate,oe!==null?(oe=oe.index,oe<H?(ee.flags|=67108866,H):oe):(ee.flags|=67108866,H)):(ee.flags|=1048576,H)}function A(ee){return r&&ee.alternate===null&&(ee.flags|=67108866),ee}function k(ee,H,oe,Te){return H===null||H.tag!==6?(H=Zm(oe,ee.mode,Te),H.return=ee,H):(H=p(H,oe),H.return=ee,H)}function U(ee,H,oe,Te){var He=oe.type;return He===N?we(ee,H,oe.props.children,Te,oe.key):H!==null&&(H.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===D&&t0(He)===H.type)?(H=p(H,oe.props),wc(H,oe),H.return=ee,H):(H=wf(oe.type,oe.key,oe.props,null,ee.mode,Te),wc(H,oe),H.return=ee,H)}function le(ee,H,oe,Te){return H===null||H.tag!==4||H.stateNode.containerInfo!==oe.containerInfo||H.stateNode.implementation!==oe.implementation?(H=ep(oe,ee.mode,Te),H.return=ee,H):(H=p(H,oe.children||[]),H.return=ee,H)}function we(ee,H,oe,Te,He){return H===null||H.tag!==7?(H=qo(oe,ee.mode,Te,He),H.return=ee,H):(H=p(H,oe),H.return=ee,H)}function Se(ee,H,oe){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Zm(""+H,ee.mode,oe),H.return=ee,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return oe=wf(H.type,H.key,H.props,null,ee.mode,oe),wc(oe,H),oe.return=ee,oe;case P:return H=ep(H,ee.mode,oe),H.return=ee,H;case D:var Te=H._init;return H=Te(H._payload),Se(ee,H,oe)}if(Lt(H)||J(H))return H=qo(H,ee.mode,oe,null),H.return=ee,H;if(typeof H.then=="function")return Se(ee,Uf(H),oe);if(H.$$typeof===re)return Se(ee,Rf(ee,H),oe);zf(ee,H)}return null}function ce(ee,H,oe,Te){var He=H!==null?H.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return He!==null?null:k(ee,H,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case I:return oe.key===He?U(ee,H,oe,Te):null;case P:return oe.key===He?le(ee,H,oe,Te):null;case D:return He=oe._init,oe=He(oe._payload),ce(ee,H,oe,Te)}if(Lt(oe)||J(oe))return He!==null?null:we(ee,H,oe,Te,null);if(typeof oe.then=="function")return ce(ee,H,Uf(oe),Te);if(oe.$$typeof===re)return ce(ee,H,Rf(ee,oe),Te);zf(ee,oe)}return null}function he(ee,H,oe,Te,He){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ee=ee.get(oe)||null,k(H,ee,""+Te,He);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case I:return ee=ee.get(Te.key===null?oe:Te.key)||null,U(H,ee,Te,He);case P:return ee=ee.get(Te.key===null?oe:Te.key)||null,le(H,ee,Te,He);case D:var yt=Te._init;return Te=yt(Te._payload),he(ee,H,oe,Te,He)}if(Lt(Te)||J(Te))return ee=ee.get(oe)||null,we(H,ee,Te,He,null);if(typeof Te.then=="function")return he(ee,H,oe,Uf(Te),He);if(Te.$$typeof===re)return he(ee,H,oe,Rf(H,Te),He);zf(H,Te)}return null}function st(ee,H,oe,Te){for(var He=null,yt=null,We=H,rt=H=0,Gn=null;We!==null&&rt<oe.length;rt++){We.index>rt?(Gn=We,We=null):Gn=We.sibling;var Ot=ce(ee,We,oe[rt],Te);if(Ot===null){We===null&&(We=Gn);break}r&&We&&Ot.alternate===null&&s(ee,We),H=v(Ot,H,rt),yt===null?He=Ot:yt.sibling=Ot,yt=Ot,We=Gn}if(rt===oe.length)return l(ee,We),Pt&&Ko(ee,rt),He;if(We===null){for(;rt<oe.length;rt++)We=Se(ee,oe[rt],Te),We!==null&&(H=v(We,H,rt),yt===null?He=We:yt.sibling=We,yt=We);return Pt&&Ko(ee,rt),He}for(We=c(We);rt<oe.length;rt++)Gn=he(We,ee,rt,oe[rt],Te),Gn!==null&&(r&&Gn.alternate!==null&&We.delete(Gn.key===null?rt:Gn.key),H=v(Gn,H,rt),yt===null?He=Gn:yt.sibling=Gn,yt=Gn);return r&&We.forEach(function(so){return s(ee,so)}),Pt&&Ko(ee,rt),He}function nt(ee,H,oe,Te){if(oe==null)throw Error(n(151));for(var He=null,yt=null,We=H,rt=H=0,Gn=null,Ot=oe.next();We!==null&&!Ot.done;rt++,Ot=oe.next()){We.index>rt?(Gn=We,We=null):Gn=We.sibling;var so=ce(ee,We,Ot.value,Te);if(so===null){We===null&&(We=Gn);break}r&&We&&so.alternate===null&&s(ee,We),H=v(so,H,rt),yt===null?He=so:yt.sibling=so,yt=so,We=Gn}if(Ot.done)return l(ee,We),Pt&&Ko(ee,rt),He;if(We===null){for(;!Ot.done;rt++,Ot=oe.next())Ot=Se(ee,Ot.value,Te),Ot!==null&&(H=v(Ot,H,rt),yt===null?He=Ot:yt.sibling=Ot,yt=Ot);return Pt&&Ko(ee,rt),He}for(We=c(We);!Ot.done;rt++,Ot=oe.next())Ot=he(We,ee,rt,Ot.value,Te),Ot!==null&&(r&&Ot.alternate!==null&&We.delete(Ot.key===null?rt:Ot.key),H=v(Ot,H,rt),yt===null?He=Ot:yt.sibling=Ot,yt=Ot);return r&&We.forEach(function(WI){return s(ee,WI)}),Pt&&Ko(ee,rt),He}function $t(ee,H,oe,Te){if(typeof oe=="object"&&oe!==null&&oe.type===N&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case I:e:{for(var He=oe.key;H!==null;){if(H.key===He){if(He=oe.type,He===N){if(H.tag===7){l(ee,H.sibling),Te=p(H,oe.props.children),Te.return=ee,ee=Te;break e}}else if(H.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===D&&t0(He)===H.type){l(ee,H.sibling),Te=p(H,oe.props),wc(Te,oe),Te.return=ee,ee=Te;break e}l(ee,H);break}else s(ee,H);H=H.sibling}oe.type===N?(Te=qo(oe.props.children,ee.mode,Te,oe.key),Te.return=ee,ee=Te):(Te=wf(oe.type,oe.key,oe.props,null,ee.mode,Te),wc(Te,oe),Te.return=ee,ee=Te)}return A(ee);case P:e:{for(He=oe.key;H!==null;){if(H.key===He)if(H.tag===4&&H.stateNode.containerInfo===oe.containerInfo&&H.stateNode.implementation===oe.implementation){l(ee,H.sibling),Te=p(H,oe.children||[]),Te.return=ee,ee=Te;break e}else{l(ee,H);break}else s(ee,H);H=H.sibling}Te=ep(oe,ee.mode,Te),Te.return=ee,ee=Te}return A(ee);case D:return He=oe._init,oe=He(oe._payload),$t(ee,H,oe,Te)}if(Lt(oe))return st(ee,H,oe,Te);if(J(oe)){if(He=J(oe),typeof He!="function")throw Error(n(150));return oe=He.call(oe),nt(ee,H,oe,Te)}if(typeof oe.then=="function")return $t(ee,H,Uf(oe),Te);if(oe.$$typeof===re)return $t(ee,H,Rf(ee,oe),Te);zf(ee,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,H!==null&&H.tag===6?(l(ee,H.sibling),Te=p(H,oe),Te.return=ee,ee=Te):(l(ee,H),Te=Zm(oe,ee.mode,Te),Te.return=ee,ee=Te),A(ee)):l(ee,H)}return function(ee,H,oe,Te){try{Ec=0;var He=$t(ee,H,oe,Te);return Zl=null,He}catch(We){if(We===fc||We===xf)throw We;var yt=ei(29,We,null,ee.mode);return yt.lanes=Te,yt.return=ee,yt}finally{}}}var eu=n0(!0),r0=n0(!1),Ci=be(null),_s=null;function Ka(r){var s=r.alternate;Ie(Vn,Vn.current&1),Ie(Ci,r),_s===null&&(s===null||Yl.current!==null||s.memoizedState!==null)&&(_s=r)}function i0(r){if(r.tag===22){if(Ie(Vn,Vn.current),Ie(Ci,r),_s===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(_s=r)}}else Ha()}function Ha(){Ie(Vn,Vn.current),Ie(Ci,Ci.current)}function Ws(r){Ve(Ci),_s===r&&(_s=null),Ve(Vn)}var Vn=be(0);function Bf(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||wg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Np(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:E({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Pp={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=ii(),p=Ba(c);p.payload=s,l!=null&&(p.callback=l),s=qa(r,p,c),s!==null&&(si(s,r,c),mc(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=ii(),p=Ba(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=qa(r,p,c),s!==null&&(si(s,r,c),mc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=ii(),c=Ba(l);c.tag=2,s!=null&&(c.callback=s),s=qa(r,c,l),s!==null&&(si(s,r,l),mc(s,r,l))}};function s0(r,s,l,c,p,v,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,v,A):s.prototype&&s.prototype.isPureReactComponent?!d(l,c)||!d(p,v):!0}function a0(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&Pp.enqueueReplaceState(s,s.state,null)}function Wo(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=E({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var qf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function o0(r){qf(r)}function l0(r){console.error(r)}function u0(r){qf(r)}function Ff(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function c0(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vp(r,s,l){return l=Ba(l),l.tag=3,l.payload={element:null},l.callback=function(){Ff(r,s)},l}function h0(r){return r=Ba(r),r.tag=3,r}function f0(r,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var v=c.value;r.payload=function(){return p(v)},r.callback=function(){c0(s,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(r.callback=function(){c0(s,l,c),typeof p!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function WR(r,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&uc(s,l,p,!0),l=Ci.current,l!==null){switch(l.tag){case 13:return _s===null?sg():l.alternate===null&&mn===0&&(mn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===cp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),og(r,c,p)),!1;case 22:return l.flags|=65536,c===cp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),og(r,c,p)),!1}throw Error(n(435,l.tag))}return og(r,c,p),sg(),!1}if(Pt)return s=Ci.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==rp&&(r=Error(n(422),{cause:c}),lc(Je(r,l)))):(c!==rp&&(s=Error(n(423),{cause:c}),lc(Je(s,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=Je(c,l),p=Vp(r.stateNode,c,p),dp(r,p),mn!==4&&(mn=2)),!1;var v=Error(n(520),{cause:c});if(v=Je(v,l),kc===null?kc=[v]:kc.push(v),mn!==4&&(mn=2),s===null)return!0;c=Je(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Vp(l.stateNode,c,r),dp(l,r),!1;case 1:if(s=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wa===null||!Wa.has(v))))return l.flags|=65536,p&=-p,l.lanes|=p,p=h0(p),f0(p,r,l,c),dp(l,p),!1}l=l.return}while(l!==null);return!1}var d0=Error(n(461)),Kn=!1;function tr(r,s,l,c){s.child=r===null?r0(s,null,l,c):eu(s,r.child,l,c)}function m0(r,s,l,c,p){l=l.render;var v=s.ref;if("ref"in c){var A={};for(var k in c)k!=="ref"&&(A[k]=c[k])}else A=c;return Qo(s),c=vp(r,s,l,A,v,p),k=_p(),r!==null&&!Kn?(bp(r,s,p),Js(r,s,p)):(Pt&&k&&tp(s),s.flags|=1,tr(r,s,c,p),s.child)}function p0(r,s,l,c,p){if(r===null){var v=l.type;return typeof v=="function"&&!Jm(v)&&v.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=v,g0(r,s,v,c,p)):(r=wf(l.type,null,c,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,!Fp(r,p)){var A=v.memoizedProps;if(l=l.compare,l=l!==null?l:d,l(A,c)&&r.ref===s.ref)return Js(r,s,p)}return s.flags|=1,r=Hs(v,c),r.ref=s.ref,r.return=s,s.child=r}function g0(r,s,l,c,p){if(r!==null){var v=r.memoizedProps;if(d(v,c)&&r.ref===s.ref)if(Kn=!1,s.pendingProps=c=v,Fp(r,p))(r.flags&131072)!==0&&(Kn=!0);else return s.lanes=r.lanes,Js(r,s,p)}return Mp(r,s,l,c,p)}function y0(r,s,l){var c=s.pendingProps,p=c.children,v=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=v!==null?v.baseLanes|l:l,r!==null){for(p=s.child=r.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;s.childLanes=v&~c}else s.childLanes=0,s.child=null;return v0(r,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&If(s,v!==null?v.cachePool:null),v!==null?g_(s,v):pp(),i0(s);else return s.lanes=s.childLanes=536870912,v0(r,s,v!==null?v.baseLanes|l:l,l)}else v!==null?(If(s,v.cachePool),g_(s,v),Ha(),s.memoizedState=null):(r!==null&&If(s,null),pp(),Ha());return tr(r,s,p,l),s.child}function v0(r,s,l,c){var p=up();return p=p===null?null:{parent:Pn._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},r!==null&&If(s,null),pp(),i0(s),r!==null&&uc(r,s,c,!0),null}function Kf(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Mp(r,s,l,c,p){return Qo(s),l=vp(r,s,l,c,void 0,p),c=_p(),r!==null&&!Kn?(bp(r,s,p),Js(r,s,p)):(Pt&&c&&tp(s),s.flags|=1,tr(r,s,l,p),s.child)}function _0(r,s,l,c,p,v){return Qo(s),s.updateQueue=null,l=v_(s,c,l,p),y_(r),c=_p(),r!==null&&!Kn?(bp(r,s,v),Js(r,s,v)):(Pt&&c&&tp(s),s.flags|=1,tr(r,s,l,v),s.child)}function b0(r,s,l,c,p){if(Qo(s),s.stateNode===null){var v=ys,A=l.contextType;typeof A=="object"&&A!==null&&(v=cr(A)),v=new l(c,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Pp,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=c,v.state=s.memoizedState,v.refs={},hp(s),A=l.contextType,v.context=typeof A=="object"&&A!==null?cr(A):ys,v.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Np(s,l,A,c),v.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Pp.enqueueReplaceState(v,v.state,null),gc(s,c,v,p),pc(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){v=s.stateNode;var k=s.memoizedProps,U=Wo(l,k);v.props=U;var le=v.context,we=l.contextType;A=ys,typeof we=="object"&&we!==null&&(A=cr(we));var Se=l.getDerivedStateFromProps;we=typeof Se=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,we||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||le!==A)&&a0(s,v,c,A),za=!1;var ce=s.memoizedState;v.state=ce,gc(s,c,v,p),pc(),le=s.memoizedState,k||ce!==le||za?(typeof Se=="function"&&(Np(s,l,Se,c),le=s.memoizedState),(U=za||s0(s,l,U,c,ce,le,A))?(we||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=le),v.props=c,v.state=le,v.context=A,c=U):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,fp(r,s),A=s.memoizedProps,we=Wo(l,A),v.props=we,Se=s.pendingProps,ce=v.context,le=l.contextType,U=ys,typeof le=="object"&&le!==null&&(U=cr(le)),k=l.getDerivedStateFromProps,(le=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==Se||ce!==U)&&a0(s,v,c,U),za=!1,ce=s.memoizedState,v.state=ce,gc(s,c,v,p),pc();var he=s.memoizedState;A!==Se||ce!==he||za||r!==null&&r.dependencies!==null&&Af(r.dependencies)?(typeof k=="function"&&(Np(s,l,k,c),he=s.memoizedState),(we=za||s0(s,l,we,c,ce,he,U)||r!==null&&r.dependencies!==null&&Af(r.dependencies))?(le||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,he,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,he,U)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&ce===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ce===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),v.props=c,v.state=he,v.context=U,c=we):(typeof v.componentDidUpdate!="function"||A===r.memoizedProps&&ce===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ce===r.memoizedState||(s.flags|=1024),c=!1)}return v=c,Kf(r,s),c=(s.flags&128)!==0,v||c?(v=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,r!==null&&c?(s.child=eu(s,r.child,null,p),s.child=eu(s,null,l,p)):tr(r,s,l,p),s.memoizedState=v.state,r=s.child):r=Js(r,s,p),r}function E0(r,s,l,c){return oc(),s.flags|=256,tr(r,s,l,c),s.child}var Lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jp(r){return{baseLanes:r,cachePool:l_()}}function Up(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Oi),r}function w0(r,s,l){var c=s.pendingProps,p=!1,v=(s.flags&128)!==0,A;if((A=v)||(A=r!==null&&r.memoizedState===null?!1:(Vn.current&2)!==0),A&&(p=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,r===null){if(Pt){if(p?Ka(s):Ha(),Pt){var k=dn,U;if(U=k){e:{for(U=k,k=vs;U.nodeType!==8;){if(!k){k=null;break e}if(U=Zi(U.nextSibling),U===null){k=null;break e}}k=U}k!==null?(s.memoizedState={dehydrated:k,treeContext:Fo!==null?{id:Gs,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},U=ei(18,null,null,0),U.stateNode=k,U.return=s,s.child=U,Sr=s,dn=null,U=!0):U=!1}U||Go(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return wg(k)?s.lanes=32:s.lanes=536870912,null;Ws(s)}return k=c.children,c=c.fallback,p?(Ha(),p=s.mode,k=Hf({mode:"hidden",children:k},p),c=qo(c,p,l,null),k.return=s,c.return=s,k.sibling=c,s.child=k,p=s.child,p.memoizedState=jp(l),p.childLanes=Up(r,A,l),s.memoizedState=Lp,c):(Ka(s),zp(s,k))}if(U=r.memoizedState,U!==null&&(k=U.dehydrated,k!==null)){if(v)s.flags&256?(Ka(s),s.flags&=-257,s=Bp(r,s,l)):s.memoizedState!==null?(Ha(),s.child=r.child,s.flags|=128,s=null):(Ha(),p=c.fallback,k=s.mode,c=Hf({mode:"visible",children:c.children},k),p=qo(p,k,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,eu(s,r.child,null,l),c=s.child,c.memoizedState=jp(l),c.childLanes=Up(r,A,l),s.memoizedState=Lp,s=p);else if(Ka(s),wg(k)){if(A=k.nextSibling&&k.nextSibling.dataset,A)var le=A.dgst;A=le,c=Error(n(419)),c.stack="",c.digest=A,lc({value:c,source:null,stack:null}),s=Bp(r,s,l)}else if(Kn||uc(r,s,l,!1),A=(l&r.childLanes)!==0,Kn||A){if(A=Jt,A!==null&&(c=l&-l,c=(c&42)!==0?1:us(c),c=(c&(A.suspendedLanes|l))!==0?0:c,c!==0&&c!==U.retryLane))throw U.retryLane=c,Wi(r,c),si(A,r,c),d0;k.data==="$?"||sg(),s=Bp(r,s,l)}else k.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,dn=Zi(k.nextSibling),Sr=s,Pt=!0,Ho=null,vs=!1,r!==null&&(xi[ki++]=Gs,xi[ki++]=$s,xi[ki++]=Fo,Gs=r.id,$s=r.overflow,Fo=s),s=zp(s,c.children),s.flags|=4096);return s}return p?(Ha(),p=c.fallback,k=s.mode,U=r.child,le=U.sibling,c=Hs(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,le!==null?p=Hs(le,p):(p=qo(p,k,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,k=r.child.memoizedState,k===null?k=jp(l):(U=k.cachePool,U!==null?(le=Pn._currentValue,U=U.parent!==le?{parent:le,pool:le}:U):U=l_(),k={baseLanes:k.baseLanes|l,cachePool:U}),p.memoizedState=k,p.childLanes=Up(r,A,l),s.memoizedState=Lp,c):(Ka(s),l=r.child,r=l.sibling,l=Hs(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(A=s.deletions,A===null?(s.deletions=[r],s.flags|=16):A.push(r)),s.child=l,s.memoizedState=null,l)}function zp(r,s){return s=Hf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Hf(r,s){return r=ei(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Bp(r,s,l){return eu(s,r.child,null,l),r=zp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function T0(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),sp(r.return,s,l)}function qp(r,s,l,c,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=p)}function S0(r,s,l){var c=s.pendingProps,p=c.revealOrder,v=c.tail;if(tr(r,s,c.children,l),c=Vn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&T0(r,l,s);else if(r.tag===19)T0(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(Ie(Vn,c),p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Bf(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),qp(s,!1,p,l,v);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Bf(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}qp(s,!0,l,null,v);break;case"together":qp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Js(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Xa|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(uc(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Hs(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Hs(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Fp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Af(r)))}function JR(r,s,l){switch(s.tag){case 3:qt(s,s.stateNode.containerInfo),Ua(s,Pn,r.memoizedState.cache),oc();break;case 27:case 5:Vi(s);break;case 4:qt(s,s.stateNode.containerInfo);break;case 10:Ua(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ka(s),s.flags|=128,null):(l&s.child.childLanes)!==0?w0(r,s,l):(Ka(s),r=Js(r,s,l),r!==null?r.sibling:null);Ka(s);break;case 19:var p=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(uc(r,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return S0(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ie(Vn,Vn.current),c)break;return null;case 22:case 23:return s.lanes=0,y0(r,s,l);case 24:Ua(s,Pn,r.memoizedState.cache)}return Js(r,s,l)}function A0(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)Kn=!0;else{if(!Fp(r,l)&&(s.flags&128)===0)return Kn=!1,JR(r,s,l);Kn=(r.flags&131072)!==0}else Kn=!1,Pt&&(s.flags&1048576)!==0&&t_(s,Sf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Jm(c)?(r=Wo(c,r),s.tag=1,s=b0(null,s,c,r,l)):(s.tag=0,s=Mp(null,s,c,r,l));else{if(c!=null){if(p=c.$$typeof,p===ve){s.tag=11,s=m0(null,s,c,r,l);break e}else if(p===M){s.tag=14,s=p0(null,s,c,r,l);break e}}throw s=Dt(c)||c,Error(n(306,s,""))}}return s;case 0:return Mp(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=Wo(c,s.pendingProps),b0(r,s,c,p,l);case 3:e:{if(qt(s,s.stateNode.containerInfo),r===null)throw Error(n(387));c=s.pendingProps;var v=s.memoizedState;p=v.element,fp(r,s),gc(s,c,null,l);var A=s.memoizedState;if(c=A.cache,Ua(s,Pn,c),c!==v.cache&&ap(s,[Pn],l,!0),pc(),c=A.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=E0(r,s,c,l);break e}else if(c!==p){p=Je(Error(n(424)),s),lc(p),s=E0(r,s,c,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(dn=Zi(r.firstChild),Sr=s,Pt=!0,Ho=null,vs=!0,l=r0(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(oc(),c===p){s=Js(r,s,l);break e}tr(r,s,c,l)}s=s.child}return s;case 26:return Kf(r,s),r===null?(l=kb(s.type,null,s.pendingProps,null))?s.memoizedState=l:Pt||(l=s.type,r=s.pendingProps,c=sd(et.current).createElement(l),c[tn]=s,c[ct]=r,rr(c,l,r),Mt(c),s.stateNode=c):s.memoizedState=kb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Vi(s),r===null&&Pt&&(c=s.stateNode=Rb(s.type,s.pendingProps,et.current),Sr=s,vs=!0,p=dn,eo(s.type)?(Tg=p,dn=Zi(c.firstChild)):dn=p),tr(r,s,s.pendingProps.children,l),Kf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Pt&&((p=c=dn)&&(c=RI(c,s.type,s.pendingProps,vs),c!==null?(s.stateNode=c,Sr=s,dn=Zi(c.firstChild),vs=!1,p=!0):p=!1),p||Go(s)),Vi(s),p=s.type,v=s.pendingProps,A=r!==null?r.memoizedProps:null,c=v.children,_g(p,v)?c=null:A!==null&&_g(p,A)&&(s.flags|=32),s.memoizedState!==null&&(p=vp(r,s,KR,null,null,l),jc._currentValue=p),Kf(r,s),tr(r,s,c,l),s.child;case 6:return r===null&&Pt&&((r=l=dn)&&(l=II(l,s.pendingProps,vs),l!==null?(s.stateNode=l,Sr=s,dn=null,r=!0):r=!1),r||Go(s)),null;case 13:return w0(r,s,l);case 4:return qt(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=eu(s,null,c,l):tr(r,s,c,l),s.child;case 11:return m0(r,s,s.type,s.pendingProps,l);case 7:return tr(r,s,s.pendingProps,l),s.child;case 8:return tr(r,s,s.pendingProps.children,l),s.child;case 12:return tr(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Ua(s,s.type,c.value),tr(r,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Qo(s),p=cr(p),c=c(p),s.flags|=1,tr(r,s,c,l),s.child;case 14:return p0(r,s,s.type,s.pendingProps,l);case 15:return g0(r,s,s.type,s.pendingProps,l);case 19:return S0(r,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},r===null?(l=Hf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Hs(r.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return y0(r,s,l);case 24:return Qo(s),c=cr(Pn),r===null?(p=up(),p===null&&(p=Jt,v=op(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=l),p=v),s.memoizedState={parent:c,cache:p},hp(s),Ua(s,Pn,p)):((r.lanes&l)!==0&&(fp(r,s),gc(s,null,null,l),pc()),p=r.memoizedState,v=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ua(s,Pn,c)):(c=v.cache,Ua(s,Pn,c),c!==p.cache&&ap(s,[Pn],l,!0))),tr(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Zs(r){r.flags|=4}function R0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Pb(s)){if(s=Ci.current,s!==null&&((xt&4194048)===xt?_s!==null:(xt&62914560)!==xt&&(xt&536870912)===0||s!==_s))throw dc=cp,u_;r.flags|=8192}}function Gf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ue():536870912,r.lanes|=s,iu|=s)}function Tc(r,s){if(!Pt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ln(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function ZR(r,s,l){var c=s.pendingProps;switch(np(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return ln(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ys(Pn),Ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(ac(s)?Zs(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,i_())),ln(s),null;case 26:return l=s.memoizedState,r===null?(Zs(s),l!==null?(ln(s),R0(s,l)):(ln(s),s.flags&=-16777217)):l?l!==r.memoizedState?(Zs(s),ln(s),R0(s,l)):(ln(s),s.flags&=-16777217):(r.memoizedProps!==c&&Zs(s),ln(s),s.flags&=-16777217),null;case 27:Ir(s),l=et.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Zs(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return ln(s),null}r=Ye.current,ac(s)?n_(s):(r=Rb(p,c,l),s.stateNode=r,Zs(s))}return ln(s),null;case 5:if(Ir(s),l=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Zs(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return ln(s),null}if(r=Ye.current,ac(s))n_(s);else{switch(p=sd(et.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}r[tn]=s,r[ct]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(rr(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Zs(s)}}return ln(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Zs(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(r=et.current,ac(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,p=Sr,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[tn]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||_b(r.nodeValue,l)),r||Go(s)}else r=sd(r).createTextNode(c),r[tn]=s,s.stateNode=r}return ln(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=ac(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[tn]=s}else oc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ln(s),p=!1}else p=i_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ws(s),s):(Ws(s),null)}if(Ws(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==p&&(c.flags|=2048)}return l!==r&&l&&(s.child.flags|=8192),Gf(s,s.updateQueue),ln(s),null;case 4:return Ke(),r===null&&mg(s.stateNode.containerInfo),ln(s),null;case 10:return Ys(s.type),ln(s),null;case 19:if(Ve(Vn),p=s.memoizedState,p===null)return ln(s),null;if(c=(s.flags&128)!==0,v=p.rendering,v===null)if(c)Tc(p,!1);else{if(mn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(v=Bf(r),v!==null){for(s.flags|=128,Tc(p,!1),r=v.updateQueue,s.updateQueue=r,Gf(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)e_(l,r),l=l.sibling;return Ie(Vn,Vn.current&1|2),s.child}r=r.sibling}p.tail!==null&&xr()>Yf&&(s.flags|=128,c=!0,Tc(p,!1),s.lanes=4194304)}else{if(!c)if(r=Bf(v),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Gf(s,r),Tc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Pt)return ln(s),null}else 2*xr()-p.renderingStartTime>Yf&&l!==536870912&&(s.flags|=128,c=!0,Tc(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(r=p.last,r!==null?r.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=xr(),s.sibling=null,r=Vn.current,Ie(Vn,c?r&1|2:r&1),s):(ln(s),null);case 22:case 23:return Ws(s),gp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),l=s.updateQueue,l!==null&&Gf(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&Ve(Yo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ys(Pn),ln(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function eI(r,s){switch(np(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ys(Pn),Ke(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Ir(s),null;case 13:if(Ws(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));oc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ve(Vn),null;case 4:return Ke(),null;case 10:return Ys(s.type),null;case 22:case 23:return Ws(s),gp(),r!==null&&Ve(Yo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ys(Pn),null;case 25:return null;default:return null}}function I0(r,s){switch(np(s),s.tag){case 3:Ys(Pn),Ke();break;case 26:case 27:case 5:Ir(s);break;case 4:Ke();break;case 13:Ws(s);break;case 19:Ve(Vn);break;case 10:Ys(s.type);break;case 22:case 23:Ws(s),gp(),r!==null&&Ve(Yo);break;case 24:Ys(Pn)}}function Sc(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var v=l.create,A=l.inst;c=v(),A.destroy=c}l=l.next}while(l!==p)}}catch(k){Yt(s,s.return,k)}}function Ga(r,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var v=p.next;c=v;do{if((c.tag&r)===r){var A=c.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,p=s;var U=l,le=k;try{le()}catch(we){Yt(p,U,we)}}}c=c.next}while(c!==v)}}catch(we){Yt(s,s.return,we)}}function x0(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{p_(s,l)}catch(c){Yt(r,r.return,c)}}}function k0(r,s,l){l.props=Wo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){Yt(r,s,c)}}function Ac(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){Yt(r,s,p)}}function bs(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Yt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Yt(r,s,p)}else l.current=null}function C0(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Yt(r,r.return,p)}}function Kp(r,s,l){try{var c=r.stateNode;EI(c,r.type,l,s),c[ct]=s}catch(p){Yt(r,r.return,p)}}function O0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&eo(r.type)||r.tag===4}function Hp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||O0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&eo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gp(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=id));else if(c!==4&&(c===27&&eo(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Gp(r,s,l),r=r.sibling;r!==null;)Gp(r,s,l),r=r.sibling}function $f(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&eo(r.type)&&(l=r.stateNode),r=r.child,r!==null))for($f(r,s,l),r=r.sibling;r!==null;)$f(r,s,l),r=r.sibling}function D0(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);rr(s,c,l),s[tn]=r,s[ct]=l}catch(v){Yt(r,r.return,v)}}var ea=!1,En=!1,$p=!1,N0=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function tI(r,s){if(r=r.containerInfo,yg=hd,r=R(r),x(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var A=0,k=-1,U=-1,le=0,we=0,Se=r,ce=null;t:for(;;){for(var he;Se!==l||p!==0&&Se.nodeType!==3||(k=A+p),Se!==v||c!==0&&Se.nodeType!==3||(U=A+c),Se.nodeType===3&&(A+=Se.nodeValue.length),(he=Se.firstChild)!==null;)ce=Se,Se=he;for(;;){if(Se===r)break t;if(ce===l&&++le===p&&(k=A),ce===v&&++we===c&&(U=A),(he=Se.nextSibling)!==null)break;Se=ce,ce=Se.parentNode}Se=he}l=k===-1||U===-1?null:{start:k,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(vg={focusedElem:r,selectionRange:l},hd=!1,Hn=s;Hn!==null;)if(s=Hn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Hn=r;else for(;Hn!==null;){switch(s=Hn,v=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,l=s,p=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var st=Wo(l.type,p,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(st,v),c.__reactInternalSnapshotBeforeUpdate=r}catch(nt){Yt(l,l.return,nt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)Eg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Eg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=s.sibling,r!==null){r.return=s.return,Hn=r;break}Hn=s.return}}function P0(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:$a(r,l),c&4&&Sc(5,l);break;case 1:if($a(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(A){Yt(l,l.return,A)}else{var p=Wo(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Yt(l,l.return,A)}}c&64&&x0(l),c&512&&Ac(l,l.return);break;case 3:if($a(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{p_(r,s)}catch(A){Yt(l,l.return,A)}}break;case 27:s===null&&c&4&&D0(l);case 26:case 5:$a(r,l),s===null&&c&4&&C0(l),c&512&&Ac(l,l.return);break;case 12:$a(r,l);break;case 13:$a(r,l),c&4&&L0(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=cI.bind(null,l),xI(r,l))));break;case 22:if(c=l.memoizedState!==null||ea,!c){s=s!==null&&s.memoizedState!==null||En,p=ea;var v=En;ea=c,(En=s)&&!v?Qa(r,l,(l.subtreeFlags&8772)!==0):$a(r,l),ea=p,En=v}break;case 30:break;default:$a(r,l)}}function V0(r){var s=r.alternate;s!==null&&(r.alternate=null,V0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Xn(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var sn=null,Ur=!1;function ta(r,s,l){for(l=l.child;l!==null;)M0(r,s,l),l=l.sibling}function M0(r,s,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Vt,l)}catch{}switch(l.tag){case 26:En||bs(l,s),ta(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:En||bs(l,s);var c=sn,p=Ur;eo(l.type)&&(sn=l.stateNode,Ur=!1),ta(r,s,l),Pc(l.stateNode),sn=c,Ur=p;break;case 5:En||bs(l,s);case 6:if(c=sn,p=Ur,sn=null,ta(r,s,l),sn=c,Ur=p,sn!==null)if(Ur)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(l.stateNode)}catch(v){Yt(l,s,v)}else try{sn.removeChild(l.stateNode)}catch(v){Yt(l,s,v)}break;case 18:sn!==null&&(Ur?(r=sn,Sb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),qc(r)):Sb(sn,l.stateNode));break;case 4:c=sn,p=Ur,sn=l.stateNode.containerInfo,Ur=!0,ta(r,s,l),sn=c,Ur=p;break;case 0:case 11:case 14:case 15:En||Ga(2,l,s),En||Ga(4,l,s),ta(r,s,l);break;case 1:En||(bs(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&k0(l,s,c)),ta(r,s,l);break;case 21:ta(r,s,l);break;case 22:En=(c=En)||l.memoizedState!==null,ta(r,s,l),En=c;break;default:ta(r,s,l)}}function L0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qc(r)}catch(l){Yt(s,s.return,l)}}function nI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new N0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new N0),s;default:throw Error(n(435,r.tag))}}function Qp(r,s){var l=nI(r);s.forEach(function(c){var p=hI.bind(null,r,c);l.has(c)||(l.add(c),c.then(p,p))})}function ti(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],v=r,A=s,k=A;e:for(;k!==null;){switch(k.tag){case 27:if(eo(k.type)){sn=k.stateNode,Ur=!1;break e}break;case 5:sn=k.stateNode,Ur=!1;break e;case 3:case 4:sn=k.stateNode.containerInfo,Ur=!0;break e}k=k.return}if(sn===null)throw Error(n(160));M0(v,A,p),sn=null,Ur=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)j0(s,r),s=s.sibling}var Ji=null;function j0(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ti(s,r),ni(r),c&4&&(Ga(3,r,r.return),Sc(3,r),Ga(5,r,r.return));break;case 1:ti(s,r),ni(r),c&512&&(En||l===null||bs(l,l.return)),c&64&&ea&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Ji;if(ti(s,r),ni(r),c&512&&(En||l===null||bs(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":v=p.getElementsByTagName("title")[0],(!v||v[Ls]||v[tn]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(c),p.head.insertBefore(v,p.querySelector("head > title"))),rr(v,c,l),v[tn]=r,Mt(v),c=v;break e;case"link":var A=Db("link","href",p).get(c+(l.href||""));if(A){for(var k=0;k<A.length;k++)if(v=A[k],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(k,1);break t}}v=p.createElement(c),rr(v,c,l),p.head.appendChild(v);break;case"meta":if(A=Db("meta","content",p).get(c+(l.content||""))){for(k=0;k<A.length;k++)if(v=A[k],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(k,1);break t}}v=p.createElement(c),rr(v,c,l),p.head.appendChild(v);break;default:throw Error(n(468,c))}v[tn]=r,Mt(v),c=v}r.stateNode=c}else Nb(p,r.type,r.stateNode);else r.stateNode=Ob(p,c,r.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?Nb(p,r.type,r.stateNode):Ob(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Kp(r,r.memoizedProps,l.memoizedProps)}break;case 27:ti(s,r),ni(r),c&512&&(En||l===null||bs(l,l.return)),l!==null&&c&4&&Kp(r,r.memoizedProps,l.memoizedProps);break;case 5:if(ti(s,r),ni(r),c&512&&(En||l===null||bs(l,l.return)),r.flags&32){p=r.stateNode;try{Dr(p,"")}catch(he){Yt(r,r.return,he)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,Kp(r,p,l!==null?l.memoizedProps:p)),c&1024&&($p=!0);break;case 6:if(ti(s,r),ni(r),c&4){if(r.stateNode===null)throw Error(n(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(he){Yt(r,r.return,he)}}break;case 3:if(ld=null,p=Ji,Ji=ad(s.containerInfo),ti(s,r),Ji=p,ni(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{qc(s.containerInfo)}catch(he){Yt(r,r.return,he)}$p&&($p=!1,U0(r));break;case 4:c=Ji,Ji=ad(r.stateNode.containerInfo),ti(s,r),ni(r),Ji=c;break;case 12:ti(s,r),ni(r);break;case 13:ti(s,r),ni(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(eg=xr()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Qp(r,c)));break;case 22:p=r.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,le=ea,we=En;if(ea=le||p,En=we||U,ti(s,r),En=we,ea=le,ni(r),c&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||U||ea||En||Jo(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){U=l=s;try{if(v=U.stateNode,p)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{k=U.stateNode;var Se=U.memoizedProps.style,ce=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;k.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(he){Yt(U,U.return,he)}}}else if(s.tag===6){if(l===null){U=s;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(he){Yt(U,U.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Qp(r,l))));break;case 19:ti(s,r),ni(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Qp(r,c)));break;case 30:break;case 21:break;default:ti(s,r),ni(r)}}function ni(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(O0(c)){l=c;break}c=c.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,v=Hp(r);$f(r,v,p);break;case 5:var A=l.stateNode;l.flags&32&&(Dr(A,""),l.flags&=-33);var k=Hp(r);$f(r,k,A);break;case 3:case 4:var U=l.stateNode.containerInfo,le=Hp(r);Gp(r,le,U);break;default:throw Error(n(161))}}catch(we){Yt(r,r.return,we)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function U0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;U0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function $a(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)P0(r,s.alternate,s),s=s.sibling}function Jo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ga(4,s,s.return),Jo(s);break;case 1:bs(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&k0(s,s.return,l),Jo(s);break;case 27:Pc(s.stateNode);case 26:case 5:bs(s,s.return),Jo(s);break;case 22:s.memoizedState===null&&Jo(s);break;case 30:Jo(s);break;default:Jo(s)}r=r.sibling}}function Qa(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=r,v=s,A=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(p,v,l),Sc(4,v);break;case 1:if(Qa(p,v,l),c=v,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(le){Yt(c,c.return,le)}if(c=v,p=c.updateQueue,p!==null){var k=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)m_(U[p],k)}catch(le){Yt(c,c.return,le)}}l&&A&64&&x0(v),Ac(v,v.return);break;case 27:D0(v);case 26:case 5:Qa(p,v,l),l&&c===null&&A&4&&C0(v),Ac(v,v.return);break;case 12:Qa(p,v,l);break;case 13:Qa(p,v,l),l&&A&4&&L0(p,v);break;case 22:v.memoizedState===null&&Qa(p,v,l),Ac(v,v.return);break;case 30:break;default:Qa(p,v,l)}s=s.sibling}}function Yp(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&cc(l))}function Xp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&cc(r))}function Es(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)z0(r,s,l,c),s=s.sibling}function z0(r,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Es(r,s,l,c),p&2048&&Sc(9,s);break;case 1:Es(r,s,l,c);break;case 3:Es(r,s,l,c),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&cc(r)));break;case 12:if(p&2048){Es(r,s,l,c),r=s.stateNode;try{var v=s.memoizedProps,A=v.id,k=v.onPostCommit;typeof k=="function"&&k(A,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Yt(s,s.return,U)}}else Es(r,s,l,c);break;case 13:Es(r,s,l,c);break;case 23:break;case 22:v=s.stateNode,A=s.alternate,s.memoizedState!==null?v._visibility&2?Es(r,s,l,c):Rc(r,s):v._visibility&2?Es(r,s,l,c):(v._visibility|=2,tu(r,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&Yp(A,s);break;case 24:Es(r,s,l,c),p&2048&&Xp(s.alternate,s);break;default:Es(r,s,l,c)}}function tu(r,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=r,A=s,k=l,U=c,le=A.flags;switch(A.tag){case 0:case 11:case 15:tu(v,A,k,U,p),Sc(8,A);break;case 23:break;case 22:var we=A.stateNode;A.memoizedState!==null?we._visibility&2?tu(v,A,k,U,p):Rc(v,A):(we._visibility|=2,tu(v,A,k,U,p)),p&&le&2048&&Yp(A.alternate,A);break;case 24:tu(v,A,k,U,p),p&&le&2048&&Xp(A.alternate,A);break;default:tu(v,A,k,U,p)}s=s.sibling}}function Rc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,p=c.flags;switch(c.tag){case 22:Rc(l,c),p&2048&&Yp(c.alternate,c);break;case 24:Rc(l,c),p&2048&&Xp(c.alternate,c);break;default:Rc(l,c)}s=s.sibling}}var Ic=8192;function nu(r){if(r.subtreeFlags&Ic)for(r=r.child;r!==null;)B0(r),r=r.sibling}function B0(r){switch(r.tag){case 26:nu(r),r.flags&Ic&&r.memoizedState!==null&&BI(Ji,r.memoizedState,r.memoizedProps);break;case 5:nu(r);break;case 3:case 4:var s=Ji;Ji=ad(r.stateNode.containerInfo),nu(r),Ji=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ic,Ic=16777216,nu(r),Ic=s):nu(r));break;default:nu(r)}}function q0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function xc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Hn=c,K0(c,r)}q0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)F0(r),r=r.sibling}function F0(r){switch(r.tag){case 0:case 11:case 15:xc(r),r.flags&2048&&Ga(9,r,r.return);break;case 3:xc(r);break;case 12:xc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Qf(r)):xc(r);break;default:xc(r)}}function Qf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Hn=c,K0(c,r)}q0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ga(8,s,s.return),Qf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Qf(s));break;default:Qf(s)}r=r.sibling}}function K0(r,s){for(;Hn!==null;){var l=Hn;switch(l.tag){case 0:case 11:case 15:Ga(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:cc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Hn=c;else e:for(l=r;Hn!==null;){c=Hn;var p=c.sibling,v=c.return;if(V0(c),c===l){Hn=null;break e}if(p!==null){p.return=v,Hn=p;break e}Hn=v}}}var rI={getCacheForType:function(r){var s=cr(Pn),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l}},iI=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Jt=null,bt=null,xt=0,zt=0,ri=null,Ya=!1,ru=!1,Wp=!1,na=0,mn=0,Xa=0,Zo=0,Jp=0,Oi=0,iu=0,kc=null,zr=null,Zp=!1,eg=0,Yf=1/0,Xf=null,Wa=null,nr=0,Ja=null,su=null,au=0,tg=0,ng=null,H0=null,Cc=0,rg=null;function ii(){if((Ut&2)!==0&&xt!==0)return xt&-xt;if(ye.T!==null){var r=$l;return r!==0?r:cg()}return vr()}function G0(){Oi===0&&(Oi=(xt&536870912)===0||Pt?ls():536870912);var r=Ci.current;return r!==null&&(r.flags|=32),Oi}function si(r,s,l){(r===Jt&&(zt===2||zt===9)||r.cancelPendingCommit!==null)&&(ou(r,0),Za(r,xt,Oi,!1)),di(r,l),((Ut&2)===0||r!==Jt)&&(r===Jt&&((Ut&2)===0&&(Zo|=l),mn===4&&Za(r,xt,Oi,!1)),ws(r))}function $0(r,s,l){if((Ut&6)!==0)throw Error(n(327));var c=!l&&(s&124)===0&&(s&r.expiredLanes)===0||Kr(r,s),p=c?oI(r,s):ag(r,s,!0),v=c;do{if(p===0){ru&&!c&&Za(r,s,0,!1);break}else{if(l=r.current.alternate,v&&!sI(l)){p=ag(r,s,!1),v=!1;continue}if(p===2){if(v=s,r.errorRecoveryDisabledLanes&v)var A=0;else A=r.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var k=r;p=kc;var U=k.current.memoizedState.isDehydrated;if(U&&(ou(k,A).flags|=256),A=ag(k,A,!1),A!==2){if(Wp&&!U){k.errorRecoveryDisabledLanes|=v,Zo|=v,p=4;break e}v=zr,zr=p,v!==null&&(zr===null?zr=v:zr.push.apply(zr,v))}p=A}if(v=!1,p!==2)continue}}if(p===1){ou(r,0),Za(r,s,0,!0);break}e:{switch(c=r,v=p,v){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Za(c,s,Oi,!Ya);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=eg+300-xr(),10<p)){if(Za(c,s,Oi,!Ya),Fe(c,0,!0)!==0)break e;c.timeoutHandle=wb(Q0.bind(null,c,l,zr,Xf,Zp,s,Oi,Zo,iu,Ya,v,2,-0,0),p);break e}Q0(c,l,zr,Xf,Zp,s,Oi,Zo,iu,Ya,v,0,-0,0)}}break}while(!0);ws(r)}function Q0(r,s,l,c,p,v,A,k,U,le,we,Se,ce,he){if(r.timeoutHandle=-1,Se=s.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(Lc={stylesheets:null,count:0,unsuspend:zI},B0(s),Se=qI(),Se!==null)){r.cancelPendingCommit=Se(tb.bind(null,r,s,v,l,c,p,A,k,U,we,1,ce,he)),Za(r,v,A,!le);return}tb(r,s,v,l,c,p,A,k,U)}function sI(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],v=p.getSnapshot;p=p.value;try{if(!ur(v(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Za(r,s,l,c){s&=~Jp,s&=~Zo,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var p=s;0<p;){var v=31-hn(p),A=1<<v;c[v]=-1,p&=~A}l!==0&&$r(r,l,s)}function Wf(){return(Ut&6)===0?(Oc(0),!1):!0}function ig(){if(bt!==null){if(zt===0)var r=bt.return;else r=bt,Qs=$o=null,Ep(r),Zl=null,Ec=0,r=bt;for(;r!==null;)I0(r.alternate,r),r=r.return;bt=null}}function ou(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,TI(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),ig(),Jt=r,bt=l=Hs(r.current,null),xt=s,zt=0,ri=null,Ya=!1,ru=Kr(r,s),Wp=!1,iu=Oi=Jp=Zo=Xa=mn=0,zr=kc=null,Zp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var p=31-hn(c),v=1<<p;s|=r[p],c&=~v}return na=s,it(),l}function Y0(r,s){gt=null,ye.H=jf,s===fc||s===xf?(s=f_(),zt=3):s===u_?(s=f_(),zt=4):zt=s===d0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ri=s,bt===null&&(mn=1,Ff(r,Je(s,r.current)))}function X0(){var r=ye.H;return ye.H=jf,r===null?jf:r}function W0(){var r=ye.A;return ye.A=rI,r}function sg(){mn=4,Ya||(xt&4194048)!==xt&&Ci.current!==null||(ru=!0),(Xa&134217727)===0&&(Zo&134217727)===0||Jt===null||Za(Jt,xt,Oi,!1)}function ag(r,s,l){var c=Ut;Ut|=2;var p=X0(),v=W0();(Jt!==r||xt!==s)&&(Xf=null,ou(r,s)),s=!1;var A=mn;e:do try{if(zt!==0&&bt!==null){var k=bt,U=ri;switch(zt){case 8:ig(),A=6;break e;case 3:case 2:case 9:case 6:Ci.current===null&&(s=!0);var le=zt;if(zt=0,ri=null,lu(r,k,U,le),l&&ru){A=0;break e}break;default:le=zt,zt=0,ri=null,lu(r,k,U,le)}}aI(),A=mn;break}catch(we){Y0(r,we)}while(!0);return s&&r.shellSuspendCounter++,Qs=$o=null,Ut=c,ye.H=p,ye.A=v,bt===null&&(Jt=null,xt=0,it()),A}function aI(){for(;bt!==null;)J0(bt)}function oI(r,s){var l=Ut;Ut|=2;var c=X0(),p=W0();Jt!==r||xt!==s?(Xf=null,Yf=xr()+500,ou(r,s)):ru=Kr(r,s);e:do try{if(zt!==0&&bt!==null){s=bt;var v=ri;t:switch(zt){case 1:zt=0,ri=null,lu(r,s,v,1);break;case 2:case 9:if(c_(v)){zt=0,ri=null,Z0(s);break}s=function(){zt!==2&&zt!==9||Jt!==r||(zt=7),ws(r)},v.then(s,s);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:c_(v)?(zt=0,ri=null,Z0(s)):(zt=0,ri=null,lu(r,s,v,7));break;case 5:var A=null;switch(bt.tag){case 26:A=bt.memoizedState;case 5:case 27:var k=bt;if(!A||Pb(A)){zt=0,ri=null;var U=k.sibling;if(U!==null)bt=U;else{var le=k.return;le!==null?(bt=le,Jf(le)):bt=null}break t}}zt=0,ri=null,lu(r,s,v,5);break;case 6:zt=0,ri=null,lu(r,s,v,6);break;case 8:ig(),mn=6;break e;default:throw Error(n(462))}}lI();break}catch(we){Y0(r,we)}while(!0);return Qs=$o=null,ye.H=c,ye.A=p,Ut=l,bt!==null?0:(Jt=null,xt=0,it(),mn)}function lI(){for(;bt!==null&&!Fr();)J0(bt)}function J0(r){var s=A0(r.alternate,r,na);r.memoizedProps=r.pendingProps,s===null?Jf(r):bt=s}function Z0(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=_0(l,s,s.pendingProps,s.type,void 0,xt);break;case 11:s=_0(l,s,s.pendingProps,s.type.render,s.ref,xt);break;case 5:Ep(s);default:I0(l,s),s=bt=e_(s,na),s=A0(l,s,na)}r.memoizedProps=r.pendingProps,s===null?Jf(r):bt=s}function lu(r,s,l,c){Qs=$o=null,Ep(s),Zl=null,Ec=0;var p=s.return;try{if(WR(r,p,s,l,xt)){mn=1,Ff(r,Je(l,r.current)),bt=null;return}}catch(v){if(p!==null)throw bt=p,v;mn=1,Ff(r,Je(l,r.current)),bt=null;return}s.flags&32768?(Pt||c===1?r=!0:ru||(xt&536870912)!==0?r=!1:(Ya=r=!0,(c===2||c===9||c===3||c===6)&&(c=Ci.current,c!==null&&c.tag===13&&(c.flags|=16384))),eb(s,r)):Jf(s)}function Jf(r){var s=r;do{if((s.flags&32768)!==0){eb(s,Ya);return}r=s.return;var l=ZR(s.alternate,s,na);if(l!==null){bt=l;return}if(s=s.sibling,s!==null){bt=s;return}bt=s=r}while(s!==null);mn===0&&(mn=5)}function eb(r,s){do{var l=eI(r.alternate,r);if(l!==null){l.flags&=32767,bt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){bt=r;return}bt=r=l}while(r!==null);mn=6,bt=null}function tb(r,s,l,c,p,v,A,k,U){r.cancelPendingCommit=null;do Zf();while(nr!==0);if((Ut&6)!==0)throw Error(n(327));if(s!==null){if(s===r.current)throw Error(n(177));if(v=s.lanes|s.childLanes,v|=er,Ps(r,l,v,A,k,U),r===Jt&&(bt=Jt=null,xt=0),su=s,Ja=r,au=l,tg=v,ng=p,H0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,fI(jn,function(){return ab(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=ye.T,ye.T=null,p=Ne.p,Ne.p=2,A=Ut,Ut|=4;try{tI(r,s,l)}finally{Ut=A,Ne.p=p,ye.T=c}}nr=1,nb(),rb(),ib()}}function nb(){if(nr===1){nr=0;var r=Ja,s=su,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ye.T,ye.T=null;var c=Ne.p;Ne.p=2;var p=Ut;Ut|=4;try{j0(s,r);var v=vg,A=R(r.containerInfo),k=v.focusedElem,U=v.selectionRange;if(A!==k&&k&&k.ownerDocument&&w(k.ownerDocument.documentElement,k)){if(U!==null&&x(k)){var le=U.start,we=U.end;if(we===void 0&&(we=le),"selectionStart"in k)k.selectionStart=le,k.selectionEnd=Math.min(we,k.value.length);else{var Se=k.ownerDocument||document,ce=Se&&Se.defaultView||window;if(ce.getSelection){var he=ce.getSelection(),st=k.textContent.length,nt=Math.min(U.start,st),$t=U.end===void 0?nt:Math.min(U.end,st);!he.extend&&nt>$t&&(A=$t,$t=nt,nt=A);var ee=_(k,nt),H=_(k,$t);if(ee&&H&&(he.rangeCount!==1||he.anchorNode!==ee.node||he.anchorOffset!==ee.offset||he.focusNode!==H.node||he.focusOffset!==H.offset)){var oe=Se.createRange();oe.setStart(ee.node,ee.offset),he.removeAllRanges(),nt>$t?(he.addRange(oe),he.extend(H.node,H.offset)):(oe.setEnd(H.node,H.offset),he.addRange(oe))}}}}for(Se=[],he=k;he=he.parentNode;)he.nodeType===1&&Se.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Se.length;k++){var Te=Se[k];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}hd=!!yg,vg=yg=null}finally{Ut=p,Ne.p=c,ye.T=l}}r.current=s,nr=2}}function rb(){if(nr===2){nr=0;var r=Ja,s=su,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ye.T,ye.T=null;var c=Ne.p;Ne.p=2;var p=Ut;Ut|=4;try{P0(r,s.alternate,s)}finally{Ut=p,Ne.p=c,ye.T=l}}nr=3}}function ib(){if(nr===4||nr===3){nr=0,jl();var r=Ja,s=su,l=au,c=H0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nr=5:(nr=0,su=Ja=null,sb(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Wa=null),Sa(l),s=s.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Vt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=ye.T,p=Ne.p,Ne.p=2,ye.T=null;try{for(var v=r.onRecoverableError,A=0;A<c.length;A++){var k=c[A];v(k.value,{componentStack:k.stack})}}finally{ye.T=s,Ne.p=p}}(au&3)!==0&&Zf(),ws(r),p=r.pendingLanes,(l&4194090)!==0&&(p&42)!==0?r===rg?Cc++:(Cc=0,rg=r):Cc=0,Oc(0)}}function sb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,cc(s)))}function Zf(r){return nb(),rb(),ib(),ab()}function ab(){if(nr!==5)return!1;var r=Ja,s=tg;tg=0;var l=Sa(au),c=ye.T,p=Ne.p;try{Ne.p=32>l?32:l,ye.T=null,l=ng,ng=null;var v=Ja,A=au;if(nr=0,su=Ja=null,au=0,(Ut&6)!==0)throw Error(n(331));var k=Ut;if(Ut|=4,F0(v.current),z0(v,v.current,A,l),Ut=k,Oc(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Vt,v)}catch{}return!0}finally{Ne.p=p,ye.T=c,sb(r,s)}}function ob(r,s,l){s=Je(l,s),s=Vp(r.stateNode,s,2),r=qa(r,s,2),r!==null&&(di(r,2),ws(r))}function Yt(r,s,l){if(r.tag===3)ob(r,r,l);else for(;s!==null;){if(s.tag===3){ob(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Wa===null||!Wa.has(c))){r=Je(l,r),l=h0(2),c=qa(s,l,2),c!==null&&(f0(l,c,s,r),di(c,2),ws(c));break}}s=s.return}}function og(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new iI;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(Wp=!0,p.add(l),r=uI.bind(null,r,s,l),s.then(r,r))}function uI(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Jt===r&&(xt&l)===l&&(mn===4||mn===3&&(xt&62914560)===xt&&300>xr()-eg?(Ut&2)===0&&ou(r,0):Jp|=l,iu===xt&&(iu=0)),ws(r)}function lb(r,s){s===0&&(s=Ue()),r=Wi(r,s),r!==null&&(di(r,s),ws(r))}function cI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),lb(r,l)}function hI(r,s){var l=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(s),lb(r,l)}function fI(r,s){return qr(r,s)}var ed=null,uu=null,lg=!1,td=!1,ug=!1,el=0;function ws(r){r!==uu&&r.next===null&&(uu===null?ed=uu=r:uu=uu.next=r),td=!0,lg||(lg=!0,mI())}function Oc(r,s){if(!ug&&td){ug=!0;do for(var l=!1,c=ed;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var v=0;else{var A=c.suspendedLanes,k=c.pingedLanes;v=(1<<31-hn(42|r)+1)-1,v&=p&~(A&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,fb(c,v))}else v=xt,v=Fe(c,c===Jt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Kr(c,v)||(l=!0,fb(c,v));c=c.next}while(l);ug=!1}}function dI(){ub()}function ub(){td=lg=!1;var r=0;el!==0&&(wI()&&(r=el),el=0);for(var s=xr(),l=null,c=ed;c!==null;){var p=c.next,v=cb(c,s);v===0?(c.next=null,l===null?ed=p:l.next=p,p===null&&(uu=l)):(l=c,(r!==0||(v&3)!==0)&&(td=!0)),c=p}Oc(r)}function cb(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var A=31-hn(v),k=1<<A,U=p[A];U===-1?((k&l)===0||(k&c)!==0)&&(p[A]=Hr(k,s)):U<=s&&(r.expiredLanes|=k),v&=~k}if(s=Jt,l=xt,l=Fe(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(zt===2||zt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ns(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Kr(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&Ns(c),Sa(l)){case 2:case 8:l=as;break;case 32:l=jn;break;case 268435456:l=hi;break;default:l=jn}return c=hb.bind(null,r),l=qr(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&Ns(c),r.callbackPriority=2,r.callbackNode=null,2}function hb(r,s){if(nr!==0&&nr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Zf()&&r.callbackNode!==l)return null;var c=xt;return c=Fe(r,r===Jt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:($0(r,c,s),cb(r,xr()),r.callbackNode!=null&&r.callbackNode===l?hb.bind(null,r):null)}function fb(r,s){if(Zf())return null;$0(r,s,!0)}function mI(){SI(function(){(Ut&6)!==0?qr(ko,dI):ub()})}function cg(){return el===0&&(el=ls()),el}function db(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Bi(""+r)}function mb(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function pI(r,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var v=db((p[ct]||null).action),A=c.submitter;A&&(s=(s=A[ct]||null)?db(s.formAction):A.getAttribute("formAction"),s!==null&&(v=s,A=null));var k=new ka("action","action",null,c,p);r.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(el!==0){var U=A?mb(p,A):new FormData(p);Cp(l,{pending:!0,data:U,method:p.method,action:v},null,U)}}else typeof v=="function"&&(k.preventDefault(),U=A?mb(p,A):new FormData(p),Cp(l,{pending:!0,data:U,method:p.method,action:v},v,U))},currentTarget:p}]})}}for(var hg=0;hg<je.length;hg++){var fg=je[hg],gI=fg.toLowerCase(),yI=fg[0].toUpperCase()+fg.slice(1);Ce(gI,"on"+yI)}Ce(ue,"onAnimationEnd"),Ce(fe,"onAnimationIteration"),Ce(de,"onAnimationStart"),Ce("dblclick","onDoubleClick"),Ce("focusin","onFocus"),Ce("focusout","onBlur"),Ce(Ee,"onTransitionRun"),Ce(Oe,"onTransitionStart"),Ce(Le,"onTransitionCancel"),Ce(ke,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function pb(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var v=void 0;if(s)for(var A=c.length-1;0<=A;A--){var k=c[A],U=k.instance,le=k.currentTarget;if(k=k.listener,U!==v&&p.isPropagationStopped())break e;v=k,p.currentTarget=le;try{v(p)}catch(we){qf(we)}p.currentTarget=null,v=U}else for(A=0;A<c.length;A++){if(k=c[A],U=k.instance,le=k.currentTarget,k=k.listener,U!==v&&p.isPropagationStopped())break e;v=k,p.currentTarget=le;try{v(p)}catch(we){qf(we)}p.currentTarget=null,v=U}}}}function Et(r,s){var l=s[Co];l===void 0&&(l=s[Co]=new Set);var c=r+"__bubble";l.has(c)||(gb(s,r,2,!1),l.add(c))}function dg(r,s,l){var c=0;s&&(c|=4),gb(l,r,c,s)}var nd="_reactListening"+Math.random().toString(36).slice(2);function mg(r){if(!r[nd]){r[nd]=!0,Ra.forEach(function(l){l!=="selectionchange"&&(vI.has(l)||dg(l,!1,r),dg(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[nd]||(s[nd]=!0,dg("selectionchange",!1,s))}}function gb(r,s,l,c){switch(zb(s)){case 2:var p=HI;break;case 8:p=GI;break;default:p=xg}l=p.bind(null,s,l,r),p=void 0,!Nr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function pg(r,s,l,c,p){var v=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var k=c.stateNode.containerInfo;if(k===p)break;if(A===4)for(A=c.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;k!==null;){if(A=sr(k),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){c=v=A;continue e}k=k.parentNode}}c=c.return}ds(function(){var le=v,we=wr(l),Se=[];e:{var ce=Pe.get(r);if(ce!==void 0){var he=ka,st=r;switch(r){case"keypress":if(Vr(l)===0)break e;case"keydown":case"keyup":he=Yi;break;case"focusin":st="focus",he=Hi;break;case"focusout":st="blur",he=Hi;break;case"beforeblur":case"afterblur":he=Hi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Pa;break;case ue:case fe:case de:he=qs;break;case ke:he=Va;break;case"scroll":case"scrollend":he=zs;break;case"wheel":he=Xi;break;case"copy":case"cut":case"paste":he=Gi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Na;break;case"toggle":case"beforetoggle":he=Uo}var nt=(s&4)!==0,$t=!nt&&(r==="scroll"||r==="scrollend"),ee=nt?ce!==null?ce+"Capture":null:ce;nt=[];for(var H=le,oe;H!==null;){var Te=H;if(oe=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||oe===null||ee===null||(Te=qi(H,ee),Te!=null&&nt.push(Nc(H,Te,oe))),$t)break;H=H.return}0<nt.length&&(ce=new he(ce,st,null,l,we),Se.push({event:ce,listeners:nt}))}}if((s&7)===0){e:{if(ce=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",ce&&l!==Bn&&(st=l.relatedTarget||l.fromElement)&&(sr(st)||st[Nt]))break e;if((he||ce)&&(ce=we.window===we?we:(ce=we.ownerDocument)?ce.defaultView||ce.parentWindow:window,he?(st=l.relatedTarget||l.toElement,he=le,st=st?sr(st):null,st!==null&&($t=o(st),nt=st.tag,st!==$t||nt!==5&&nt!==27&&nt!==6)&&(st=null)):(he=null,st=le),he!==st)){if(nt=lr,Te="onMouseLeave",ee="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(nt=Na,Te="onPointerLeave",ee="onPointerEnter",H="pointer"),$t=he==null?ce:_r(he),oe=st==null?ce:_r(st),ce=new nt(Te,H+"leave",he,l,we),ce.target=$t,ce.relatedTarget=oe,Te=null,sr(we)===le&&(nt=new nt(ee,H+"enter",st,l,we),nt.target=oe,nt.relatedTarget=$t,Te=nt),$t=Te,he&&st)t:{for(nt=he,ee=st,H=0,oe=nt;oe;oe=cu(oe))H++;for(oe=0,Te=ee;Te;Te=cu(Te))oe++;for(;0<H-oe;)nt=cu(nt),H--;for(;0<oe-H;)ee=cu(ee),oe--;for(;H--;){if(nt===ee||ee!==null&&nt===ee.alternate)break t;nt=cu(nt),ee=cu(ee)}nt=null}else nt=null;he!==null&&yb(Se,ce,he,nt,!1),st!==null&&$t!==null&&yb(Se,$t,st,nt,!0)}}e:{if(ce=le?_r(le):window,he=ce.nodeName&&ce.nodeName.toLowerCase(),he==="select"||he==="input"&&ce.type==="file")var He=Bo;else if(on(ce))if(Ri)He=ja;else{He=Ks;var yt=Ef}else he=ce.nodeName,!he||he.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&Po(le.elementType)&&(He=Bo):He=sc;if(He&&(He=He(r,le))){Si(Se,He,l,we);break e}yt&&yt(r,ce,le),r==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&Xr(ce,"number",ce.value)}switch(yt=le?_r(le):window,r){case"focusin":(on(yt)||yt.contentEditable==="true")&&(L=yt,K=le,G=null);break;case"focusout":G=K=L=null;break;case"mousedown":X=!0;break;case"contextmenu":case"mouseup":case"dragend":X=!1,B(Se,l,we);break;case"selectionchange":if(O)break;case"keydown":case"keyup":B(Se,l,we)}var We;if(Lr)e:{switch(r){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else _t?pe(r,l)&&(rt="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(rt="onCompositionStart");rt&&(T&&l.locale!=="ko"&&(_t||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&_t&&(We=Ki()):(Pr=we,Fi="value"in Pr?Pr.value:Pr.textContent,_t=!0)),yt=rd(le,rt),0<yt.length&&(rt=new Fs(rt,r,null,l,we),Se.push({event:rt,listeners:yt}),We?rt.data=We:(We=Me(l),We!==null&&(rt.data=We)))),(We=b?fn(r,l):St(r,l))&&(rt=rd(le,"onBeforeInput"),0<rt.length&&(yt=new Fs("onBeforeInput","beforeinput",null,l,we),Se.push({event:yt,listeners:rt}),yt.data=We)),pI(Se,r,le,l,we)}pb(Se,s)})}function Nc(r,s,l){return{instance:r,listener:s,currentTarget:l}}function rd(r,s){for(var l=s+"Capture",c=[];r!==null;){var p=r,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=qi(r,l),p!=null&&c.unshift(Nc(r,p,v)),p=qi(r,s),p!=null&&c.push(Nc(r,p,v))),r.tag===3)return c;r=r.return}return[]}function cu(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function yb(r,s,l,c,p){for(var v=s._reactName,A=[];l!==null&&l!==c;){var k=l,U=k.alternate,le=k.stateNode;if(k=k.tag,U!==null&&U===c)break;k!==5&&k!==26&&k!==27||le===null||(U=le,p?(le=qi(l,v),le!=null&&A.unshift(Nc(l,le,U))):p||(le=qi(l,v),le!=null&&A.push(Nc(l,le,U)))),l=l.return}A.length!==0&&r.push({event:s,listeners:A})}var _I=/\r\n?/g,bI=/\u0000|\uFFFD/g;function vb(r){return(typeof r=="string"?r:""+r).replace(_I,`
`).replace(bI,"")}function _b(r,s){return s=vb(s),vb(r)===s}function id(){}function Gt(r,s,l,c,p,v){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Dr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Dr(r,""+c);break;case"className":Er(r,"class",c);break;case"tabIndex":Er(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(r,l,c);break;case"style":No(r,c,v);break;case"data":if(s!=="object"){Er(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Bi(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(s!=="input"&&Gt(r,s,"name",p.name,p,null),Gt(r,s,"formEncType",p.formEncType,p,null),Gt(r,s,"formMethod",p.formMethod,p,null),Gt(r,s,"formTarget",p.formTarget,p,null)):(Gt(r,s,"encType",p.encType,p,null),Gt(r,s,"method",p.method,p,null),Gt(r,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=Bi(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=id);break;case"onScroll":c!=null&&Et("scroll",r);break;case"onScrollEnd":c!=null&&Et("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=Bi(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Et("beforetoggle",r),Et("toggle",r),br(r,"popover",c);break;case"xlinkActuate":gn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":gn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":gn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":gn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":gn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":gn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":gn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":gn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":gn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":br(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zn.get(l)||l,br(r,l,c))}}function gg(r,s,l,c,p,v){switch(l){case"style":No(r,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(n(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Dr(r,c):(typeof c=="number"||typeof c=="bigint")&&Dr(r,""+c);break;case"onScroll":c!=null&&Et("scroll",r);break;case"onScrollEnd":c!=null&&Et("scrollend",r);break;case"onClick":c!=null&&(r.onclick=id);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),v=r[ct]||null,v=v!=null?v[l]:null,typeof v=="function"&&r.removeEventListener(s,v,p),typeof c=="function")){typeof v!="function"&&v!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):br(r,l,c)}}}function rr(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",r),Et("load",r);var c=!1,p=!1,v;for(v in l)if(l.hasOwnProperty(v)){var A=l[v];if(A!=null)switch(v){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Gt(r,s,v,A,l,null)}}p&&Gt(r,s,"srcSet",l.srcSet,l,null),c&&Gt(r,s,"src",l.src,l,null);return;case"input":Et("invalid",r);var k=v=A=p=null,U=null,le=null;for(c in l)if(l.hasOwnProperty(c)){var we=l[c];if(we!=null)switch(c){case"name":p=we;break;case"type":A=we;break;case"checked":U=we;break;case"defaultChecked":le=we;break;case"value":v=we;break;case"defaultValue":k=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,s));break;default:Gt(r,s,c,we,l,null)}}cs(r,v,k,U,le,A,p,!1),yi(r);return;case"select":Et("invalid",r),c=A=v=null;for(p in l)if(l.hasOwnProperty(p)&&(k=l[p],k!=null))switch(p){case"value":v=k;break;case"defaultValue":A=k;break;case"multiple":c=k;default:Gt(r,s,p,k,l,null)}s=v,l=A,r.multiple=!!c,s!=null?vi(r,!!c,s,!1):l!=null&&vi(r,!!c,l,!0);return;case"textarea":Et("invalid",r),v=p=c=null;for(A in l)if(l.hasOwnProperty(A)&&(k=l[A],k!=null))switch(A){case"value":c=k;break;case"defaultValue":p=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:Gt(r,s,A,k,l,null)}hs(r,c,p,v),yi(r);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(c=l[U],c!=null))switch(U){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Gt(r,s,U,c,l,null)}return;case"dialog":Et("beforetoggle",r),Et("toggle",r),Et("cancel",r),Et("close",r);break;case"iframe":case"object":Et("load",r);break;case"video":case"audio":for(c=0;c<Dc.length;c++)Et(Dc[c],r);break;case"image":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"embed":case"source":case"link":Et("error",r),Et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in l)if(l.hasOwnProperty(le)&&(c=l[le],c!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Gt(r,s,le,c,l,null)}return;default:if(Po(s)){for(we in l)l.hasOwnProperty(we)&&(c=l[we],c!==void 0&&gg(r,s,we,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&Gt(r,s,k,c,l,null))}function EI(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,A=null,k=null,U=null,le=null,we=null;for(he in l){var Se=l[he];if(l.hasOwnProperty(he)&&Se!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":U=Se;default:c.hasOwnProperty(he)||Gt(r,s,he,null,c,Se)}}for(var ce in c){var he=c[ce];if(Se=l[ce],c.hasOwnProperty(ce)&&(he!=null||Se!=null))switch(ce){case"type":v=he;break;case"name":p=he;break;case"checked":le=he;break;case"defaultChecked":we=he;break;case"value":A=he;break;case"defaultValue":k=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,s));break;default:he!==Se&&Gt(r,s,ce,he,c,Se)}}zn(r,A,k,U,le,we,v,p);return;case"select":he=A=k=ce=null;for(v in l)if(U=l[v],l.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":he=U;default:c.hasOwnProperty(v)||Gt(r,s,v,null,c,U)}for(p in c)if(v=c[p],U=l[p],c.hasOwnProperty(p)&&(v!=null||U!=null))switch(p){case"value":ce=v;break;case"defaultValue":k=v;break;case"multiple":A=v;default:v!==U&&Gt(r,s,p,v,c,U)}s=k,l=A,c=he,ce!=null?vi(r,!!l,ce,!1):!!c!=!!l&&(s!=null?vi(r,!!l,s,!0):vi(r,!!l,l?[]:"",!1));return;case"textarea":he=ce=null;for(k in l)if(p=l[k],l.hasOwnProperty(k)&&p!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Gt(r,s,k,null,c,p)}for(A in c)if(p=c[A],v=l[A],c.hasOwnProperty(A)&&(p!=null||v!=null))switch(A){case"value":ce=p;break;case"defaultValue":he=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==v&&Gt(r,s,A,p,c,v)}It(r,ce,he);return;case"option":for(var st in l)if(ce=l[st],l.hasOwnProperty(st)&&ce!=null&&!c.hasOwnProperty(st))switch(st){case"selected":r.selected=!1;break;default:Gt(r,s,st,null,c,ce)}for(U in c)if(ce=c[U],he=l[U],c.hasOwnProperty(U)&&ce!==he&&(ce!=null||he!=null))switch(U){case"selected":r.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Gt(r,s,U,ce,c,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in l)ce=l[nt],l.hasOwnProperty(nt)&&ce!=null&&!c.hasOwnProperty(nt)&&Gt(r,s,nt,null,c,ce);for(le in c)if(ce=c[le],he=l[le],c.hasOwnProperty(le)&&ce!==he&&(ce!=null||he!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,s));break;default:Gt(r,s,le,ce,c,he)}return;default:if(Po(s)){for(var $t in l)ce=l[$t],l.hasOwnProperty($t)&&ce!==void 0&&!c.hasOwnProperty($t)&&gg(r,s,$t,void 0,c,ce);for(we in c)ce=c[we],he=l[we],!c.hasOwnProperty(we)||ce===he||ce===void 0&&he===void 0||gg(r,s,we,ce,c,he);return}}for(var ee in l)ce=l[ee],l.hasOwnProperty(ee)&&ce!=null&&!c.hasOwnProperty(ee)&&Gt(r,s,ee,null,c,ce);for(Se in c)ce=c[Se],he=l[Se],!c.hasOwnProperty(Se)||ce===he||ce==null&&he==null||Gt(r,s,Se,ce,c,he)}var yg=null,vg=null;function sd(r){return r.nodeType===9?r:r.ownerDocument}function bb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function _g(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bg=null;function wI(){var r=window.event;return r&&r.type==="popstate"?r===bg?!1:(bg=r,!0):(bg=null,!1)}var wb=typeof setTimeout=="function"?setTimeout:void 0,TI=typeof clearTimeout=="function"?clearTimeout:void 0,Tb=typeof Promise=="function"?Promise:void 0,SI=typeof queueMicrotask=="function"?queueMicrotask:typeof Tb<"u"?function(r){return Tb.resolve(null).then(r).catch(AI)}:wb;function AI(r){setTimeout(function(){throw r})}function eo(r){return r==="head"}function Sb(r,s){var l=s,c=0,p=0;do{var v=l.nextSibling;if(r.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<c&&8>c){l=c;var A=r.ownerDocument;if(l&1&&Pc(A.documentElement),l&2&&Pc(A.body),l&4)for(l=A.head,Pc(l),A=l.firstChild;A;){var k=A.nextSibling,U=A.nodeName;A[Ls]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=k}}if(p===0){r.removeChild(v),qc(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=v}while(l);qc(s)}function Eg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Eg(l),Xn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function RI(r,s,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ls])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Zi(r.nextSibling),r===null)break}return null}function II(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Zi(r.nextSibling),r===null))return null;return r}function wg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function xI(r,s){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Zi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Tg=null;function Ab(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}function Rb(r,s,l){switch(s=sd(l),r){case"html":if(r=s.documentElement,!r)throw Error(n(452));return r;case"head":if(r=s.head,!r)throw Error(n(453));return r;case"body":if(r=s.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function Pc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Xn(r)}var Di=new Map,Ib=new Set;function ad(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ra=Ne.d;Ne.d={f:kI,r:CI,D:OI,C:DI,L:NI,m:PI,X:MI,S:VI,M:LI};function kI(){var r=ra.f(),s=Wf();return r||s}function CI(r){var s=Dn(r);s!==null&&s.tag===5&&s.type==="form"?$_(s):ra.r(r)}var hu=typeof document>"u"?null:document;function xb(r,s,l){var c=hu;if(c&&typeof s=="string"&&s){var p=nn(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Ib.has(p)||(Ib.add(p),r={rel:r,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),rr(s,"link",r),Mt(s),c.head.appendChild(s)))}}function OI(r){ra.D(r),xb("dns-prefetch",r,null)}function DI(r,s){ra.C(r,s),xb("preconnect",r,s)}function NI(r,s,l){ra.L(r,s,l);var c=hu;if(c&&r&&s){var p='link[rel="preload"][as="'+nn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+nn(l.imageSizes)+'"]')):p+='[href="'+nn(r)+'"]';var v=p;switch(s){case"style":v=fu(r);break;case"script":v=du(r)}Di.has(v)||(r=E({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Di.set(v,r),c.querySelector(p)!==null||s==="style"&&c.querySelector(Vc(v))||s==="script"&&c.querySelector(Mc(v))||(s=c.createElement("link"),rr(s,"link",r),Mt(s),c.head.appendChild(s)))}}function PI(r,s){ra.m(r,s);var l=hu;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+nn(c)+'"][href="'+nn(r)+'"]',v=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=du(r)}if(!Di.has(v)&&(r=E({rel:"modulepreload",href:r},s),Di.set(v,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Mc(v)))return}c=l.createElement("link"),rr(c,"link",r),Mt(c),l.head.appendChild(c)}}}function VI(r,s,l){ra.S(r,s,l);var c=hu;if(c&&r){var p=Wn(c).hoistableStyles,v=fu(r);s=s||"default";var A=p.get(v);if(!A){var k={loading:0,preload:null};if(A=c.querySelector(Vc(v)))k.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Di.get(v))&&Sg(r,l);var U=A=c.createElement("link");Mt(U),rr(U,"link",r),U._p=new Promise(function(le,we){U.onload=le,U.onerror=we}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,od(A,s,c)}A={type:"stylesheet",instance:A,count:1,state:k},p.set(v,A)}}}function MI(r,s){ra.X(r,s);var l=hu;if(l&&r){var c=Wn(l).hoistableScripts,p=du(r),v=c.get(p);v||(v=l.querySelector(Mc(p)),v||(r=E({src:r,async:!0},s),(s=Di.get(p))&&Ag(r,s),v=l.createElement("script"),Mt(v),rr(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function LI(r,s){ra.M(r,s);var l=hu;if(l&&r){var c=Wn(l).hoistableScripts,p=du(r),v=c.get(p);v||(v=l.querySelector(Mc(p)),v||(r=E({src:r,async:!0,type:"module"},s),(s=Di.get(p))&&Ag(r,s),v=l.createElement("script"),Mt(v),rr(v,"link",r),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(p,v))}}function kb(r,s,l,c){var p=(p=et.current)?ad(p):null;if(!p)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=fu(l.href),l=Wn(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=fu(l.href);var v=Wn(p).hoistableStyles,A=v.get(r);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,A),(v=p.querySelector(Vc(r)))&&!v._p&&(A.instance=v,A.state.loading=5),Di.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Di.set(r,l),v||jI(p,r,l,A.state))),s&&c===null)throw Error(n(528,""));return A}if(s&&c!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=du(l),l=Wn(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function fu(r){return'href="'+nn(r)+'"'}function Vc(r){return'link[rel="stylesheet"]['+r+"]"}function Cb(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function jI(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),rr(s,"link",l),Mt(s),r.head.appendChild(s))}function du(r){return'[src="'+nn(r)+'"]'}function Mc(r){return"script[async]"+r}function Ob(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+nn(l.href)+'"]');if(c)return s.instance=c,Mt(c),c;var p=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Mt(c),rr(c,"style",p),od(c,l.precedence,r),s.instance=c;case"stylesheet":p=fu(l.href);var v=r.querySelector(Vc(p));if(v)return s.state.loading|=4,s.instance=v,Mt(v),v;c=Cb(l),(p=Di.get(p))&&Sg(c,p),v=(r.ownerDocument||r).createElement("link"),Mt(v);var A=v;return A._p=new Promise(function(k,U){A.onload=k,A.onerror=U}),rr(v,"link",c),s.state.loading|=4,od(v,l.precedence,r),s.instance=v;case"script":return v=du(l.src),(p=r.querySelector(Mc(v)))?(s.instance=p,Mt(p),p):(c=l,(p=Di.get(v))&&(c=E({},l),Ag(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),Mt(p),rr(p,"link",c),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,od(c,l.precedence,r));return s.instance}function od(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,v=p,A=0;A<c.length;A++){var k=c[A];if(k.dataset.precedence===s)v=k;else if(v!==p)break}v?v.parentNode.insertBefore(r,v.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function Sg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ag(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ld=null;function Db(r,s,l){if(ld===null){var c=new Map,p=ld=new Map;p.set(l,c)}else p=ld,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var v=l[p];if(!(v[Ls]||v[tn]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(s)||"";A=r+A;var k=c.get(A);k?k.push(v):c.set(A,[v])}}return c}function Nb(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function UI(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Pb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Lc=null;function zI(){}function BI(r,s,l){if(Lc===null)throw Error(n(475));var c=Lc;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=fu(l.href),v=r.querySelector(Vc(p));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=ud.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=v,Mt(v);return}v=r.ownerDocument||r,l=Cb(l),(p=Di.get(p))&&Sg(l,p),v=v.createElement("link"),Mt(v);var A=v;A._p=new Promise(function(k,U){A.onload=k,A.onerror=U}),rr(v,"link",l),s.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=ud.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function qI(){if(Lc===null)throw Error(n(475));var r=Lc;return r.stylesheets&&r.count===0&&Rg(r,r.stylesheets),0<r.count?function(s){var l=setTimeout(function(){if(r.stylesheets&&Rg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(l)}}:null}function ud(){if(this.count--,this.count===0){if(this.stylesheets)Rg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var cd=null;function Rg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,cd=new Map,s.forEach(FI,r),cd=null,ud.call(r))}function FI(r,s){if(!(s.state.loading&4)){var l=cd.get(r);if(l)var c=l.get(null);else{l=new Map,cd.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var A=p[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}p=s.instance,A=p.getAttribute("data-precedence"),v=l.get(A)||c,v===c&&l.set(null,p),l.set(A,p),this.count++,c=ud.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),v?v.parentNode.insertBefore(p,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var jc={$$typeof:re,Provider:null,Consumer:null,_currentValue:qe,_currentValue2:qe,_threadCount:0};function KI(r,s,l,c,p,v,A,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Vb(r,s,l,c,p,v,A,k,U,le,we,Se){return r=new KI(r,s,l,A,k,U,le,Se),s=1,v===!0&&(s|=24),v=ei(3,null,null,s),r.current=v,v.stateNode=r,s=op(),s.refCount++,r.pooledCache=s,s.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:s},hp(v),r}function Mb(r){return r?(r=ys,r):ys}function Lb(r,s,l,c,p,v){p=Mb(p),c.context===null?c.context=p:c.pendingContext=p,c=Ba(s),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=qa(r,c,s),l!==null&&(si(l,r,s),mc(l,r,s))}function jb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Ig(r,s){jb(r,s),(r=r.alternate)&&jb(r,s)}function Ub(r){if(r.tag===13){var s=Wi(r,67108864);s!==null&&si(s,r,67108864),Ig(r,67108864)}}var hd=!0;function HI(r,s,l,c){var p=ye.T;ye.T=null;var v=Ne.p;try{Ne.p=2,xg(r,s,l,c)}finally{Ne.p=v,ye.T=p}}function GI(r,s,l,c){var p=ye.T;ye.T=null;var v=Ne.p;try{Ne.p=8,xg(r,s,l,c)}finally{Ne.p=v,ye.T=p}}function xg(r,s,l,c){if(hd){var p=kg(c);if(p===null)pg(r,s,c,fd,l),Bb(r,c);else if(QI(p,r,s,l,c))c.stopPropagation();else if(Bb(r,c),s&4&&-1<$I.indexOf(r)){for(;p!==null;){var v=Dn(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=An(v.pendingLanes);if(A!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var U=1<<31-hn(A);k.entanglements[1]|=U,A&=~U}ws(v),(Ut&6)===0&&(Yf=xr()+500,Oc(0))}}break;case 13:k=Wi(v,2),k!==null&&si(k,v,2),Wf(),Ig(v,2)}if(v=kg(c),v===null&&pg(r,s,c,fd,l),v===p)break;p=v}p!==null&&c.stopPropagation()}else pg(r,s,c,null,l)}}function kg(r){return r=wr(r),Cg(r)}var fd=null;function Cg(r){if(fd=null,r=sr(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return fd=r,null}function zb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ic()){case ko:return 2;case as:return 8;case jn:case Ul:return 32;case hi:return 268435456;default:return 32}default:return 32}}var Og=!1,to=null,no=null,ro=null,Uc=new Map,zc=new Map,io=[],$I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bb(r,s){switch(r){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Uc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(s.pointerId)}}function Bc(r,s,l,c,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},s!==null&&(s=Dn(s),s!==null&&Ub(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function QI(r,s,l,c,p){switch(s){case"focusin":return to=Bc(to,r,s,l,c,p),!0;case"dragenter":return no=Bc(no,r,s,l,c,p),!0;case"mouseover":return ro=Bc(ro,r,s,l,c,p),!0;case"pointerover":var v=p.pointerId;return Uc.set(v,Bc(Uc.get(v)||null,r,s,l,c,p)),!0;case"gotpointercapture":return v=p.pointerId,zc.set(v,Bc(zc.get(v)||null,r,s,l,c,p)),!0}return!1}function qb(r){var s=sr(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,Li(r.priority,function(){if(l.tag===13){var c=ii();c=us(c);var p=Wi(l,c);p!==null&&si(p,l,c),Ig(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function dd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=kg(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Bn=c,l.target.dispatchEvent(c),Bn=null}else return s=Dn(l),s!==null&&Ub(s),r.blockedOn=l,!1;s.shift()}return!0}function Fb(r,s,l){dd(r)&&l.delete(s)}function YI(){Og=!1,to!==null&&dd(to)&&(to=null),no!==null&&dd(no)&&(no=null),ro!==null&&dd(ro)&&(ro=null),Uc.forEach(Fb),zc.forEach(Fb)}function md(r,s){r.blockedOn===s&&(r.blockedOn=null,Og||(Og=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,YI)))}var pd=null;function Kb(r){pd!==r&&(pd=r,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){pd===r&&(pd=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],p=r[s+2];if(typeof c!="function"){if(Cg(c||l)===null)continue;break}var v=Dn(l);v!==null&&(r.splice(s,3),s-=3,Cp(v,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function qc(r){function s(U){return md(U,r)}to!==null&&md(to,r),no!==null&&md(no,r),ro!==null&&md(ro,r),Uc.forEach(s),zc.forEach(s);for(var l=0;l<io.length;l++){var c=io[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<io.length&&(l=io[0],l.blockedOn===null);)qb(l),l.blockedOn===null&&io.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],v=l[c+1],A=p[ct]||null;if(typeof v=="function")A||Kb(l);else if(A){var k=null;if(v&&v.hasAttribute("formAction")){if(p=v,A=v[ct]||null)k=A.formAction;else if(Cg(p)!==null)continue}else k=A.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),Kb(l)}}}function Dg(r){this._internalRoot=r}gd.prototype.render=Dg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,c=ii();Lb(l,c,r,s,null,null)},gd.prototype.unmount=Dg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Lb(r.current,2,null,r,null,null),Wf(),s[Nt]=null}};function gd(r){this._internalRoot=r}gd.prototype.unstable_scheduleHydration=function(r){if(r){var s=vr();r={blockedOn:null,target:r,priority:s};for(var l=0;l<io.length&&s!==0&&s<io[l].priority;l++);io.splice(l,0,r),l===0&&qb(r)}};var Hb=e.version;if(Hb!=="19.1.0")throw Error(n(527,Hb,"19.1.0"));Ne.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var XI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ye,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{Vt=yd.inject(XI),vt=yd}catch{}}return Kc.createRoot=function(r,s){if(!a(r))throw Error(n(299));var l=!1,c="",p=o0,v=l0,A=u0,k=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=Vb(r,1,!1,null,null,l,c,p,v,A,k,null),r[Nt]=s.current,mg(r),new Dg(s)},Kc.hydrateRoot=function(r,s,l){if(!a(r))throw Error(n(299));var c=!1,p="",v=o0,A=l0,k=u0,U=null,le=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(le=l.formState)),s=Vb(r,1,!0,s,l??null,c,p,v,A,k,U,le),s.context=Mb(null),l=s.current,c=ii(),c=us(c),p=Ba(c),p.callback=null,qa(l,p,c),l=c,s.current.lanes=l,di(s,l),ws(s),r[Nt]=s.current,mg(r),new gd(s)},Kc.version="19.1.0",Kc}var nE;function ux(){if(nE)return Vg.exports;nE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vg.exports=lx(),Vg.exports}var cx=ux();const Wh=me.createContext(void 0),hx=()=>{};var rE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let a=i.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},fx=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const a=i[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=i[t++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=i[t++],u=i[t++],h=i[t++],m=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(m>>10)),e[n++]=String.fromCharCode(56320+(m&1023))}else{const o=i[t++],u=i[t++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},rS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<i.length;a+=3){const o=i[a],u=a+1<i.length,h=u?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,E=o>>2,S=(o&3)<<4|h>>4;let I=(h&15)<<2|g>>6,P=g&63;m||(P=64,u||(I=64)),n.push(t[E],t[S],t[I],t[P])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(nS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):fx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<i.length;){const o=t[i.charAt(a++)],h=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const S=a<i.length?t[i.charAt(a)]:64;if(++a,o==null||h==null||g==null||S==null)throw new dx;const I=o<<2|h>>4;if(n.push(I),g!==64){const P=h<<4&240|g>>2;if(n.push(P),S!==64){const N=g<<6&192|S;n.push(N)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class dx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mx=function(i){const e=nS(i);return rS.encodeByteArray(e,!0)},iS=function(i){return mx(i).replace(/\./g,"")},sS=function(i){try{return rS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=()=>aS().__FIREBASE_DEFAULTS__,gx=()=>{if(typeof process>"u"||typeof rE>"u")return;const i=rE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&sS(i[1]);return e&&JSON.parse(e)},Am=()=>{try{return hx()||px()||gx()||yx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},vx=i=>{var e,t;return(t=(e=Am())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},oS=()=>{var i;return(i=Am())===null||i===void 0?void 0:i.config},lS=i=>{var e;return(e=Am())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i){return i.endsWith(".cloudworkstations.dev")}async function uS(i){return(await fetch(i,{credentials:"include"})).ok}const wh={};function bx(){const i={prod:[],emulator:[]};for(const e of Object.keys(wh))wh[e]?i.emulator.push(e):i.prod.push(e);return i}function Ex(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let iE=!1;function Yy(i,e){if(typeof window>"u"||typeof document>"u"||!Jh(window.location.host)||wh[i]===e||wh[i]||iE)return;wh[i]=e;function t(I){return`__firebase__banner__${I}`}const n="__firebase__banner",o=bx().prod.length>0;function u(){const I=document.getElementById(n);I&&I.remove()}function h(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function m(I,P){I.setAttribute("width","24"),I.setAttribute("id",P),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{iE=!0,u()},I}function E(I,P){I.setAttribute("id",P),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=Ex(n),P=t("text"),N=document.getElementById(P)||document.createElement("span"),Z=t("learnmore"),ne=document.getElementById(Z)||document.createElement("a"),ge=t("preprendIcon"),_e=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const re=I.element;h(re),E(ne,Z);const ve=g();m(_e,ge),re.append(_e,N,ne,ve),document.body.appendChild(re)}o?(N.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function Tx(){var i;const e=(i=Am())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ax(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Rx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ix(){const i=Mn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cS(){return!Tx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function xx(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="FirebaseError";class ya extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=kx,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zh.prototype.create)}}class Zh{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?Cx(o,n):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ya(a,h,n)}}function Cx(i,e){return i.replace(Ox,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const Ox=/\{\$([^}]+)}/g;function Dx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Sl(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const o=i[a],u=e[a];if(sE(o)&&sE(u)){if(!Sl(o,u))return!1}else if(o!==u)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function sE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Nx(i,e){const t=new Px(i,e);return t.subscribe.bind(t)}class Px{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");Vx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=Ug),a.error===void 0&&(a.error=Ug),a.complete===void 0&&(a.complete=Ug);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vx(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(i){return i&&i._delegate?i._delegate:i}class Al{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new _x;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jx(e))try{this.getOrInitializeService({instanceIdentifier:cl})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=cl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cl){return this.instances.has(e)}getOptions(e=cl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);n===h&&u.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Lx(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=cl){return this.component?this.component.multipleInstances?e:cl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lx(i){return i===cl?void 0:i}function jx(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(At||(At={}));const zx={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},Bx=At.INFO,qx={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},Fx=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),a=qx[e];if(a)console[a](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Xy=class{constructor(e){this.name=e,this._logLevel=Bx,this._logHandler=Fx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...e),this._logHandler(this,At.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...e),this._logHandler(this,At.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,At.INFO,...e),this._logHandler(this,At.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,At.WARN,...e),this._logHandler(this,At.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...e),this._logHandler(this,At.ERROR,...e)}};const Kx=(i,e)=>e.some(t=>i instanceof t);let aE,oE;function Hx(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gx(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fS=new WeakMap,oy=new WeakMap,dS=new WeakMap,zg=new WeakMap,Wy=new WeakMap;function $x(i){const e=new Promise((t,n)=>{const a=()=>{i.removeEventListener("success",o),i.removeEventListener("error",u)},o=()=>{t(go(i.result)),a()},u=()=>{n(i.error),a()};i.addEventListener("success",o),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&fS.set(t,i)}).catch(()=>{}),Wy.set(e,i),e}function Qx(i){if(oy.has(i))return;const e=new Promise((t,n)=>{const a=()=>{i.removeEventListener("complete",o),i.removeEventListener("error",u),i.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{n(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",o),i.addEventListener("error",u),i.addEventListener("abort",u)});oy.set(i,e)}let ly={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return oy.get(i);if(e==="objectStoreNames")return i.objectStoreNames||dS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return go(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Yx(i){ly=i(ly)}function Xx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(Bg(this),e,...t);return dS.set(n,e.sort?e.sort():[e]),go(n)}:Gx().includes(i)?function(...e){return i.apply(Bg(this),e),go(fS.get(this))}:function(...e){return go(i.apply(Bg(this),e))}}function Wx(i){return typeof i=="function"?Xx(i):(i instanceof IDBTransaction&&Qx(i),Kx(i,Hx())?new Proxy(i,ly):i)}function go(i){if(i instanceof IDBRequest)return $x(i);if(zg.has(i))return zg.get(i);const e=Wx(i);return e!==i&&(zg.set(i,e),Wy.set(e,i)),e}const Bg=i=>Wy.get(i);function Jx(i,e,{blocked:t,upgrade:n,blocking:a,terminated:o}={}){const u=indexedDB.open(i,e),h=go(u);return n&&u.addEventListener("upgradeneeded",m=>{n(go(u.result),m.oldVersion,m.newVersion,go(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{o&&m.addEventListener("close",()=>o()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Zx=["get","getKey","getAll","getAllKeys","count"],ek=["put","add","delete","clear"],qg=new Map;function lE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=ek.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Zx.includes(t)))return;const o=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return n&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),a&&m.done]))[0]};return qg.set(e,o),o}Yx(i=>({...i,get:(e,t,n)=>lE(e,t)||i.get(e,t,n),has:(e,t)=>!!lE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nk(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function nk(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uy="@firebase/app",uE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Xy("@firebase/app"),rk="@firebase/app-compat",ik="@firebase/analytics-compat",sk="@firebase/analytics",ak="@firebase/app-check-compat",ok="@firebase/app-check",lk="@firebase/auth",uk="@firebase/auth-compat",ck="@firebase/database",hk="@firebase/data-connect",fk="@firebase/database-compat",dk="@firebase/functions",mk="@firebase/functions-compat",pk="@firebase/installations",gk="@firebase/installations-compat",yk="@firebase/messaging",vk="@firebase/messaging-compat",_k="@firebase/performance",bk="@firebase/performance-compat",Ek="@firebase/remote-config",wk="@firebase/remote-config-compat",Tk="@firebase/storage",Sk="@firebase/storage-compat",Ak="@firebase/firestore",Rk="@firebase/vertexai",Ik="@firebase/firestore-compat",xk="firebase",kk="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="[DEFAULT]",Ck={[uy]:"fire-core",[rk]:"fire-core-compat",[sk]:"fire-analytics",[ik]:"fire-analytics-compat",[ok]:"fire-app-check",[ak]:"fire-app-check-compat",[lk]:"fire-auth",[uk]:"fire-auth-compat",[ck]:"fire-rtdb",[hk]:"fire-data-connect",[fk]:"fire-rtdb-compat",[dk]:"fire-fn",[mk]:"fire-fn-compat",[pk]:"fire-iid",[gk]:"fire-iid-compat",[yk]:"fire-fcm",[vk]:"fire-fcm-compat",[_k]:"fire-perf",[bk]:"fire-perf-compat",[Ek]:"fire-rc",[wk]:"fire-rc-compat",[Tk]:"fire-gcs",[Sk]:"fire-gcs-compat",[Ak]:"fire-fst",[Ik]:"fire-fst-compat",[Rk]:"fire-vertex","fire-js":"fire-js",[xk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map,Ok=new Map,hy=new Map;function cE(i,e){try{i.container.addComponent(e)}catch(t){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Du(i){const e=i.name;if(hy.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,i);for(const t of Kd.values())cE(t,i);for(const t of Ok.values())cE(t,i);return!0}function Jy(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ts(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new Zh("app","Firebase",Dk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Al("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=kk;function mS(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n=Object.assign({name:cy,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw yo.create("bad-app-name",{appName:String(a)});if(t||(t=oS()),!t)throw yo.create("no-options");const o=Kd.get(a);if(o){if(Sl(t,o.options)&&Sl(n,o.config))return o;throw yo.create("duplicate-app",{appName:a})}const u=new Ux(a);for(const m of hy.values())u.addComponent(m);const h=new Nk(t,n,u);return Kd.set(a,h),h}function Pk(i=cy){const e=Kd.get(i);if(!e&&i===cy&&oS())return mS();if(!e)throw yo.create("no-app",{appName:i});return e}function vo(i,e,t){var n;let a=(n=Ck[i])!==null&&n!==void 0?n:i;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(h.join(" "));return}Du(new Al(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="firebase-heartbeat-database",Mk=1,Dh="firebase-heartbeat-store";let Fg=null;function pS(){return Fg||(Fg=Jx(Vk,Mk,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Dh)}catch(t){console.warn(t)}}}}).catch(i=>{throw yo.create("idb-open",{originalErrorMessage:i.message})})),Fg}async function Lk(i){try{const t=(await pS()).transaction(Dh),n=await t.objectStore(Dh).get(gS(i));return await t.done,n}catch(e){if(e instanceof ya)fa.warn(e.message);else{const t=yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fa.warn(t.message)}}}async function hE(i,e){try{const n=(await pS()).transaction(Dh,"readwrite");await n.objectStore(Dh).put(e,gS(i)),await n.done}catch(t){if(t instanceof ya)fa.warn(t.message);else{const n=yo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fa.warn(n.message)}}}function gS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=1024,Uk=30;class zk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qk(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>Uk){const u=Fk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){fa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fE(),{heartbeatsToSend:n,unsentEntries:a}=Bk(this._heartbeatsCache.heartbeats),o=iS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fa.warn(t),""}}}function fE(){return new Date().toISOString().substring(0,10)}function Bk(i,e=jk){const t=[];let n=i.slice();for(const a of i){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),dE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),dE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class qk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Lk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return hE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return hE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function dE(i){return iS(JSON.stringify({version:2,heartbeats:i})).length}function Fk(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(i){Du(new Al("platform-logger",e=>new tk(e),"PRIVATE")),Du(new Al("heartbeat",e=>new zk(e),"PRIVATE")),vo(uy,uE,i),vo(uy,uE,"esm2017"),vo("fire-js","")}Kk("");function Zy(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(i);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(i,n[a])&&(t[n[a]]=i[n[a]]);return t}function yS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hk=yS,vS=new Zh("auth","Firebase",yS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Xy("@firebase/auth");function Gk(i,...e){Hd.logLevel<=At.WARN&&Hd.warn(`Auth (${Xu}): ${i}`,...e)}function xd(i,...e){Hd.logLevel<=At.ERROR&&Hd.error(`Auth (${Xu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(i,...e){throw tv(i,...e)}function is(i,...e){return tv(i,...e)}function ev(i,e,t){const n=Object.assign(Object.assign({},Hk()),{[e]:t});return new Zh("auth","Firebase",n).create(e,{appName:i.name})}function _l(i){return ev(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $k(i,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&ks(i,"argument-error"),ev(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tv(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return vS.create(i,...e)}function ot(i,e,...t){if(!i)throw tv(e,...t)}function aa(i){const e="INTERNAL ASSERTION FAILED: "+i;throw xd(e),new Error(e)}function da(i,e){i||aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Qk(){return mE()==="http:"||mE()==="https:"}function mE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qk()||Ax()||"connection"in navigator)?navigator.onLine:!0}function Xk(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.shortDelay=e,this.longDelay=t,da(t>e,"Short delay should be less than long delay!"),this.isMobile=wx()||Rx()}get(){return Yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(i,e){da(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Zk=new tf(3e4,6e4);function rv(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Wu(i,e,t,n,a={}){return bS(i,a,async()=>{let o={},u={};n&&(e==="GET"?u=n:o={body:JSON.stringify(n)});const h=ef(Object.assign({key:i.config.apiKey},u)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},o);return Sx()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Jh(i.emulatorConfig.host)&&(g.credentials="include"),_S.fetch()(await ES(i,i.config.apiHost,t,h),g)})}async function bS(i,e,t){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},Wk),e);try{const a=new tC(i),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw vd(i,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(i,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw vd(i,"email-already-in-use",u);if(m==="USER_DISABLED")throw vd(i,"user-disabled",u);const E=n[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ev(i,E,g);ks(i,E)}}catch(a){if(a instanceof ya)throw a;ks(i,"network-request-failed",{message:String(a)})}}async function eC(i,e,t,n,a={}){const o=await Wu(i,e,t,n,a);return"mfaPendingCredential"in o&&ks(i,"multi-factor-auth-required",{_serverResponse:o}),o}async function ES(i,e,t,n){const a=`${e}${t}?${n}`,o=i,u=o.config.emulator?nv(i.config,a):`${i.config.apiScheme}://${a}`;return Jk.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class tC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(is(this.auth,"network-request-failed")),Zk.get())})}}function vd(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=is(i,e,n);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(i,e){return Wu(i,"POST","/v1/accounts:delete",e)}async function Gd(i,e){return Wu(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(i,e=!1){const t=Ro(i),n=await t.getIdToken(e),a=iv(n);ot(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:n,authTime:Th(Kg(a.auth_time)),issuedAtTime:Th(Kg(a.iat)),expirationTime:Th(Kg(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Kg(i){return Number(i)*1e3}function iv(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const a=sS(t);return a?JSON.parse(a):(xd("Failed to decode base64 JWT payload"),null)}catch(a){return xd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function pE(i){const e=iv(i);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ya&&iC(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function iC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(i){var e;const t=i.auth,n=await i.getIdToken(),a=await Nh(i,Gd(t,{idToken:n}));ot(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wS(o.providerUserInfo):[],h=oC(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),E=m?g:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new dy(o.createdAt,o.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function aC(i){const e=Ro(i);await $d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oC(i,e){return[...i.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function wS(i){return i.map(e=>{var{providerId:t}=e,n=Zy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(i,e){const t=await bS(i,{},async()=>{const n=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=i.config,u=await ES(i,a,"/v1/token",`key=${o}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",_S.fetch()(u,{method:"POST",headers:h,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uC(i,e){return Wu(i,"POST","/v2/accounts:revokeToken",rv(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const t=pE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:o}=await lC(e,t);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:o}=t,u=new xu;return n&&(ot(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),a&&(ot(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(ot(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xu,this.toJSON())}_performRefresh(){return aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(i,e){ot(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,o=Zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Nh(this,this.stsTokenManager.getToken(this.auth,e));return ot(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rC(this,e)}reload(){return aC(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $d(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ts(this.auth.app))return Promise.reject(_l(this.auth));const e=await this.getIdToken();return await Nh(this,nC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,o,u,h,m,g,E;const S=(n=t.displayName)!==null&&n!==void 0?n:void 0,I=(a=t.email)!==null&&a!==void 0?a:void 0,P=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,N=(u=t.photoURL)!==null&&u!==void 0?u:void 0,Z=(h=t.tenantId)!==null&&h!==void 0?h:void 0,ne=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,ge=(g=t.createdAt)!==null&&g!==void 0?g:void 0,_e=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:ve,isAnonymous:Ae,providerData:De,stsTokenManager:M}=t;ot(re&&M,e,"internal-error");const D=xu.fromJSON(this.name,M);ot(typeof re=="string",e,"internal-error"),ao(S,e.name),ao(I,e.name),ot(typeof ve=="boolean",e,"internal-error"),ot(typeof Ae=="boolean",e,"internal-error"),ao(P,e.name),ao(N,e.name),ao(Z,e.name),ao(ne,e.name),ao(ge,e.name),ao(_e,e.name);const V=new ns({uid:re,auth:e,email:I,emailVerified:ve,displayName:S,isAnonymous:Ae,photoURL:N,phoneNumber:P,tenantId:Z,stsTokenManager:D,createdAt:ge,lastLoginAt:_e});return De&&Array.isArray(De)&&(V.providerData=De.map(z=>Object.assign({},z))),ne&&(V._redirectEventId=ne),V}static async _fromIdTokenResponse(e,t,n=!1){const a=new xu;a.updateFromServerResponse(t);const o=new ns({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await $d(o),o}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];ot(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?wS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new xu;h.updateFromIdToken(n);const m=new ns({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new dy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function oa(i){da(i instanceof Function,"Expected a class definition");let e=gE.get(i);return e?(da(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,gE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TS.type="NONE";const yE=TS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(i,e,t){return`firebase:${i}:${e}:${t}`}class ku{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=kd(this.userKey,a.apiKey,o),this.fullPersistenceKey=kd("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gd(this.auth,{idToken:e}).catch(()=>{});return t?ns._fromGetAccountInfoResponse(this.auth,t,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ku(oa(yE),e,n);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||oa(yE);const u=kd(n,e.config.apiKey,e.name);let h=null;for(const g of t)try{const E=await g._get(u);if(E){let S;if(typeof E=="string"){const I=await Gd(e,{idToken:E}).catch(()=>{});if(!I)break;S=await ns._fromGetAccountInfoResponse(e,I,E)}else S=ns._fromJSON(e,E);g!==o&&(h=S),o=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new ku(o,e,n):(o=m[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new ku(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kS(e))return"Blackberry";if(CS(e))return"Webos";if(AS(e))return"Safari";if((e.includes("chrome/")||RS(e))&&!e.includes("edge/"))return"Chrome";if(xS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function SS(i=Mn()){return/firefox\//i.test(i)}function AS(i=Mn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RS(i=Mn()){return/crios\//i.test(i)}function IS(i=Mn()){return/iemobile/i.test(i)}function xS(i=Mn()){return/android/i.test(i)}function kS(i=Mn()){return/blackberry/i.test(i)}function CS(i=Mn()){return/webos/i.test(i)}function sv(i=Mn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function cC(i=Mn()){var e;return sv(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hC(){return Ix()&&document.documentMode===10}function OS(i=Mn()){return sv(i)||xS(i)||CS(i)||kS(i)||/windows phone/i.test(i)||IS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(i,e=[]){let t;switch(i){case"Browser":t=vE(Mn());break;case"Worker":t=`${vE(Mn())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((u,h)=>{try{const m=e(o);u(m)}catch(m){h(m)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e={}){return Wu(i,"GET","/v2/passwordPolicy",rv(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=6;class pC{constructor(e){var t,n,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:mC,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,o,u,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(n=m.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsUppercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new fC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oa(t)),this._initializationPromise=this.queue(async()=>{var n,a,o;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gd(this,{idToken:e}),n=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ts(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ts(this.app))return Promise.reject(_l(this));const t=e?Ro(e):null;return t&&ot(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ts(this.app)?Promise.reject(_l(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ts(this.app)?Promise.reject(_l(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dC(this),t=new pC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zh("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await uC(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oa(e)||this._popupRedirectResolver;ot(t,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[oa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,n,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Gk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Rm(i){return Ro(i)}class _E{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nx(t=>this.observer=t)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let av={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yC(i){av=i}function vC(i){return av.loadJS(i)}function _C(){return av.gapiScript}function bC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(i,e){const t=Jy(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Sl(o,e??{}))return a;ks(a,"already-initialized")}return t.initialize({options:e})}function wC(i,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(oa);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function TC(i,e,t){const n=Rm(i);ot(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=NS(e),{host:u,port:h}=SC(e),m=h===null?"":`:${h}`,g={url:`${o}//${u}${m}/`},E=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){ot(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ot(Sl(g,n.config.emulator)&&Sl(E,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=g,n.emulatorConfig=E,n.settings.appVerificationDisabledForTesting=!0,Jh(u)?(Yy("Auth",!0),uS(`${o}//${u}${m}`)):AC()}function NS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function SC(i){const e=NS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:bE(n.substr(o.length+1))}}else{const[o,u]=n.split(":");return{host:o,port:bE(u)}}}function bE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function AC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return aa("not implemented")}_getIdTokenResponse(e){return aa("not implemented")}_linkToIdToken(e,t){return aa("not implemented")}_getReauthenticationResolver(e){return aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(i,e){return eC(i,"POST","/v1/accounts:signInWithIdp",rv(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="http://localhost";class Rl extends PS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ks("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,o=Zy(t,["providerId","signInMethod"]);if(!n||!a)return null;const u=new Rl(n,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Cu(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Cu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cu(e,t)}buildRequest(){const e={requestUri:RC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ef(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends ov{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends nf{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rl._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return sa.credential(t,n)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends nf{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends nf{constructor(){super("twitter.com")}static credential(e,t){return Rl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return fo.credential(t,n)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const o=await ns._fromIdTokenResponse(e,n,a),u=EE(n);return new Nu({user:o,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=EE(n);return new Nu({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function EE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends ya{constructor(e,t,n,a){var o;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Qd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new Qd(e,t,n,a)}}function VS(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Qd._fromErrorAndOperation(i,o,e,n):o})}async function IC(i,e,t=!1){const n=await Nh(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Nu._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(i,e,t=!1){const{auth:n}=i;if(ts(n.app))return Promise.reject(_l(n));const a="reauthenticate";try{const o=await Nh(i,VS(n,a,e,i),t);ot(o.idToken,n,"internal-error");const u=iv(o.idToken);ot(u,n,"internal-error");const{sub:h}=u;return ot(i.uid===h,n,"user-mismatch"),Nu._forOperation(i,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ks(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e,t=!1){if(ts(i.app))return Promise.reject(_l(i));const n="signIn",a=await VS(i,n,e),o=await Nu._fromIdTokenResponse(i,n,a);return t||await i._updateCurrentUser(o.user),o}function CC(i,e,t,n){return Ro(i).onIdTokenChanged(e,t,n)}function OC(i,e,t){return Ro(i).beforeAuthStateChanged(e,t)}function DC(i){return Ro(i).signOut()}const Yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yd,"1"),this.storage.removeItem(Yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1e3,PC=10;class LS extends MS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},o=this.storage.getItem(n);hC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,PC):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LS.type="LOCAL";const VC=LS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends MS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jS.type="SESSION";const US=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new Im(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const h=Array.from(u).map(async g=>g(t.origin,o)),m=await MC(h);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,m)=>{const g=lv("",20);a.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},n);u={messageChannel:a,onMessage(S){const I=S;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(I.data.response);break;default:clearTimeout(E),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function jC(i){xs().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function UC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function BC(){return zS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebaseLocalStorageDb",qC=1,Xd="firebaseLocalStorage",qS="fbase_key";class rf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xm(i,e){return i.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function FC(){const i=indexedDB.deleteDatabase(BS);return new rf(i).toPromise()}function my(){const i=indexedDB.open(BS,qC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(Xd,{keyPath:qS})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(Xd)?e(n):(n.close(),await FC(),e(await my()))})})}async function wE(i,e,t){const n=xm(i,!0).put({[qS]:e,value:t});return new rf(n).toPromise()}async function KC(i,e){const t=xm(i,!1).get(e),n=await new rf(t).toPromise();return n===void 0?null:n.value}function TE(i,e){const t=xm(i,!0).delete(e);return new rf(t).toPromise()}const HC=800,GC=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>GC)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Im._getInstance(BC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await UC(),!this.activeServiceWorker)return;this.sender=new LC(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await my();return await wE(e,Yd,"1"),await TE(e,Yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>KC(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=xm(a,!1).getAll();return new rf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const $C=FS;new tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(i,e){return e?oa(e):(ot(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends PS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QC(i){return kC(i.auth,new uv(i),i.bypassAuthState)}function YC(i){const{auth:e,user:t}=i;return ot(t,e,"internal-error"),xC(t,new uv(i),i.bypassAuthState)}async function XC(i){const{auth:e,user:t}=i;return ot(t,e,"internal-error"),IC(t,new uv(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QC;case"linkViaPopup":case"linkViaRedirect":return XC;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:ks(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new tf(2e3,1e4);async function JC(i,e,t){if(ts(i.app))return Promise.reject(is(i,"operation-not-supported-in-this-environment"));const n=Rm(i);$k(i,e,ov);const a=KS(n,t);return new yl(n,"signInViaPopup",e,a).executeNotNull()}class yl extends HS{constructor(e,t,n,a,o){super(e,t,a,o),this.provider=n,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WC.get())};e()}}yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="pendingRedirect",Cd=new Map;class e2 extends HS{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const n=await t2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(i,e){const t=i2(e),n=r2(i);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function n2(i,e){Cd.set(i._key(),e)}function r2(i){return oa(i._redirectPersistence)}function i2(i){return kd(ZC,i.config.apiKey,i.name)}async function s2(i,e,t=!1){if(ts(i.app))return Promise.reject(_l(i));const n=Rm(i),a=KS(n,e),u=await new e2(n,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=10*60*1e3;class o2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!GS(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(is(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a2&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function GS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(i,e={}){return Wu(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h2=/^https?/;async function f2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await u2(i);for(const t of e)try{if(d2(t))return}catch{}ks(i,"unauthorized-domain")}function d2(i){const e=fy(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!h2.test(t))return!1;if(c2.test(i))return n===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new tf(3e4,6e4);function AE(){const i=xs().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function p2(i){return new Promise((e,t)=>{var n,a,o;function u(){AE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AE(),t(is(i,"network-request-failed"))},timeout:m2.get()})}if(!((a=(n=xs().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=xs().gapi)===null||o===void 0)&&o.load)u();else{const h=bC("iframefcb");return xs()[h]=()=>{gapi.load?u():t(is(i,"network-request-failed"))},vC(`${_C()}?onload=${h}`).catch(m=>t(m))}}).catch(e=>{throw Od=null,e})}let Od=null;function g2(i){return Od=Od||p2(i),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new tf(5e3,15e3),v2="__/auth/iframe",_2="emulator/auth/iframe",b2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w2(i){const e=i.config;ot(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?nv(e,_2):`https://${i.config.authDomain}/${v2}`,n={apiKey:e.apiKey,appName:i.name,v:Xu},a=E2.get(i.config.apiHost);a&&(n.eid=a);const o=i._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${ef(n).slice(1)}`}async function T2(i){const e=await g2(i),t=xs().gapi;return ot(t,i,"internal-error"),e.open({where:document.body,url:w2(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b2,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const u=is(i,"network-request-failed"),h=xs().setTimeout(()=>{o(u)},y2.get());function m(){xs().clearTimeout(h),a(n)}n.ping(m).then(m,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A2=500,R2=600,I2="_blank",x2="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k2(i,e,t,n=A2,a=R2){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const m=Object.assign(Object.assign({},S2),{width:n.toString(),height:a.toString(),top:o,left:u}),g=Mn().toLowerCase();t&&(h=RS(g)?I2:t),SS(g)&&(e=e||x2,m.scrollbars="yes");const E=Object.entries(m).reduce((I,[P,N])=>`${I}${P}=${N},`,"");if(cC(g)&&h!=="_self")return C2(e||"",h),new RE(null);const S=window.open(e||"",h,E);ot(S,i,"popup-blocked");try{S.focus()}catch{}return new RE(S)}function C2(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="__/auth/handler",D2="emulator/auth/handler",N2=encodeURIComponent("fac");async function IE(i,e,t,n,a,o){ot(i.config.authDomain,i,"auth-domain-config-required"),ot(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Xu,eventId:a};if(e instanceof ov){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",Dx(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))u[E]=S}if(e instanceof nf){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(u.scopes=E.join(","))}i.tenantId&&(u.tid=i.tenantId);const h=u;for(const E of Object.keys(h))h[E]===void 0&&delete h[E];const m=await i._getAppCheckToken(),g=m?`#${N2}=${encodeURIComponent(m)}`:"";return`${P2(i)}?${ef(h).slice(1)}${g}`}function P2({config:i}){return i.emulator?nv(i,D2):`https://${i.authDomain}/${O2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="webStorageSupport";class V2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=US,this._completeRedirectFn=s2,this._overrideRedirectResult=n2}async _openPopup(e,t,n,a){var o;da((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await IE(e,t,n,fy(),a);return k2(e,u,lv())}async _openRedirect(e,t,n,a){await this._originValidation(e);const o=await IE(e,t,n,fy(),a);return jC(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(da(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await T2(e),n=new o2(e);return t.register("authEvent",a=>(ot(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hg,{type:Hg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Hg];u!==void 0&&t(!!u),ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=f2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OS()||AS()||sv()}}const M2=V2;var xE="@firebase/auth",kE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U2(i){Du(new Al("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=n.options;ot(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const m={apiKey:u,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DS(i)},g=new gC(n,a,o,m);return wC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Du(new Al("auth-internal",e=>{const t=Rm(e.getProvider("auth").getImmediate());return(n=>new L2(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(xE,kE,j2(i)),vo(xE,kE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=5*60,B2=lS("authIdTokenMaxAge")||z2;let CE=null;const q2=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>B2)return;const a=t==null?void 0:t.token;CE!==a&&(CE=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function F2(i=Pk()){const e=Jy(i,"auth");if(e.isInitialized())return e.getImmediate();const t=EC(i,{popupRedirectResolver:M2,persistence:[$C,VC,US]}),n=lS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const u=q2(o.toString());OC(t,u,()=>u(t.currentUser)),CC(t,h=>u(h))}}const a=vx("auth");return a?TC(t,`http://${a}`):Yy("Auth",!1),t}function K2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}yC({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=a=>{const o=is("internal-error");o.customData=a,t(o)},n.type="text/javascript",n.charset="UTF-8",K2().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U2("Browser");var H2="firebase",G2="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo(H2,G2,"app");var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,$S;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,D){function V(){}V.prototype=D.prototype,M.D=D.prototype,M.prototype=new V,M.prototype.constructor=M,M.C=function(z,Q,J){for(var j=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)j[Dt-2]=arguments[Dt];return D.prototype[Q].apply(z,j)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,D,V){V||(V=0);var z=Array(16);if(typeof D=="string")for(var Q=0;16>Q;++Q)z[Q]=D.charCodeAt(V++)|D.charCodeAt(V++)<<8|D.charCodeAt(V++)<<16|D.charCodeAt(V++)<<24;else for(Q=0;16>Q;++Q)z[Q]=D[V++]|D[V++]<<8|D[V++]<<16|D[V++]<<24;D=M.g[0],V=M.g[1],Q=M.g[2];var J=M.g[3],j=D+(J^V&(Q^J))+z[0]+3614090360&4294967295;D=V+(j<<7&4294967295|j>>>25),j=J+(Q^D&(V^Q))+z[1]+3905402710&4294967295,J=D+(j<<12&4294967295|j>>>20),j=Q+(V^J&(D^V))+z[2]+606105819&4294967295,Q=J+(j<<17&4294967295|j>>>15),j=V+(D^Q&(J^D))+z[3]+3250441966&4294967295,V=Q+(j<<22&4294967295|j>>>10),j=D+(J^V&(Q^J))+z[4]+4118548399&4294967295,D=V+(j<<7&4294967295|j>>>25),j=J+(Q^D&(V^Q))+z[5]+1200080426&4294967295,J=D+(j<<12&4294967295|j>>>20),j=Q+(V^J&(D^V))+z[6]+2821735955&4294967295,Q=J+(j<<17&4294967295|j>>>15),j=V+(D^Q&(J^D))+z[7]+4249261313&4294967295,V=Q+(j<<22&4294967295|j>>>10),j=D+(J^V&(Q^J))+z[8]+1770035416&4294967295,D=V+(j<<7&4294967295|j>>>25),j=J+(Q^D&(V^Q))+z[9]+2336552879&4294967295,J=D+(j<<12&4294967295|j>>>20),j=Q+(V^J&(D^V))+z[10]+4294925233&4294967295,Q=J+(j<<17&4294967295|j>>>15),j=V+(D^Q&(J^D))+z[11]+2304563134&4294967295,V=Q+(j<<22&4294967295|j>>>10),j=D+(J^V&(Q^J))+z[12]+1804603682&4294967295,D=V+(j<<7&4294967295|j>>>25),j=J+(Q^D&(V^Q))+z[13]+4254626195&4294967295,J=D+(j<<12&4294967295|j>>>20),j=Q+(V^J&(D^V))+z[14]+2792965006&4294967295,Q=J+(j<<17&4294967295|j>>>15),j=V+(D^Q&(J^D))+z[15]+1236535329&4294967295,V=Q+(j<<22&4294967295|j>>>10),j=D+(Q^J&(V^Q))+z[1]+4129170786&4294967295,D=V+(j<<5&4294967295|j>>>27),j=J+(V^Q&(D^V))+z[6]+3225465664&4294967295,J=D+(j<<9&4294967295|j>>>23),j=Q+(D^V&(J^D))+z[11]+643717713&4294967295,Q=J+(j<<14&4294967295|j>>>18),j=V+(J^D&(Q^J))+z[0]+3921069994&4294967295,V=Q+(j<<20&4294967295|j>>>12),j=D+(Q^J&(V^Q))+z[5]+3593408605&4294967295,D=V+(j<<5&4294967295|j>>>27),j=J+(V^Q&(D^V))+z[10]+38016083&4294967295,J=D+(j<<9&4294967295|j>>>23),j=Q+(D^V&(J^D))+z[15]+3634488961&4294967295,Q=J+(j<<14&4294967295|j>>>18),j=V+(J^D&(Q^J))+z[4]+3889429448&4294967295,V=Q+(j<<20&4294967295|j>>>12),j=D+(Q^J&(V^Q))+z[9]+568446438&4294967295,D=V+(j<<5&4294967295|j>>>27),j=J+(V^Q&(D^V))+z[14]+3275163606&4294967295,J=D+(j<<9&4294967295|j>>>23),j=Q+(D^V&(J^D))+z[3]+4107603335&4294967295,Q=J+(j<<14&4294967295|j>>>18),j=V+(J^D&(Q^J))+z[8]+1163531501&4294967295,V=Q+(j<<20&4294967295|j>>>12),j=D+(Q^J&(V^Q))+z[13]+2850285829&4294967295,D=V+(j<<5&4294967295|j>>>27),j=J+(V^Q&(D^V))+z[2]+4243563512&4294967295,J=D+(j<<9&4294967295|j>>>23),j=Q+(D^V&(J^D))+z[7]+1735328473&4294967295,Q=J+(j<<14&4294967295|j>>>18),j=V+(J^D&(Q^J))+z[12]+2368359562&4294967295,V=Q+(j<<20&4294967295|j>>>12),j=D+(V^Q^J)+z[5]+4294588738&4294967295,D=V+(j<<4&4294967295|j>>>28),j=J+(D^V^Q)+z[8]+2272392833&4294967295,J=D+(j<<11&4294967295|j>>>21),j=Q+(J^D^V)+z[11]+1839030562&4294967295,Q=J+(j<<16&4294967295|j>>>16),j=V+(Q^J^D)+z[14]+4259657740&4294967295,V=Q+(j<<23&4294967295|j>>>9),j=D+(V^Q^J)+z[1]+2763975236&4294967295,D=V+(j<<4&4294967295|j>>>28),j=J+(D^V^Q)+z[4]+1272893353&4294967295,J=D+(j<<11&4294967295|j>>>21),j=Q+(J^D^V)+z[7]+4139469664&4294967295,Q=J+(j<<16&4294967295|j>>>16),j=V+(Q^J^D)+z[10]+3200236656&4294967295,V=Q+(j<<23&4294967295|j>>>9),j=D+(V^Q^J)+z[13]+681279174&4294967295,D=V+(j<<4&4294967295|j>>>28),j=J+(D^V^Q)+z[0]+3936430074&4294967295,J=D+(j<<11&4294967295|j>>>21),j=Q+(J^D^V)+z[3]+3572445317&4294967295,Q=J+(j<<16&4294967295|j>>>16),j=V+(Q^J^D)+z[6]+76029189&4294967295,V=Q+(j<<23&4294967295|j>>>9),j=D+(V^Q^J)+z[9]+3654602809&4294967295,D=V+(j<<4&4294967295|j>>>28),j=J+(D^V^Q)+z[12]+3873151461&4294967295,J=D+(j<<11&4294967295|j>>>21),j=Q+(J^D^V)+z[15]+530742520&4294967295,Q=J+(j<<16&4294967295|j>>>16),j=V+(Q^J^D)+z[2]+3299628645&4294967295,V=Q+(j<<23&4294967295|j>>>9),j=D+(Q^(V|~J))+z[0]+4096336452&4294967295,D=V+(j<<6&4294967295|j>>>26),j=J+(V^(D|~Q))+z[7]+1126891415&4294967295,J=D+(j<<10&4294967295|j>>>22),j=Q+(D^(J|~V))+z[14]+2878612391&4294967295,Q=J+(j<<15&4294967295|j>>>17),j=V+(J^(Q|~D))+z[5]+4237533241&4294967295,V=Q+(j<<21&4294967295|j>>>11),j=D+(Q^(V|~J))+z[12]+1700485571&4294967295,D=V+(j<<6&4294967295|j>>>26),j=J+(V^(D|~Q))+z[3]+2399980690&4294967295,J=D+(j<<10&4294967295|j>>>22),j=Q+(D^(J|~V))+z[10]+4293915773&4294967295,Q=J+(j<<15&4294967295|j>>>17),j=V+(J^(Q|~D))+z[1]+2240044497&4294967295,V=Q+(j<<21&4294967295|j>>>11),j=D+(Q^(V|~J))+z[8]+1873313359&4294967295,D=V+(j<<6&4294967295|j>>>26),j=J+(V^(D|~Q))+z[15]+4264355552&4294967295,J=D+(j<<10&4294967295|j>>>22),j=Q+(D^(J|~V))+z[6]+2734768916&4294967295,Q=J+(j<<15&4294967295|j>>>17),j=V+(J^(Q|~D))+z[13]+1309151649&4294967295,V=Q+(j<<21&4294967295|j>>>11),j=D+(Q^(V|~J))+z[4]+4149444226&4294967295,D=V+(j<<6&4294967295|j>>>26),j=J+(V^(D|~Q))+z[11]+3174756917&4294967295,J=D+(j<<10&4294967295|j>>>22),j=Q+(D^(J|~V))+z[2]+718787259&4294967295,Q=J+(j<<15&4294967295|j>>>17),j=V+(J^(Q|~D))+z[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(Q+(j<<21&4294967295|j>>>11))&4294967295,M.g[2]=M.g[2]+Q&4294967295,M.g[3]=M.g[3]+J&4294967295}n.prototype.u=function(M,D){D===void 0&&(D=M.length);for(var V=D-this.blockSize,z=this.B,Q=this.h,J=0;J<D;){if(Q==0)for(;J<=V;)a(this,M,J),J+=this.blockSize;if(typeof M=="string"){for(;J<D;)if(z[Q++]=M.charCodeAt(J++),Q==this.blockSize){a(this,z),Q=0;break}}else for(;J<D;)if(z[Q++]=M[J++],Q==this.blockSize){a(this,z),Q=0;break}}this.h=Q,this.o+=D},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;var V=8*this.o;for(D=M.length-8;D<M.length;++D)M[D]=V&255,V/=256;for(this.u(M),M=Array(16),D=V=0;4>D;++D)for(var z=0;32>z;z+=8)M[V++]=this.g[D]>>>z&255;return M};function o(M,D){var V=h;return Object.prototype.hasOwnProperty.call(V,M)?V[M]:V[M]=D(M)}function u(M,D){this.h=D;for(var V=[],z=!0,Q=M.length-1;0<=Q;Q--){var J=M[Q]|0;z&&J==D||(V[Q]=J,z=!1)}this.g=V}var h={};function m(M){return-128<=M&&128>M?o(M,function(D){return new u([D|0],0>D?-1:0)}):new u([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return ne(g(-M));for(var D=[],V=1,z=0;M>=V;z++)D[z]=M/V|0,V*=4294967296;return new u(D,0)}function E(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return ne(E(M.substring(1),D));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=g(Math.pow(D,8)),z=S,Q=0;Q<M.length;Q+=8){var J=Math.min(8,M.length-Q),j=parseInt(M.substring(Q,Q+J),D);8>J?(J=g(Math.pow(D,J)),z=z.j(J).add(g(j))):(z=z.j(V),z=z.add(g(j)))}return z}var S=m(0),I=m(1),P=m(16777216);i=u.prototype,i.m=function(){if(Z(this))return-ne(this).m();for(var M=0,D=1,V=0;V<this.g.length;V++){var z=this.i(V);M+=(0<=z?z:4294967296+z)*D,D*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(N(this))return"0";if(Z(this))return"-"+ne(this).toString(M);for(var D=g(Math.pow(M,6)),V=this,z="";;){var Q=ve(V,D).g;V=ge(V,Q.j(D));var J=((0<V.g.length?V.g[0]:V.h)>>>0).toString(M);if(V=Q,N(V))return J+z;for(;6>J.length;)J="0"+J;z=J+z}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function N(M){if(M.h!=0)return!1;for(var D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function Z(M){return M.h==-1}i.l=function(M){return M=ge(this,M),Z(M)?-1:N(M)?0:1};function ne(M){for(var D=M.g.length,V=[],z=0;z<D;z++)V[z]=~M.g[z];return new u(V,~M.h).add(I)}i.abs=function(){return Z(this)?ne(this):this},i.add=function(M){for(var D=Math.max(this.g.length,M.g.length),V=[],z=0,Q=0;Q<=D;Q++){var J=z+(this.i(Q)&65535)+(M.i(Q)&65535),j=(J>>>16)+(this.i(Q)>>>16)+(M.i(Q)>>>16);z=j>>>16,J&=65535,j&=65535,V[Q]=j<<16|J}return new u(V,V[V.length-1]&-2147483648?-1:0)};function ge(M,D){return M.add(ne(D))}i.j=function(M){if(N(this)||N(M))return S;if(Z(this))return Z(M)?ne(this).j(ne(M)):ne(ne(this).j(M));if(Z(M))return ne(this.j(ne(M)));if(0>this.l(P)&&0>M.l(P))return g(this.m()*M.m());for(var D=this.g.length+M.g.length,V=[],z=0;z<2*D;z++)V[z]=0;for(z=0;z<this.g.length;z++)for(var Q=0;Q<M.g.length;Q++){var J=this.i(z)>>>16,j=this.i(z)&65535,Dt=M.i(Q)>>>16,Lt=M.i(Q)&65535;V[2*z+2*Q]+=j*Lt,_e(V,2*z+2*Q),V[2*z+2*Q+1]+=J*Lt,_e(V,2*z+2*Q+1),V[2*z+2*Q+1]+=j*Dt,_e(V,2*z+2*Q+1),V[2*z+2*Q+2]+=J*Dt,_e(V,2*z+2*Q+2)}for(z=0;z<D;z++)V[z]=V[2*z+1]<<16|V[2*z];for(z=D;z<2*D;z++)V[z]=0;return new u(V,0)};function _e(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function re(M,D){this.g=M,this.h=D}function ve(M,D){if(N(D))throw Error("division by zero");if(N(M))return new re(S,S);if(Z(M))return D=ve(ne(M),D),new re(ne(D.g),ne(D.h));if(Z(D))return D=ve(M,ne(D)),new re(ne(D.g),D.h);if(30<M.g.length){if(Z(M)||Z(D))throw Error("slowDivide_ only works with positive integers.");for(var V=I,z=D;0>=z.l(M);)V=Ae(V),z=Ae(z);var Q=De(V,1),J=De(z,1);for(z=De(z,2),V=De(V,2);!N(z);){var j=J.add(z);0>=j.l(M)&&(Q=Q.add(V),J=j),z=De(z,1),V=De(V,1)}return D=ge(M,Q.j(D)),new re(Q,D)}for(Q=S;0<=M.l(D);){for(V=Math.max(1,Math.floor(M.m()/D.m())),z=Math.ceil(Math.log(V)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),J=g(V),j=J.j(D);Z(j)||0<j.l(M);)V-=z,J=g(V),j=J.j(D);N(J)&&(J=I),Q=Q.add(J),M=ge(M,j)}return new re(Q,M)}i.A=function(M){return ve(this,M).h},i.and=function(M){for(var D=Math.max(this.g.length,M.g.length),V=[],z=0;z<D;z++)V[z]=this.i(z)&M.i(z);return new u(V,this.h&M.h)},i.or=function(M){for(var D=Math.max(this.g.length,M.g.length),V=[],z=0;z<D;z++)V[z]=this.i(z)|M.i(z);return new u(V,this.h|M.h)},i.xor=function(M){for(var D=Math.max(this.g.length,M.g.length),V=[],z=0;z<D;z++)V[z]=this.i(z)^M.i(z);return new u(V,this.h^M.h)};function Ae(M){for(var D=M.g.length+1,V=[],z=0;z<D;z++)V[z]=M.i(z)<<1|M.i(z-1)>>>31;return new u(V,M.h)}function De(M,D){var V=D>>5;D%=32;for(var z=M.g.length-V,Q=[],J=0;J<z;J++)Q[J]=0<D?M.i(J+V)>>>D|M.i(J+V+1)<<32-D:M.i(J+V);return new u(Q,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,$S=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=E,_o=u}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QS,vh,YS,Dd,py,XS,WS,JS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,T){return f==Array.prototype||f==Object.prototype||(f[b]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _d=="object"&&_d];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function a(f,b){if(b)e:{var T=n;f=f.split(".");for(var C=0;C<f.length-1;C++){var se=f[C];if(!(se in T))break e;T=T[se]}f=f[f.length-1],C=T[f],b=b(C),b!=C&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}function o(f,b){f instanceof String&&(f+="");var T=0,C=!1,se={next:function(){if(!C&&T<f.length){var pe=T++;return{value:b(pe,f[pe]),done:!1}}return C=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}a("Array.prototype.values",function(f){return f||function(){return o(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function g(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function E(f,b,T){return f.call.apply(f.bind,arguments)}function S(f,b,T){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,C),f.apply(b,se)}}return function(){return f.apply(b,arguments)}}function I(f,b,T){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,I.apply(null,arguments)}function P(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function N(f,b){function T(){}T.prototype=b.prototype,f.aa=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(C,se,pe){for(var Me=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Me[_t-2]=arguments[_t];return b.prototype[se].apply(C,Me)}}function Z(f){const b=f.length;if(0<b){const T=Array(b);for(let C=0;C<b;C++)T[C]=f[C];return T}return[]}function ne(f,b){for(let T=1;T<arguments.length;T++){const C=arguments[T];if(m(C)){const se=f.length||0,pe=C.length||0;f.length=se+pe;for(let Me=0;Me<pe;Me++)f[se+Me]=C[Me]}else f.push(C)}}class ge{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _e(f){return/^[\s\xa0]*$/.test(f)}function re(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ve(f){return ve[" "](f),f}ve[" "]=function(){};var Ae=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function De(f,b,T){for(const C in f)b.call(T,f[C],C,f)}function M(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function D(f){const b={};for(const T in f)b[T]=f[T];return b}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(f,b){let T,C;for(let se=1;se<arguments.length;se++){C=arguments[se];for(T in C)f[T]=C[T];for(let pe=0;pe<V.length;pe++)T=V[pe],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function Q(f){var b=1;f=f.split(":");const T=[];for(;0<b&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function J(f){h.setTimeout(()=>{throw f},0)}function j(){var f=ft;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class Dt{constructor(){this.h=this.g=null}add(b,T){const C=Lt.get();C.set(b,T),this.h?this.h.next=C:this.g=C,this.h=C}}var Lt=new ge(()=>new ye,f=>f.reset());class ye{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,qe=!1,ft=new Dt,q=()=>{const f=h.Promise.resolve(void 0);Ne=()=>{f.then(be)}};var be=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(T){J(T)}var b=Lt;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}qe=!1};function Ve(){this.s=this.s,this.C=this.C}Ve.prototype.s=!1,Ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,b),h.removeEventListener("test",T,b)}catch{}return f}();function lt(f,b){if(Ie.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(Ae){e:{try{ve(b.nodeName);var se=!0;break e}catch{}se=!1}se||(b=null)}}else T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement);this.relatedTarget=b,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:et[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&lt.aa.h.call(this)}}N(lt,Ie);var et={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var cn="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Ke(f,b,T,C,se){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!C,this.ha=se,this.key=++qt,this.da=this.fa=!1}function Vi(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ir(f){this.src=f,this.g={},this.h=0}Ir.prototype.add=function(f,b,T,C,se){var pe=f.toString();f=this.g[pe],f||(f=this.g[pe]=[],this.h++);var Me=qr(f,b,C,se);return-1<Me?(b=f[Me],T||(b.fa=!1)):(b=new Ke(b,this.src,pe,!!C,se),b.fa=T,f.push(b)),b};function Tt(f,b){var T=b.type;if(T in f.g){var C=f.g[T],se=Array.prototype.indexOf.call(C,b,void 0),pe;(pe=0<=se)&&Array.prototype.splice.call(C,se,1),pe&&(Vi(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function qr(f,b,T,C){for(var se=0;se<f.length;++se){var pe=f[se];if(!pe.da&&pe.listener==b&&pe.capture==!!T&&pe.ha==C)return se}return-1}var Ns="closure_lm_"+(1e6*Math.random()|0),Fr={};function jl(f,b,T,C,se){if(Array.isArray(b)){for(var pe=0;pe<b.length;pe++)jl(f,b[pe],T,C,se);return null}return T=os(T),f&&f[cn]?f.K(b,T,g(C)?!!C.capture:!1,se):xr(f,b,T,!1,C,se)}function xr(f,b,T,C,se,pe){if(!b)throw Error("Invalid event type");var Me=g(se)?!!se.capture:!!se,_t=hi(f);if(_t||(f[Ns]=_t=new Ir(f)),T=_t.add(b,T,C,Me,pe),T.proxy)return T;if(C=ic(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)Ye||(se=Me),se===void 0&&(se=!1),f.addEventListener(b.toString(),C,se);else if(f.attachEvent)f.attachEvent(jn(b.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ic(){function f(T){return b.call(f.src,f.listener,T)}const b=Ul;return f}function ko(f,b,T,C,se){if(Array.isArray(b))for(var pe=0;pe<b.length;pe++)ko(f,b[pe],T,C,se);else C=g(C)?!!C.capture:!!C,T=os(T),f&&f[cn]?(f=f.i,b=String(b).toString(),b in f.g&&(pe=f.g[b],T=qr(pe,T,C,se),-1<T&&(Vi(pe[T]),Array.prototype.splice.call(pe,T,1),pe.length==0&&(delete f.g[b],f.h--)))):f&&(f=hi(f))&&(b=f.g[b.toString()],f=-1,b&&(f=qr(b,T,C,se)),(T=-1<f?b[f]:null)&&as(T))}function as(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[cn])Tt(b.i,f);else{var T=f.type,C=f.proxy;b.removeEventListener?b.removeEventListener(T,C,f.capture):b.detachEvent?b.detachEvent(jn(T),C):b.addListener&&b.removeListener&&b.removeListener(C),(T=hi(b))?(Tt(T,f),T.h==0&&(T.src=null,b[Ns]=null)):Vi(f)}}}function jn(f){return f in Fr?Fr[f]:Fr[f]="on"+f}function Ul(f,b){if(f.da)f=!0;else{b=new lt(b,this);var T=f.listener,C=f.ha||f.src;f.fa&&as(f),f=T.call(C,b)}return f}function hi(f){return f=f[Ns],f instanceof Ir?f:null}var Ea="__closure_events_fn_"+(1e9*Math.random()>>>0);function os(f){return typeof f=="function"?f:(f[Ea]||(f[Ea]=function(b){return f.handleEvent(b)}),f[Ea])}function Vt(){Ve.call(this),this.i=new Ir(this),this.M=this,this.F=null}N(Vt,Ve),Vt.prototype[cn]=!0,Vt.prototype.removeEventListener=function(f,b,T,C){ko(this,f,b,T,C)};function vt(f,b){var T,C=f.F;if(C)for(T=[];C;C=C.F)T.push(C);if(f=f.M,C=b.type||b,typeof b=="string")b=new Ie(b,f);else if(b instanceof Ie)b.target=b.target||f;else{var se=b;b=new Ie(C,f),z(b,se)}if(se=!0,T)for(var pe=T.length-1;0<=pe;pe--){var Me=b.g=T[pe];se=Yn(Me,C,!0,b)&&se}if(Me=b.g=f,se=Yn(Me,C,!0,b)&&se,se=Yn(Me,C,!1,b)&&se,T)for(pe=0;pe<T.length;pe++)Me=b.g=T[pe],se=Yn(Me,C,!1,b)&&se}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var T=f.g[b],C=0;C<T.length;C++)Vi(T[C]);delete f.g[b],f.h--}}this.F=null},Vt.prototype.K=function(f,b,T,C){return this.i.add(String(f),b,!1,T,C)},Vt.prototype.L=function(f,b,T,C){return this.i.add(String(f),b,!0,T,C)};function Yn(f,b,T,C){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var se=!0,pe=0;pe<b.length;++pe){var Me=b[pe];if(Me&&!Me.da&&Me.capture==T){var _t=Me.listener,fn=Me.ha||Me.src;Me.fa&&Tt(f.i,Me),se=_t.call(fn,C)!==!1&&se}}return se&&!C.defaultPrevented}function hn(f,b,T){if(typeof f=="function")T&&(f=I(f,T));else if(f&&typeof f.handleEvent=="function")f=I(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(f,b||0)}function wa(f){f.g=hn(()=>{f.g=null,f.i&&(f.i=!1,wa(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Ta extends Ve{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:wa(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(f){Ve.call(this),this.h=f,this.g={}}N(yr,Ve);var fi=[];function Mi(f){De(f.g,function(b,T){this.g.hasOwnProperty(T)&&as(b)},f),f.g={}}yr.prototype.N=function(){yr.aa.N.call(this),Mi(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=h.JSON.stringify,Fe=h.JSON.parse,Kr=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Hr(){}Hr.prototype.h=null;function ls(f){return f.h||(f.h=f.i())}function Ue(){}var Gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){Ie.call(this,"d")}N(di,Ie);function Ps(){Ie.call(this,"c")}N(Ps,Ie);var $r={},Vs=null;function us(){return Vs=Vs||new Vt}$r.La="serverreachability";function Sa(f){Ie.call(this,$r.La,f)}N(Sa,Ie);function vr(f){const b=us();vt(b,new Sa(b))}$r.STAT_EVENT="statevent";function Li(f,b){Ie.call(this,$r.STAT_EVENT,f),this.stat=b}N(Li,Ie);function Ft(f){const b=us();vt(b,new Li(b,f))}$r.Ma="timingevent";function tn(f,b){Ie.call(this,$r.Ma,f),this.size=b}N(tn,Ie);function ct(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},b)}function Nt(){this.g=!0}Nt.prototype.xa=function(){this.g=!1};function Co(f,b,T,C,se,pe){f.info(function(){if(f.g)if(pe)for(var Me="",_t=pe.split("&"),fn=0;fn<_t.length;fn++){var St=_t[fn].split("=");if(1<St.length){var vn=St[0];St=St[1];var on=vn.split("_");Me=2<=on.length&&on[1]=="type"?Me+(vn+"="+St+"&"):Me+(vn+"=redacted&")}}else Me=null;else Me=pe;return"XMLHTTP REQ ("+C+") [attempt "+se+"]: "+b+`
`+T+`
`+Me})}function Aa(f,b,T,C,se,pe,Me){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+se+"]: "+b+`
`+T+`
`+pe+" "+Me})}function Qr(f,b,T,C){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ls(f,T)+(C?" "+C:"")})}function Ms(f,b){f.info(function(){return"TIMEOUT: "+b})}Nt.prototype.info=function(){};function Ls(f,b){if(!f.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var C=T[f];if(!(2>C.length)){var se=C[1];if(Array.isArray(se)&&!(1>se.length)){var pe=se[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Me=1;Me<se.length;Me++)se[Me]=""}}}}return An(T)}catch{return b}}var Xn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function _r(){}N(_r,Hr),_r.prototype.g=function(){return new XMLHttpRequest},_r.prototype.i=function(){return{}},Dn=new _r;function Wn(f,b,T,C){this.j=f,this.i=b,this.l=T,this.R=C||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}var Ra={},kr={};function Cr(f,b,T){f.L=1,f.v=hs(zn(b)),f.m=T,f.P=!0,Yr(f,null)}function Yr(f,b){f.F=Date.now(),Jn(f),f.A=zn(f.v);var T=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),ar(T.i,"t",C),f.C=0,T=f.j.J,f.h=new Mt,f.g=Va(f.j,T?b:null,!f.m),0<f.O&&(f.M=new Ta(I(f.Y,f,f.g),f.O)),b=f.U,T=f.g,C=f.ca;var se="readystatechange";Array.isArray(se)||(se&&(fi[0]=se.toString()),se=fi);for(var pe=0;pe<se.length;pe++){var Me=jl(T,se[pe],C||b.handleEvent,!1,b.h||b);if(!Me)break;b.g[Me.key]=Me}b=f.H?D(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),vr(),Co(f.i,f.u,f.A,f.l,f.R,f.m)}Wn.prototype.ca=function(f){f=f.target;const b=this.M;b&&lr(f)==3?b.j():this.Y(f)},Wn.prototype.Y=function(f){try{if(f==this.g)e:{const on=lr(this.g);var b=this.g.Ba();const Si=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Oa(this.g)))){this.J||on!=4||b==7||(b==8||0>=Si?vr(3):vr(2)),br(this);var T=this.g.Z();this.X=T;t:if(Wt(this)){var C=Oa(this.g);f="";var se=C.length,pe=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Er(this);var Me="";break t}this.h.i=new h.TextDecoder}for(b=0;b<se;b++)this.h.h=!0,f+=this.h.i.decode(C[b],{stream:!(pe&&b==se-1)});C.length=0,this.h.g+=f,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=T==200,Aa(this.i,this.u,this.A,this.l,this.R,on,T),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,fn=this.g;if((_t=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(_t)){var St=_t;break t}}St=null}if(T=St)Qr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ji(this,T);else{this.o=!1,this.s=3,Ft(12),gn(this),Er(this);break e}}if(this.P){T=!0;let In;for(;!this.J&&this.C<Me.length;)if(In=mi(this,Me),In==kr){on==4&&(this.s=4,Ft(14),T=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(In==Ra){this.s=4,Ft(15),Qr(this.i,this.l,Me,"[Invalid Chunk]"),T=!1;break}else Qr(this.i,this.l,In,null),ji(this,In);if(Wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||Me.length!=0||this.h.h||(this.s=1,Ft(16),T=!1),this.o=this.o&&T,!T)Qr(this.i,this.l,Me,"[Invalid Chunked Response]"),gn(this),Er(this);else if(0<Me.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),Zr(vn),vn.M=!0,Ft(11))}}else Qr(this.i,this.l,Me,null),ji(this,Me);on==4&&gn(this),this.o&&!this.J&&(on==4?jo(this.j,this):(this.o=!1,Jn(this)))}else zl(this.g),T==400&&0<Me.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),gn(this),Er(this)}}}catch{}finally{}};function Wt(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function mi(f,b){var T=f.C,C=b.indexOf(`
`,T);return C==-1?kr:(T=Number(b.substring(T,C)),isNaN(T)?Ra:(C+=1,C+T>b.length?kr:(b=b.slice(C,C+T),f.C=C+T,b)))}Wn.prototype.cancel=function(){this.J=!0,gn(this)};function Jn(f){f.S=Date.now()+f.I,Oo(f,f.I)}function Oo(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ct(I(f.ba,f),b)}function br(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Wn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ms(this.i,this.A),this.L!=2&&(vr(),Ft(17)),gn(this),this.s=2,Er(this)):Oo(this,this.S-f)};function Er(f){f.j.G==0||f.J||jo(f.j,f)}function gn(f){br(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Mi(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function ji(f,b){try{var T=f.j;if(T.G!=0&&(T.g==f||dt(T.h,f))){if(!f.K&&dt(T.h,f)&&T.G==3){try{var C=T.Da.g.parse(b)}catch{C=null}if(Array.isArray(C)&&C.length==3){var se=C;if(se[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Yi(T),qs(T);else break e;Qi(T),Ft(18)}}else T.za=se[1],0<T.za-T.T&&37500>se[2]&&T.F&&T.v==0&&!T.C&&(T.C=ct(I(T.Za,T),6e3));if(1>=js(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Mr(T,11)}else if((f.K||T.g==f)&&Yi(T),!_e(b))for(se=T.Da.g.parse(b),b=0;b<se.length;b++){let St=se[b];if(T.T=St[0],St=St[1],T.G==2)if(St[0]=="c"){T.K=St[1],T.ia=St[2];const vn=St[3];vn!=null&&(T.la=vn,T.j.info("VER="+T.la));const on=St[4];on!=null&&(T.Aa=on,T.j.info("SVER="+T.Aa));const Si=St[5];Si!=null&&typeof Si=="number"&&0<Si&&(C=1.5*Si,T.L=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const In=f.g;if(In){const Ai=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var pe=C.h;pe.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Us(pe,pe.h),pe.h=null))}if(C.D){const zo=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(C.ya=zo,It(C.I,C.D,zo))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),C=T;var Me=f;if(C.qa=Ti(C,C.J?C.ia:null,C.W),Me.K){Un(C.h,Me);var _t=Me,fn=C.L;fn&&(_t.I=fn),_t.B&&(br(_t),Jn(_t)),C.g=Me}else yn(C);0<T.i.length&&Gi(T)}else St[0]!="stop"&&St[0]!="close"||Mr(T,7);else T.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Mr(T,7):ps(T):St[0]!="noop"&&T.l&&T.l.ta(St),T.v=0)}}vr(4)}catch{}}var pi=class{constructor(f,b){this.g=f,this.map=b}};function gi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ui(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function js(f){return f.h?1:f.g?f.g.size:0}function dt(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Us(f,b){f.g?f.g.add(b):f.h=b}function Un(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}gi.prototype.cancel=function(){if(this.i=Ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ia(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.D);return b}return Z(f.i)}function jt(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var b=[],T=f.length,C=0;C<T;C++)b.push(f[C]);return b}b=[],T=0;for(C in f)b[T++]=f[C];return b}function yi(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var b=[];f=f.length;for(var T=0;T<f;T++)b.push(T);return b}b=[],T=0;for(const C in f)b[T++]=C;return b}}}function zi(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var T=yi(f),C=jt(f),se=C.length,pe=0;pe<se;pe++)b.call(void 0,C[pe],T&&T[pe],f)}var Or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Do(f,b){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var C=f[T].indexOf("="),se=null;if(0<=C){var pe=f[T].substring(0,C);se=f[T].substring(C+1)}else pe=f[T];b(pe,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function nn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof nn){this.h=f.h,cs(this,f.j),this.o=f.o,this.g=f.g,Xr(this,f.s),this.l=f.l;var b=f.i,T=new Bn;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),vi(this,T),this.m=f.m}else f&&(b=String(f).match(Or))?(this.h=!1,cs(this,b[1]||"",!0),this.o=Dr(b[2]||""),this.g=Dr(b[3]||"",!0),Xr(this,b[4]),this.l=Dr(b[5]||"",!0),vi(this,b[6]||"",!0),this.m=Dr(b[7]||"")):(this.h=!1,this.i=new Bn(null,this.h))}nn.prototype.toString=function(){var f=[],b=this.j;b&&f.push(pt(b,No,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(pt(b,No,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(pt(T,T.charAt(0)=="/"?Zn:Po,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",pt(T,Bi)),f.join("")};function zn(f){return new nn(f)}function cs(f,b,T){f.j=T?Dr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Xr(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function vi(f,b,T){b instanceof Bn?(f.i=b,ds(f.i,f.h)):(T||(b=pt(b,fs)),f.i=new Bn(b,f.h))}function It(f,b,T){f.i.set(b,T)}function hs(f){return It(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Dr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function pt(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,xa),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function xa(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var No=/[#\/\?@]/g,Po=/[#\?:]/g,Zn=/[#\?]/g,fs=/[#\?@]/g,Bi=/#/g;function Bn(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function wr(f){f.g||(f.g=new Map,f.h=0,f.i&&Do(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}i=Bn.prototype,i.add=function(f,b){wr(this),this.i=null,f=or(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function _i(f,b){wr(f),b=or(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Kt(f,b){return wr(f),b=or(f,b),f.g.has(b)}i.forEach=function(f,b){wr(this),this.g.forEach(function(T,C){T.forEach(function(se){f.call(b,se,C,this)},this)},this)},i.na=function(){wr(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let C=0;C<b.length;C++){const se=f[C];for(let pe=0;pe<se.length;pe++)T.push(b[C])}return T},i.V=function(f){wr(this);let b=[];if(typeof f=="string")Kt(this,f)&&(b=b.concat(this.g.get(or(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)b=b.concat(f[T])}return b},i.set=function(f,b){return wr(this),this.i=null,f=or(this,f),Kt(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},i.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function ar(f,b,T){_i(f,b),0<T.length&&(f.i=null,f.g.set(or(f,b),Z(T)),f.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var C=b[T];const pe=encodeURIComponent(String(C)),Me=this.V(C);for(C=0;C<Me.length;C++){var se=pe;Me[C]!==""&&(se+="="+encodeURIComponent(String(Me[C]))),f.push(se)}}return this.i=f.join("&")};function or(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function ds(f,b){b&&!f.j&&(wr(f),f.i=null,f.g.forEach(function(T,C){var se=C.toLowerCase();C!=se&&(_i(this,C),ar(this,se,T))},f)),f.j=b}function qi(f,b){const T=new Nt;if(h.Image){const C=new Image;C.onload=P(Nr,T,"TestLoadImage: loaded",!0,b,C),C.onerror=P(Nr,T,"TestLoadImage: error",!1,b,C),C.onabort=P(Nr,T,"TestLoadImage: abort",!1,b,C),C.ontimeout=P(Nr,T,"TestLoadImage: timeout",!1,b,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else b(!1)}function Rn(f,b){const T=new Nt,C=new AbortController,se=setTimeout(()=>{C.abort(),Nr(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:C.signal}).then(pe=>{clearTimeout(se),pe.ok?Nr(T,"TestPingServer: ok",!0,b):Nr(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(se),Nr(T,"TestPingServer: error",!1,b)})}function Nr(f,b,T,C,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),C(T)}catch{}}function qn(){this.g=new Kr}function Pr(f,b,T){const C=T||"";try{zi(f,function(se,pe){let Me=se;g(se)&&(Me=An(se)),b.push(C+pe+"="+encodeURIComponent(Me))})}catch(se){throw b.push(C+"type="+encodeURIComponent("_badmap")),se}}function Fi(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Fi,Hr),Fi.prototype.g=function(){return new Wr(this.l,this.j)},Fi.prototype.i=function(f){return function(){return f}}({});function Wr(f,b){Vt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Wr,Vt),i=Wr.prototype,i.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Jr(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ki(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ki(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Vr(this):Jr(this),this.readyState==3&&Ki(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,Vr(this))},i.Qa=function(f){this.g&&(this.response=f,Vr(this))},i.ga=function(){this.g&&Vr(this)};function Vr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Jr(f)}i.setRequestHeader=function(f,b){this.u.append(f,b)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function Jr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Vo(f){let b="";return De(f,function(T,C){b+=C,b+=":",b+=T,b+=`\r
`}),b}function rn(f,b,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Vo(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):It(f,b,T))}function Ct(f){Vt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ct,Vt);var ka=/^https?$/i,bi=["POST","PUT"];i=Ct.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,b,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?ls(this.o):ls(Dn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(pe){zs(this,pe);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var se in C)T.set(se,C[se]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const pe of C.keys())T.set(pe,C.get(pe));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(pe=>pe.toLowerCase()=="content-type"),se=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(bi,b,void 0))||C||se||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Me]of T)this.g.setRequestHeader(pe,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(f),this.u=!1}catch(pe){zs(this,pe)}};function zs(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,ms(f),Ei(f)}function ms(f){f.A||(f.A=!0,vt(f,"complete"),vt(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,vt(this,"complete"),vt(this,"abort"),Ei(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),Ct.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},i.bb=function(){Ca(this)};function Ca(f){if(f.h&&typeof u<"u"&&(!f.v[1]||lr(f)!=4||f.Z()!=2)){if(f.u&&lr(f)==4)hn(f.Ea,0,f);else if(vt(f,"readystatechange"),lr(f)==4){f.h=!1;try{const Me=f.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var C;if(C=Me===0){var se=String(f.D).match(Or)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),C=!ka.test(se?se.toLowerCase():"")}T=C}if(T)vt(f,"complete"),vt(f,"success");else{f.m=6;try{var pe=2<lr(f)?f.g.statusText:""}catch{pe=""}f.l=pe+" ["+f.Z()+"]",ms(f)}}finally{Ei(f)}}}}function Ei(f,b){if(f.g){Bs(f);const T=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||vt(f,"ready");try{T.onreadystatechange=C}catch{}}}function Bs(f){f.I&&(h.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function lr(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Fe(b)}};function Oa(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function zl(f){const b={};f=(f.g&&2<=lr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(_e(f[C]))continue;var T=Q(f[C]);const se=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const pe=b[se]||[];b[se]=pe,pe.push(T)}M(b,function(C){return C.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function Hi(f){this.Aa=0,this.i=[],this.j=new Nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,f),this.cb=wi("retryDelaySeedMs",1e4,f),this.Wa=wi("forwardChannelMaxRetries",2,f),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(f&&f.concurrentRequestLimit),this.Da=new qn,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Hi.prototype,i.la=8,i.G=1,i.connect=function(f,b,T,C){Ft(0),this.W=f,this.H=b||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.I=Ti(this,null,this.W),Gi(this)};function ps(f){if(Bl(f),f.G==3){var b=f.U++,T=zn(f.I);if(It(T,"SID",f.K),It(T,"RID",b),It(T,"TYPE","terminate"),$i(f,T),b=new Wn(f,f.j,b),b.L=2,b.v=hs(zn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=b.v,T=!0),T||(b.g=Va(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Jn(b)}Pa(f)}function qs(f){f.g&&(Zr(f),f.g.cancel(),f.g=null)}function Bl(f){qs(f),f.u&&(h.clearTimeout(f.u),f.u=null),Yi(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Gi(f){if(!Ui(f.h)&&!f.s){f.s=!0;var b=f.Ga;Ne||q(),qe||(Ne(),qe=!0),ft.add(b,f),f.B=0}}function Mo(f,b){return js(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ct(I(f.Ga,f,b),Na(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const se=new Wn(this,this.j,f);let pe=this.o;if(this.S&&(pe?(pe=D(pe),z(pe,this.S)):pe=this.S),this.m!==null||this.O||(se.H=pe,pe=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(b+=C,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Da(this,se,b),T=zn(this.I),It(T,"RID",f),It(T,"CVER",22),this.D&&It(T,"X-HTTP-Session-Id",this.D),$i(this,T),pe&&(this.O?b="headers="+encodeURIComponent(String(Vo(pe)))+"&"+b:this.m&&rn(T,this.m,pe)),Us(this.h,se),this.Ua&&It(T,"TYPE","init"),this.P?(It(T,"$req",b),It(T,"SID","null"),se.T=!0,Cr(se,T,null)):Cr(se,T,b),this.G=2}}else this.G==3&&(f?Fs(this,f):this.i.length==0||Ui(this.h)||Fs(this))};function Fs(f,b){var T;b?T=b.l:T=f.U++;const C=zn(f.I);It(C,"SID",f.K),It(C,"RID",T),It(C,"AID",f.T),$i(f,C),f.m&&f.o&&rn(C,f.m,f.o),T=new Wn(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Da(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Us(f.h,T),Cr(T,C,b)}function $i(f,b){f.H&&De(f.H,function(T,C){It(b,C,T)}),f.l&&zi({},function(T,C){It(b,C,T)})}function Da(f,b,T){T=Math.min(f.i.length,T);var C=f.l?I(f.l.Na,f.l,f):null;e:{var se=f.i;let pe=-1;for(;;){const Me=["count="+T];pe==-1?0<T?(pe=se[0].g,Me.push("ofs="+pe)):pe=0:Me.push("ofs="+pe);let _t=!0;for(let fn=0;fn<T;fn++){let St=se[fn].g;const vn=se[fn].map;if(St-=pe,0>St)pe=Math.max(0,se[fn].g-100),_t=!1;else try{Pr(vn,Me,"req"+St+"_")}catch{C&&C(vn)}}if(_t){C=Me.join("&");break e}}}return f=f.i.splice(0,T),b.D=f,C}function yn(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;Ne||q(),qe||(Ne(),qe=!0),ft.add(b,f),f.v=0}}function Qi(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ct(I(f.Fa,f),Na(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,Lo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ct(I(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),qs(this),Lo(this))};function Zr(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Lo(f){f.g=new Wn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=zn(f.qa);It(b,"RID","rpc"),It(b,"SID",f.K),It(b,"AID",f.T),It(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&It(b,"TO",f.ja),It(b,"TYPE","xmlhttp"),$i(f,b),f.m&&f.o&&rn(b,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=hs(zn(b)),T.m=null,T.P=!0,Yr(T,f)}i.Za=function(){this.C!=null&&(this.C=null,qs(this),Qi(this),Ft(19))};function Yi(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function jo(f,b){var T=null;if(f.g==b){Yi(f),Zr(f),f.g=null;var C=2}else if(dt(f.h,b))T=b.D,Un(f.h,b),C=1;else return;if(f.G!=0){if(b.o)if(C==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var se=f.B;C=us(),vt(C,new tn(C,T)),Gi(f)}else yn(f);else if(se=b.s,se==3||se==0&&0<b.X||!(C==1&&Mo(f,b)||C==2&&Qi(f)))switch(T&&0<T.length&&(b=f.h,b.i=b.i.concat(T)),se){case 1:Mr(f,5);break;case 4:Mr(f,10);break;case 3:Mr(f,6);break;default:Mr(f,2)}}}function Na(f,b){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*b}function Mr(f,b){if(f.j.info("Error code "+b),b==2){var T=I(f.fb,f),C=f.Xa;const se=!C;C=new nn(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||cs(C,"https"),hs(C),se?qi(C.toString(),T):Rn(C.toString(),T)}else Ft(2);f.G=0,f.l&&f.l.sa(b),Pa(f),Bl(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function Pa(f){if(f.G=0,f.ka=[],f.l){const b=Ia(f.h);(b.length!=0||f.i.length!=0)&&(ne(f.ka,b),ne(f.ka,f.i),f.h.i.length=0,Z(f.i),f.i.length=0),f.l.ra()}}function Ti(f,b,T){var C=T instanceof nn?zn(T):new nn(T);if(C.g!="")b&&(C.g=b+"."+C.g),Xr(C,C.s);else{var se=h.location;C=se.protocol,b=b?b+"."+se.hostname:se.hostname,se=+se.port;var pe=new nn(null);C&&cs(pe,C),b&&(pe.g=b),se&&Xr(pe,se),T&&(pe.l=T),C=pe}return T=f.D,b=f.ya,T&&b&&It(C,T,b),It(C,"VER",f.la),$i(f,C),C}function Va(f,b,T){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new Ct(new Fi({eb:T})):new Ct(f.pa),b.Ha(f.J),b}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ma(){}i=Ma.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Xi(){}Xi.prototype.g=function(f,b){return new Nn(f,b)};function Nn(f,b){Vt.call(this),this.g=new Hi(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!_e(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!_e(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Lr(this)}N(Nn,Vt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){ps(this.g)},Nn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=An(f),f=T);b.i.push(new pi(b.Ya++,f)),b.G==3&&Gi(b)},Nn.prototype.N=function(){this.g.l=null,delete this.j,ps(this.g),delete this.g,Nn.aa.N.call(this)};function Uo(f){di.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}N(Uo,di);function ql(){Ps.call(this),this.status=1}N(ql,Ps);function Lr(f){this.g=f}N(Lr,Ma),Lr.prototype.ua=function(){vt(this.g,"a")},Lr.prototype.ta=function(f){vt(this.g,new Uo(f))},Lr.prototype.sa=function(f){vt(this.g,new ql)},Lr.prototype.ra=function(){vt(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,JS=function(){return new Xi},WS=function(){return us()},XS=$r,py={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xn.NO_ERROR=0,Xn.TIMEOUT=8,Xn.HTTP_ERROR=6,Dd=Xn,sr.COMPLETE="complete",YS=sr,Ue.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,vh=Ue,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,QS=Ct}).apply(typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{});const DE="@firebase/firestore",NE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Xy("@firebase/firestore");function wu(){return Il.logLevel}function xe(i,...e){if(Il.logLevel<=At.DEBUG){const t=e.map(cv);Il.debug(`Firestore (${Ju}): ${i}`,...t)}}function wn(i,...e){if(Il.logLevel<=At.ERROR){const t=e.map(cv);Il.error(`Firestore (${Ju}): ${i}`,...t)}}function Ph(i,...e){if(Il.logLevel<=At.WARN){const t=e.map(cv);Il.warn(`Firestore (${Ju}): ${i}`,...t)}}function cv(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(i,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,ZS(i,n,t)}function ZS(i,e,t){let n=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw wn(n),new Error(n)}function Xe(i,e,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,i||ZS(e,a,n)}function Qe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends ya{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dr.UNAUTHENTICATED))}shutdown(){}}class Y2{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let n=this.i;const a=m=>this.i!==n?(n=this.i,t(m)):Promise.resolve();let o=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bo,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=o;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},h=m=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>h(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bo)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xe(typeof n.accessToken=="string",31837,{l:n}),new $2(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new dr(e)}}class X2{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W2{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new X2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ts(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const n=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const a=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new PE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Z2(40);for(let o=0;o<a.length;++o)n.length<20&&a[o]<t&&(n+=e.charAt(a[o]%62))}return n}}function at(i,e){return i<e?-1:i>e?1:0}function gy(i,e){let t=0;for(;t<i.length&&t<e.length;){const n=i.codePointAt(t),a=e.codePointAt(t);if(n!==a){if(n<128&&a<128)return at(n,a);{const o=e1(),u=eO(o.encode(VE(i,t)),o.encode(VE(e,t)));return u!==0?u:at(n,a)}}t+=n>65535?2:1}return at(i.length,e.length)}function VE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function eO(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return at(i[t],e[t]);return at(i.length,e.length)}function Pu(i,e,t){return i.length===e.length&&i.every((n,a)=>t(n,e[a]))}function n1(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=-62135596800,LE=1e6;class Qn{static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*LE);return new Qn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ME)throw new $e(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ME;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Qn(0,0))}static max(){return new Ze(new Qn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="__name__";class Ts{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ge(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ts.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ts?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const o=Ts.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return at(e.length,t.length)}static compareSegments(e,t){const n=Ts.isNumericId(e),a=Ts.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?Ts.extractNumericId(e).compare(Ts.extractNumericId(t)):gy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class Xt extends Ts{construct(e,t,n){return new Xt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new $e(Re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new Xt(t)}static emptyPath(){return new Xt([])}}const tO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends Ts{construct(e,t,n){return new Tn(e,t,n)}static isValidIdentifier(e){return tO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jE}static keyField(){return new Tn([jE])}static fromServerFormat(e){const t=[];let n="",a=0;const o=()=>{if(n.length===0)throw new $e(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new $e(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new $e(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(n+=h,a++):(o(),a++)}if(o(),u)throw new $e(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(t)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Xt.fromString(e))}static fromName(e){return new ze(Xt.fromString(e).popFirst(5))}static empty(){return new ze(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;class Wd{constructor(e,t,n,a){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=a}}function yy(i){return i.fields.find(e=>e.kind===2)}function hl(i){return i.fields.filter(e=>e.kind!==2)}Wd.UNKNOWN_ID=-1;class Nd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vh(0,ci.min())}}function r1(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(n===1e9?new Qn(t+1,0):new Qn(t,n));return new ci(a,ze.empty(),e)}function i1(i){return new ci(i.readTime,i.key,Vu)}class ci{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ci(Ze.min(),ze.empty(),Vu)}static max(){return new ci(Ze.max(),ze.empty(),Vu)}}function hv(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(i.documentKey,e.documentKey),t!==0?t:at(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==Re.FAILED_PRECONDITION||i.message!==s1)throw i;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((n,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,n)=>{t(e)})}static reject(e){return new ae((t,n)=>{n(e)})}static waitFor(e){return new ae((t,n)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&t()},m=>n(m))}),u=!0,o===a&&t()})}static or(e){let t=ae.resolve(!1);for(const n of e)t=t.next(a=>a?ae.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,o)=>{n.push(t.call(this,a,o))}),this.waitFor(n)}static mapArray(e,t){return new ae((n,a)=>{const o=e.length,u=new Array(o);let h=0;for(let m=0;m<o;m++){const g=m;t(e[g]).next(E=>{u[g]=E,++h,h===o&&n(u)},E=>a(E))}})}static doWhile(e,t){return new ae((n,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):n()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="SimpleDb";class km{static open(e,t,n,a){try{return new km(t,e.transaction(a,n))}catch(o){throw new Sh(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new bo,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Sh(e,t.error)):this.S.resolve()},this.transaction.onerror=n=>{const a=fv(n.target.error);this.S.reject(new Sh(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(xe(li,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new rO(t)}}class Eo{static delete(e){return xe(li,"Removing database:",e),dl(aS().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!hS())return!1;if(Eo.F())return!0;const e=Mn(),t=Eo.M(e),n=0<t&&t<10,a=o1(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.B=n,this.L=null,Eo.M(Mn())===12.2&&wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(xe(li,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const u=o.target.result;t(u)},a.onblocked=()=>{n(new Sh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const u=o.target.error;u.name==="VersionError"?n(new $e(Re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?n(new $e(Re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):n(new Sh(e,u))},a.onupgradeneeded=o=>{xe(li,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,a.transaction,o.oldVersion,this.version).next(()=>{xe(li,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const n=t.target;this.L=n.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,a){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=km.open(this.db,e,o?"readonly":"readwrite",n),m=a(h).next(g=>(h.v(),g)).catch(g=>(h.abort(g),ae.reject(g))).toPromise();return m.catch(()=>{}),await h.D,m}catch(h){const m=h,g=m.name!=="FirebaseError"&&u<3;if(xe(li,"Transaction failed with error:",m.message,"Retrying:",g),this.close(),!g)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function o1(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class nO{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return dl(this.K.delete())}}class Sh extends $e{constructor(e,t){super(Re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xo(i){return i.name==="IndexedDbTransactionError"}class rO{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(xe(li,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(xe(li,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),dl(n)}add(e){return xe(li,"ADD",this.store.name,e,e),dl(this.store.add(e))}get(e){return dl(this.store.get(e)).next(t=>(t===void 0&&(t=null),xe(li,"GET",this.store.name,e,t),t))}delete(e){return xe(li,"DELETE",this.store.name,e),dl(this.store.delete(e))}count(){return xe(li,"COUNT",this.store.name),dl(this.store.count())}J(e,t){const n=this.options(e,t),a=n.index?this.store.index(n.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(n.range);return new ae((u,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}{const o=this.cursor(n),u=[];return this.Y(o,(h,m)=>{u.push(m)}).next(()=>u)}}Z(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new ae((a,o)=>{n.onerror=u=>{o(u.target.error)},n.onsuccess=u=>{a(u.target.result)}})}X(e,t){xe(li,"DELETE ALL",this.store.name);const n=this.options(e,t);n.ee=!1;const a=this.cursor(n);return this.Y(a,(o,u,h)=>h.delete())}te(e,t){let n;t?n=e:(n={},t=e);const a=this.cursor(n);return this.Y(a,t)}ne(e){const t=this.cursor({});return new ae((n,a)=>{t.onerror=o=>{const u=fv(o.target.error);a(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():n()}):n()}})}Y(e,t){const n=[];return new ae((a,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const m=new nO(h),g=t(h.primaryKey,h.value,m);if(g instanceof ae){const E=g.catch(S=>(m.done(),ae.reject(S)));n.push(E)}m.isDone?a():m.j===null?h.continue():h.continue(m.j)}}).next(()=>ae.waitFor(n))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function dl(i){return new ae((e,t)=>{i.onsuccess=n=>{const a=n.target.result;e(a)},i.onerror=n=>{const a=fv(n.target.error);t(a)}})}let UE=!1;function fv(i){const e=Eo.M(Mn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const n=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UE||(UE=!0,setTimeout(()=>{throw n},0)),n}}return i}const Ah="IndexBackfiller";class iO{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){xe(Ah,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();xe(Ah,`Documents written: ${t}`)}catch(t){xo(t)?xe(Ah,"Ignoring IndexedDB error during index backfill: ",t):await Io(t)}await this.ie(6e4)})}}class sO{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const n=new Set;let a=t,o=!0;return ae.doWhile(()=>o===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!n.has(u))return xe(Ah,`Processing collection: ${u}`),this._e(e,u,a).next(h=>{a-=h,n.add(u)});o=!1})).next(()=>t-a)}_e(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,n).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(a,o)).next(h=>(xe(Ah,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let n=e;return t.changes.forEach((a,o)=>{const u=i1(o);hv(u,n)>0&&(n=u)}),new ci(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Br.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function Cm(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function aO(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="";function pr(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=zE(e)),e=oO(i.get(t),e);return zE(e)}function oO(i,e){let t=e;const n=i.length;for(let a=0;a<n;a++){const o=i.charAt(a);switch(o){case"\0":t+="";break;case Jd:t+="";break;default:t+=o}}return t}function zE(i){return i+Jd+""}function As(i){const e=i.length;if(Xe(e>=2,64408,{path:i}),e===2)return Xe(i.charAt(0)===Jd&&i.charAt(1)==="",56145,{path:i}),Xt.emptyPath();const t=e-2,n=[];let a="";for(let o=0;o<e;){const u=i.indexOf(Jd,o);switch((u<0||u>t)&&Ge(50515,{path:i}),i.charAt(u+1)){case"":const h=i.substring(o,u);let m;a.length===0?m=h:(a+=h,m=a,a=""),n.push(m);break;case"":a+=i.substring(o,u),a+="\0";break;case"":a+=i.substring(o,u+1);break;default:Ge(61167,{path:i})}o=u+2}return new Xt(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="remoteDocuments",sf="owner",mu="owner",Lh="mutationQueues",lO="userId",es="mutations",BE="batchId",vl="userMutationsIndex",qE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(i,e){return[i,pr(e)]}function l1(i,e,t){return[i,pr(e),t]}const uO={},Mu="documentMutations",Zd="remoteDocumentsV14",cO=["prefixPath","collectionGroup","readTime","documentId"],Vd="documentKeyIndex",hO=["prefixPath","collectionGroup","documentId"],u1="collectionGroupIndex",fO=["collectionGroup","readTime","prefixPath","documentId"],jh="remoteDocumentGlobal",vy="remoteDocumentGlobalKey",Lu="targets",c1="queryTargetsIndex",dO=["canonicalId","targetId"],ju="targetDocuments",mO=["targetId","path"],dv="documentTargetsIndex",pO=["path","targetId"],em="targetGlobalKey",El="targetGlobal",Uh="collectionParents",gO=["collectionId","parent"],Uu="clientMetadata",yO="clientId",Om="bundles",vO="bundleId",Dm="namedQueries",_O="name",mv="indexConfiguration",bO="indexId",_y="collectionGroupIndex",EO="collectionGroup",tm="indexState",wO=["indexId","uid"],h1="sequenceNumberIndex",TO=["uid","sequenceNumber"],nm="indexEntries",SO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],f1="documentKeyIndex",AO=["indexId","uid","orderedDocumentKey"],Nm="documentOverlays",RO=["userId","collectionPath","documentId"],by="collectionPathOverlayIndex",IO=["userId","collectionPath","largestBatchId"],d1="collectionGroupOverlayIndex",xO=["userId","collectionGroup","largestBatchId"],pv="globals",kO="name",m1=[Lh,es,Mu,fl,Lu,sf,El,ju,Uu,jh,Uh,Om,Dm],CO=[...m1,Nm],p1=[Lh,es,Mu,Zd,Lu,sf,El,ju,Uu,jh,Uh,Om,Dm,Nm],g1=p1,gv=[...g1,mv,tm,nm],OO=gv,DO=[...gv,pv];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends a1{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function Ln(i,e){const t=Qe(i);return Eo.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function af(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function NO(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t){this.comparator=e,this.root=t||ir.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,t,n,a,o){this.key=e,this.value=t,this.color=n??ir.RED,this.left=a??ir.EMPTY,this.right=o??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,o){return new ir(e??this.key,t??this.value,n??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const o=n(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,n),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return ir.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,n,a,o){return this}insert(e,t,n){return new ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KE(this.data.getIterator())}getIteratorFrom(e){return new KE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class KE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pu(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new la([])}unionWith(e){let t=new Bt(Tn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new la(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new y1("Invalid base64 string: "+o):o}}(e);return new Sn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const PO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const t=PO.exec(i);if(Xe(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:an(i.seconds),nanos:an(i.nanos)}}function an(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function pa(i){return typeof i=="string"?Sn.fromBase64String(i):Sn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="server_timestamp",_1="__type__",b1="__previous_value__",E1="__local_write_time__";function yv(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[_1])===null||t===void 0?void 0:t.stringValue)===v1}function Pm(i){const e=i.mapValue.fields[b1];return yv(e)?Pm(e):e}function zh(i){const e=ma(i.mapValue.fields[E1].timestampValue);return new Qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,n,a,o,u,h,m,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=E}}const rm="(default)";class xl{constructor(e,t){this.projectId=e,this.database=t||rm}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===rm}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="__type__",T1="__max__",po={mapValue:{fields:{__type__:{stringValue:T1}}}},S1="__vector__",Bh="value",Md={nullValue:"NULL_VALUE"};function wo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?yv(i)?4:A1(i)?9007199254740991:Vm(i)?10:11:Ge(28295,{value:i})}function Cs(i,e){if(i===e)return!0;const t=wo(i);if(t!==wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return zh(i).isEqual(zh(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=ma(a.timestampValue),h=ma(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,o){return pa(a.bytesValue).isEqual(pa(o.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,o){return an(a.geoPointValue.latitude)===an(o.geoPointValue.latitude)&&an(a.geoPointValue.longitude)===an(o.geoPointValue.longitude)}(i,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return an(a.integerValue)===an(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=an(a.doubleValue),h=an(o.doubleValue);return u===h?Mh(u)===Mh(h):isNaN(u)&&isNaN(h)}return!1}(i,e);case 9:return Pu(i.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(FE(u)!==FE(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!Cs(u[m],h[m])))return!1;return!0}(i,e);default:return Ge(52216,{left:i})}}function qh(i,e){return(i.values||[]).find(t=>Cs(t,e))!==void 0}function To(i,e){if(i===e)return 0;const t=wo(i),n=wo(e);if(t!==n)return at(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(i.booleanValue,e.booleanValue);case 2:return function(o,u){const h=an(o.integerValue||o.doubleValue),m=an(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(i,e);case 3:return HE(i.timestampValue,e.timestampValue);case 4:return HE(zh(i),zh(e));case 5:return gy(i.stringValue,e.stringValue);case 6:return function(o,u){const h=pa(o),m=pa(u);return h.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),m=u.split("/");for(let g=0;g<h.length&&g<m.length;g++){const E=at(h[g],m[g]);if(E!==0)return E}return at(h.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(o,u){const h=at(an(o.latitude),an(u.latitude));return h!==0?h:at(an(o.longitude),an(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return GE(i.arrayValue,e.arrayValue);case 10:return function(o,u){var h,m,g,E;const S=o.fields||{},I=u.fields||{},P=(h=S[Bh])===null||h===void 0?void 0:h.arrayValue,N=(m=I[Bh])===null||m===void 0?void 0:m.arrayValue,Z=at(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:GE(P,N)}(i.mapValue,e.mapValue);case 11:return function(o,u){if(o===po.mapValue&&u===po.mapValue)return 0;if(o===po.mapValue)return 1;if(u===po.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),g=u.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let S=0;S<m.length&&S<E.length;++S){const I=gy(m[S],E[S]);if(I!==0)return I;const P=To(h[m[S]],g[E[S]]);if(P!==0)return P}return at(m.length,E.length)}(i.mapValue,e.mapValue);default:throw Ge(23264,{Pe:t})}}function HE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return at(i,e);const t=ma(i),n=ma(e),a=at(t.seconds,n.seconds);return a!==0?a:at(t.nanos,n.nanos)}function GE(i,e){const t=i.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const o=To(t[a],n[a]);if(o)return o}return at(t.length,n.length)}function zu(i){return wy(i)}function wy(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const n=ma(t);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return pa(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ze.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let n="[",a=!0;for(const o of t.values||[])a?a=!1:n+=",",n+=wy(o);return n+"]"}(i.arrayValue):"mapValue"in i?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of n)o?o=!1:a+=",",a+=`${u}:${wy(t.fields[u])}`;return a+"}"}(i.mapValue):Ge(61005,{value:i})}function Ld(i){switch(wo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(i);return e?16+Ld(e):16;case 5:return 2*i.stringValue.length;case 6:return pa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,o)=>a+Ld(o),0)}(i.arrayValue);case 10:case 11:return function(n){let a=0;return af(n.fields,(o,u)=>{a+=o.length+Ld(u)}),a}(i.mapValue);default:throw Ge(13486,{value:i})}}function vv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ty(i){return!!i&&"integerValue"in i}function Fh(i){return!!i&&"arrayValue"in i}function $E(i){return!!i&&"nullValue"in i}function QE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gg(i){return!!i&&"mapValue"in i}function Vm(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[w1])===null||t===void 0?void 0:t.stringValue)===S1}function Rh(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return af(i.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Rh(n)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rh(i.arrayValue.values[t]);return e}return Object.assign({},i)}function A1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===T1}const R1={mapValue:{fields:{[w1]:{stringValue:S1},[Bh]:{arrayValue:{}}}}};function MO(i){return"nullValue"in i?Md:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?vv(xl.empty(),ze.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?Vm(i)?R1:{mapValue:{}}:Ge(35942,{value:i})}function LO(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?vv(xl.empty(),ze.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?R1:"mapValue"in i?Vm(i)?{mapValue:{}}:po:Ge(61959,{value:i})}function YE(i,e){const t=To(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function XE(i,e){const t=To(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rh(t)}setAll(e){let t=Tn.emptyPath(),n={},a=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,n,a),n={},a=[],t=h.popLast()}u?n[h.lastSegment()]=Rh(u):a.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,a)}delete(e){const t=this.field(e.popLast());Gg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];Gg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){af(t,(a,o)=>e[a]=o);for(const a of n)delete e[a]}clone(){return new Ni(Rh(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,n,a,o,u,h){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new pn(e,0,Ze.min(),Ze.min(),Ze.min(),Ni.empty(),0)}static newFoundDocument(e,t,n,a){return new pn(e,1,t,Ze.min(),n,a,0)}static newNoDocument(e,t){return new pn(e,2,t,Ze.min(),Ze.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Ze.min(),Ze.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this.position=e,this.inclusive=t}}function WE(i,e,t){let n=0;for(let a=0;a<i.position.length;a++){const o=e[a],u=i.position[a];if(o.field.isKeyField()?n=ze.comparator(ze.fromName(u.referenceValue),t.key):n=To(u,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function JE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Cs(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t="asc"){this.field=e,this.dir=t}}function jO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{}class Rt extends I1{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new UO(e,t,n):t==="array-contains"?new qO(e,n):t==="in"?new N1(e,n):t==="not-in"?new FO(e,n):t==="array-contains-any"?new KO(e,n):new Rt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new zO(e,n):new BO(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(To(t,this.value)):t!==null&&wo(this.value)===wo(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qt extends I1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Qt(e,t)}matches(e){return qu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qu(i){return i.op==="and"}function Sy(i){return i.op==="or"}function _v(i){return x1(i)&&qu(i)}function x1(i){for(const e of i.filters)if(e instanceof Qt)return!1;return!0}function Ay(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+zu(i.value);if(_v(i))return i.filters.map(e=>Ay(e)).join(",");{const e=i.filters.map(t=>Ay(t)).join(",");return`${i.op}(${e})`}}function k1(i,e){return i instanceof Rt?function(n,a){return a instanceof Rt&&n.op===a.op&&n.field.isEqual(a.field)&&Cs(n.value,a.value)}(i,e):i instanceof Qt?function(n,a){return a instanceof Qt&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((o,u,h)=>o&&k1(u,a.filters[h]),!0):!1}(i,e):void Ge(19439)}function C1(i,e){const t=i.filters.concat(e);return Qt.create(t,i.op)}function O1(i){return i instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${zu(t.value)}`}(i):i instanceof Qt?function(t){return t.op.toString()+" {"+t.getFilters().map(O1).join(" ,")+"}"}(i):"Filter"}class UO extends Rt{constructor(e,t,n){super(e,t,n),this.key=ze.fromName(n.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class zO extends Rt{constructor(e,t){super(e,"in",t),this.keys=D1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class BO extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=D1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>ze.fromName(n.referenceValue))}class qO extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fh(t)&&qh(t.arrayValue,this.value)}}class N1 extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qh(this.value.arrayValue,t)}}class FO extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qh(this.value.arrayValue,t)}}class KO extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>qh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t=null,n=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function Ry(i,e=null,t=[],n=[],a=null,o=null,u=null){return new HO(i,e,t,n,a,o,u)}function kl(i){const e=Qe(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Ay(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Cm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>zu(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>zu(n)).join(",")),e.Ie=t}return e.Ie}function of(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!jO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!k1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!JE(i.startAt,e.startAt)&&JE(i.endAt,e.endAt)}function sm(i){return ze.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function am(i,e){return i.filters.filter(t=>t instanceof Rt&&t.field.isEqual(e))}function ZE(i,e,t){let n=Md,a=!0;for(const o of am(i,e)){let u=Md,h=!0;switch(o.op){case"<":case"<=":u=MO(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Md}YE({value:n,inclusive:a},{value:u,inclusive:h})<0&&(n=u,a=h)}if(t!==null){for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(e)){const u=t.position[o];YE({value:n,inclusive:a},{value:u,inclusive:t.inclusive})<0&&(n=u,a=t.inclusive);break}}return{value:n,inclusive:a}}function ew(i,e,t){let n=po,a=!0;for(const o of am(i,e)){let u=po,h=!0;switch(o.op){case">=":case">":u=LO(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=po}XE({value:n,inclusive:a},{value:u,inclusive:h})>0&&(n=u,a=h)}if(t!==null){for(let o=0;o<i.orderBy.length;++o)if(i.orderBy[o].field.isEqual(e)){const u=t.position[o];XE({value:n,inclusive:a},{value:u,inclusive:t.inclusive})>0&&(n=u,a=t.inclusive);break}}return{value:n,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t=null,n=[],a=[],o=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function P1(i,e,t,n,a,o,u,h){return new Mm(i,e,t,n,a,o,u,h)}function Lm(i){return new Mm(i)}function tw(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function GO(i){return i.collectionGroup!==null}function Ih(i){const e=Qe(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Bt(Tn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new im(o,n))}),t.has(Tn.keyField().canonicalString())||e.Ee.push(new im(Tn.keyField(),n))}return e.Ee}function ui(i){const e=Qe(i);return e.de||(e.de=$O(e,Ih(i))),e.de}function $O(i,e){if(i.limitType==="F")return Ry(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new im(a.field,o)});const t=i.endAt?new Bu(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new Bu(i.startAt.position,i.startAt.inclusive):null;return Ry(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function Iy(i,e,t){return new Mm(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function jm(i,e){return of(ui(i),ui(e))&&i.limitType===e.limitType}function V1(i){return`${kl(ui(i))}|lt:${i.limitType}`}function Tu(i){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>O1(a)).join(", ")}]`),Cm(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>zu(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>zu(a)).join(",")),`Target(${n})`}(ui(i))}; limitType=${i.limitType})`}function lf(i,e){return e.isFoundDocument()&&function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ze.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(i,e)&&function(n,a){for(const o of Ih(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(i,e)&&function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0}(i,e)&&function(n,a){return!(n.startAt&&!function(u,h,m){const g=WE(u,h,m);return u.inclusive?g<=0:g<0}(n.startAt,Ih(n),a)||n.endAt&&!function(u,h,m){const g=WE(u,h,m);return u.inclusive?g>=0:g>0}(n.endAt,Ih(n),a))}(i,e)}function M1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function L1(i){return(e,t)=>{let n=!1;for(const a of Ih(i)){const o=QO(a,e,t);if(o!==0)return o;n=n||a.field.isKeyField()}return 0}}function QO(i,e,t){const n=i.field.isKeyField()?ze.comparator(e.key,t.key):function(o,u,h){const m=u.data.field(o),g=h.data.field(o);return m!==null&&g!==null?To(m,g):Ge(42886)}(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Ge(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,o]of n)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){af(this.inner,(t,n)=>{for(const[a,o]of n)e(a,o)})}isEmpty(){return NO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new en(ze.comparator);function Pi(){return YO}const j1=new en(ze.comparator);function _h(...i){let e=j1;for(const t of i)e=e.insert(t.key,t);return e}function XO(i){let e=j1;return i.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Rs(){return xh()}function U1(){return xh()}function xh(){return new va(i=>i.toString(),(i,e)=>i.isEqual(e))}const WO=new en(ze.comparator),JO=new Bt(ze.comparator);function wt(...i){let e=JO;for(const t of i)e=e.add(t);return e}const ZO=new Bt(at);function bv(){return ZO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function tD(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this._=void 0}}function nD(i,e,t){return i instanceof Kh?function(a,o){const u={fields:{[_1]:{stringValue:v1},[E1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&yv(o)&&(o=Pm(o)),o&&(u.fields[b1]=o),{mapValue:u}}(t,e):i instanceof Fu?z1(i,e):i instanceof Ku?B1(i,e):function(a,o){const u=iD(a,o),h=nw(u)+nw(a.Re);return Ty(u)&&Ty(a.Re)?tD(h):eD(a.serializer,h)}(i,e)}function rD(i,e,t){return i instanceof Fu?z1(i,e):i instanceof Ku?B1(i,e):t}function iD(i,e){return i instanceof Hh?function(n){return Ty(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Kh extends Um{}class Fu extends Um{constructor(e){super(),this.elements=e}}function z1(i,e){const t=q1(e);for(const n of i.elements)t.some(a=>Cs(a,n))||t.push(n);return{arrayValue:{values:t}}}class Ku extends Um{constructor(e){super(),this.elements=e}}function B1(i,e){let t=q1(e);for(const n of i.elements)t=t.filter(a=>!Cs(a,n));return{arrayValue:{values:t}}}class Hh extends Um{constructor(e,t){super(),this.serializer=e,this.Re=t}}function nw(i){return an(i.integerValue||i.doubleValue)}function q1(i){return Fh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t){this.field=e,this.transform=t}}function aD(i,e){return i.field.isEqual(e.field)&&function(n,a){return n instanceof Fu&&a instanceof Fu||n instanceof Ku&&a instanceof Ku?Pu(n.elements,a.elements,Cs):n instanceof Hh&&a instanceof Hh?Cs(n.Re,a.Re):n instanceof Kh&&a instanceof Kh}(i.transform,e.transform)}class oD{constructor(e,t){this.version=e,this.transformResults=t}}class rs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class zm{}function F1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ev(i.key,rs.none()):new uf(i.key,i.data,rs.none());{const t=i.data,n=Ni.empty();let a=new Bt(Tn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?n.delete(o):n.set(o,u),a=a.add(o)}return new Zu(i.key,n,new la(a.toArray()),rs.none())}}function lD(i,e,t){i instanceof uf?function(a,o,u){const h=a.value.clone(),m=iw(a.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(i,e,t):i instanceof Zu?function(a,o,u){if(!jd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=iw(a.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(K1(a)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(i,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function kh(i,e,t,n){return i instanceof uf?function(o,u,h,m){if(!jd(o.precondition,u))return h;const g=o.value.clone(),E=sw(o.fieldTransforms,m,u);return g.setAll(E),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(i,e,t,n):i instanceof Zu?function(o,u,h,m){if(!jd(o.precondition,u))return h;const g=sw(o.fieldTransforms,m,u),E=u.data;return E.setAll(K1(o)),E.setAll(g),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(i,e,t,n):function(o,u,h){return jd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(i,e,t)}function rw(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Pu(n,a,(o,u)=>aD(o,u))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class uf extends zm{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Zu extends zm{constructor(e,t,n,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function K1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}}),e}function iw(i,e,t){const n=new Map;Xe(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let a=0;a<t.length;a++){const o=i[a],u=o.transform,h=e.data.field(o.field);n.set(o.field,rD(u,h,t[a]))}return n}function sw(i,e,t){const n=new Map;for(const a of i){const o=a.transform,u=t.data.field(a.field);n.set(a.field,nD(o,u,e))}return n}class Ev extends zm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H1 extends zm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&lD(o,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=U1();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(a.key)?null:h;const m=F1(u,h);m!==null&&n.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ze.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wt())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,(t,n)=>rw(t,n))&&Pu(this.baseMutations,e.baseMutations,(t,n)=>rw(t,n))}}class Tv{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){Xe(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return WO}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,n[u].version);return new Tv(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,kt;function cD(i){switch(i){case Re.OK:return Ge(64938);case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return Ge(15467,{code:i})}}function G1(i){if(i===void 0)return wn("GRPC error has no .code"),Re.UNKNOWN;switch(i){case On.OK:return Re.OK;case On.CANCELLED:return Re.CANCELLED;case On.UNKNOWN:return Re.UNKNOWN;case On.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case On.INTERNAL:return Re.INTERNAL;case On.UNAVAILABLE:return Re.UNAVAILABLE;case On.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case On.NOT_FOUND:return Re.NOT_FOUND;case On.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case On.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case On.ABORTED:return Re.ABORTED;case On.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case On.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case On.DATA_LOSS:return Re.DATA_LOSS;default:return Ge(39323,{code:i})}}(kt=On||(On={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new _o([4294967295,4294967295],0);function aw(i){const e=e1().encode(i),t=new $S;return t.update(e),new Uint8Array(t.digest())}function ow(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _o([t,n],0),new _o([a,o],0)]}class Av{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new bh(`Invalid padding: ${t}`);if(n<0)throw new bh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new bh(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new bh(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=_o.fromNumber(this.pe)}we(e,t,n){let a=e.add(t.multiply(_o.fromNumber(n)));return a.compare(hD)===1&&(a=new _o([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=aw(e),[n,a]=ow(t);for(let o=0;o<this.hashCount;o++){const u=this.we(n,a,o);if(!this.be(u))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Av(o,a,t);return n.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=aw(e),[n,a]=ow(t);for(let o=0;o<this.hashCount;o++){const u=this.we(n,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,n,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cf(Ze.min(),a,new en(at),Pi(),wt())}}class hf{constructor(e,t,n,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hf(n,t,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,t,n,a){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=a}}class $1{constructor(e,t){this.targetId=e,this.Ce=t}}class Q1{constructor(e,t,n=Sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class lw{constructor(){this.Fe=0,this.Me=uw(),this.xe=Sn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=wt(),t=wt(),n=wt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:Ge(38017,{changeType:o})}}),new hf(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=uw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fD{constructor(e){this.ze=e,this.je=new Map,this.He=Pi(),this.Je=Ed(),this.Ye=Ed(),this.Ze=new en(at)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,n=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(sm(o))if(n===0){const u=new ze(o.path);this.tt(t,u,pn.newNoDocument(u,Ze.min()))}else Xe(n===1,20013,{expectedCount:n});else{const u=this.ut(t);if(u!==n){const h=this.ct(e),m=h?this.lt(h,e,u):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:o=0}=t;let u,h;try{u=pa(n).toUint8Array()}catch(m){if(m instanceof y1)return Ph("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Av(u,a,o)}catch(m){return Ph(m instanceof bh?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.pe===0?null:h}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let a=0;return n.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&sm(h.target)){const m=new ze(h.target.path);this.Et(m).has(u)||this.dt(u,m)||this.tt(u,m,pn.newNoDocument(m,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let n=wt();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(n=n.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new cf(e,t,this.Ze,this.He,n);return this.He=Pi(),this.Je=Ed(),this.Ye=Ed(),this.Ze=new en(at),a}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new lw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Bt(at),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Bt(at),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ed(){return new en(ze.comparator)}function uw(){return new en(ze.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},mD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pD={and:"AND",or:"OR"};class gD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xy(i,e){return i.useProto3Json||Cm(e)?e:{value:e}}function om(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yD(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function vD(i,e){return om(i,e.toTimestamp())}function Rr(i){return Xe(!!i,49232),Ze.fromTimestamp(function(t){const n=ma(t);return new Qn(n.seconds,n.nanos)}(i))}function Y1(i,e){return ky(i,e).canonicalString()}function ky(i,e){const t=function(a){return new Xt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function X1(i){const e=Xt.fromString(i);return Xe(sA(e),10190,{key:e.toString()}),e}function lm(i,e){return Y1(i.databaseId,e.path)}function wl(i,e){const t=X1(e);if(t.get(1)!==i.databaseId.projectId)throw new $e(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new $e(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ze(Z1(t))}function W1(i,e){return Y1(i.databaseId,e)}function J1(i){const e=X1(i);return e.length===4?Xt.emptyPath():Z1(e)}function Cy(i){return new Xt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Z1(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function cw(i,e,t){return{name:lm(i,e),fields:t.value.mapValue.fields}}function _D(i,e,t){const n=wl(i,e.name),a=Rr(e.updateTime),o=e.createTime?Rr(e.createTime):Ze.min(),u=new Ni({mapValue:{fields:e.fields}}),h=pn.newFoundDocument(n,a,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function bD(i,e){let t;if("targetChange"in e){e.targetChange;const n=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ge(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),Sn.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Sn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const E=g.code===void 0?Re.UNKNOWN:G1(g.code);return new $e(E,g.message||"")}(u);t=new Q1(n,a,o,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=wl(i,n.document.name),o=Rr(n.document.updateTime),u=n.document.createTime?Rr(n.document.createTime):Ze.min(),h=new Ni({mapValue:{fields:n.document.fields}}),m=pn.newFoundDocument(a,o,u,h),g=n.targetIds||[],E=n.removedTargetIds||[];t=new Ud(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=wl(i,n.document),o=n.readTime?Rr(n.readTime):Ze.min(),u=pn.newNoDocument(a,o),h=n.removedTargetIds||[];t=new Ud([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=wl(i,n.document),o=n.removedTargetIds||[];t=new Ud([],o,a,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:o}=n,u=new uD(a,o),h=n.targetId;t=new $1(h,u)}}return t}function um(i,e){let t;if(e instanceof uf)t={update:cw(i,e.key,e.value)};else if(e instanceof Ev)t={delete:lm(i,e.key)};else if(e instanceof Zu)t={update:cw(i,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof H1))return Ge(16599,{ft:e.type});t={verify:lm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,u){const h=u.transform;if(h instanceof Kh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ku)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Hh)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ge(20930,{transform:u.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:vD(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ge(27497)}(i,e.precondition)),t}function Oy(i,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?rs.updateTime(Rr(o.updateTime)):o.exists!==void 0?rs.exists(o.exists):rs.none()}(e.currentDocument):rs.none(),n=e.updateTransforms?e.updateTransforms.map(a=>function(u,h){let m=null;if("setToServerValue"in h)Xe(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),m=new Kh;else if("appendMissingElements"in h){const E=h.appendMissingElements.values||[];m=new Fu(E)}else if("removeAllFromArray"in h){const E=h.removeAllFromArray.values||[];m=new Ku(E)}else"increment"in h?m=new Hh(u,h.increment):Ge(16584,{proto:h});const g=Tn.fromServerFormat(h.fieldPath);return new sD(g,m)}(i,a)):[];if(e.update){e.update.name;const a=wl(i,e.update.name),o=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(m){const g=m.fieldPaths||[];return new la(g.map(E=>Tn.fromServerFormat(E)))}(e.updateMask);return new Zu(a,o,u,t,n)}return new uf(a,o,t,n)}if(e.delete){const a=wl(i,e.delete);return new Ev(a,t)}if(e.verify){const a=wl(i,e.verify);return new H1(a,t)}return Ge(1463,{proto:e})}function ED(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map(t=>function(a,o){let u=a.updateTime?Rr(a.updateTime):Rr(o);return u.isEqual(Ze.min())&&(u=Rr(o)),new oD(u,a.transformResults||[])}(t,e))):[]}function eA(i,e){return{documents:[W1(i,e.path)]}}function tA(i,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=W1(i,a);const o=function(g){if(g.length!==0)return iA(Qt.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(E=>function(I){return{field:Su(I.field),direction:TD(I.dir)}}(E))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=xy(i,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function nA(i){let e=J1(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){Xe(n===1,65062);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let o=[];t.where&&(o=function(S){const I=rA(S);return I instanceof Qt&&_v(I)?I.getFilters():[I]}(t.where));let u=[];t.orderBy&&(u=function(S){return S.map(I=>function(N){return new im(Au(N.field),function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(S){let I;return I=typeof S=="object"?S.value:S,Cm(I)?null:I}(t.limit));let m=null;t.startAt&&(m=function(S){const I=!!S.before,P=S.values||[];return new Bu(P,I)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const I=!S.before,P=S.values||[];return new Bu(P,I)}(t.endAt)),P1(e,a,u,o,h,"F",m,g)}function wD(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rA(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Au(t.unaryFilter.field);return Rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Au(t.unaryFilter.field);return Rt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Au(t.unaryFilter.field);return Rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Au(t.unaryFilter.field);return Rt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}}(i):i.fieldFilter!==void 0?function(t){return Rt.create(Au(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Qt.create(t.compositeFilter.filters.map(n=>rA(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}}(t.compositeFilter.op))}(i):Ge(30097,{filter:i})}function TD(i){return dD[i]}function SD(i){return mD[i]}function AD(i){return pD[i]}function Su(i){return{fieldPath:i.canonicalString()}}function Au(i){return Tn.fromServerFormat(i.fieldPath)}function iA(i){return i instanceof Rt?function(t){if(t.op==="=="){if(QE(t.value))return{unaryFilter:{field:Su(t.field),op:"IS_NAN"}};if($E(t.value))return{unaryFilter:{field:Su(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QE(t.value))return{unaryFilter:{field:Su(t.field),op:"IS_NOT_NAN"}};if($E(t.value))return{unaryFilter:{field:Su(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Su(t.field),op:SD(t.op),value:t.value}}}(i):i instanceof Qt?function(t){const n=t.getFilters().map(a=>iA(a));return n.length===1?n[0]:{compositeFilter:{op:AD(t.op),filters:n}}}(i):Ge(54877,{filter:i})}function RD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t,n,a,o=Ze.min(),u=Ze.min(),h=Sn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.wt=e}}function ID(i,e){let t;if(e.document)t=_D(i.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ze.fromSegments(e.noDocument.path),a=Ol(e.noDocument.readTime);t=pn.newNoDocument(n,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ge(56709);{const n=ze.fromSegments(e.unknownDocument.path),a=Ol(e.unknownDocument.version);t=pn.newUnknownDocument(n,a)}}return e.readTime&&t.setReadTime(function(a){const o=new Qn(a[0],a[1]);return Ze.fromTimestamp(o)}(e.readTime)),t}function hw(i,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(o,u){return{name:lm(o,u.key),fields:u.data.value.mapValue.fields,updateTime:om(o,u.version.toTimestamp()),createTime:om(o,u.createTime.toTimestamp())}}(i.wt,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:Cl(e.version)};else{if(!e.isUnknownDocument())return Ge(57904,{document:e});n.unknownDocument={path:t.path.toArray(),version:Cl(e.version)}}return n}function cm(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Cl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ol(i){const e=new Qn(i.seconds,i.nanoseconds);return Ze.fromTimestamp(e)}function ml(i,e){const t=(e.baseMutations||[]).map(o=>Oy(i.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const n=e.mutations.map(o=>Oy(i.wt,o)),a=Qn.fromMillis(e.localWriteTimeMs);return new wv(e.batchId,a,t,n)}function Eh(i){const e=Ol(i.readTime),t=i.lastLimboFreeSnapshotVersion!==void 0?Ol(i.lastLimboFreeSnapshotVersion):Ze.min();let n;return n=function(o){return o.documents!==void 0}(i.query)?function(o){const u=o.documents.length;return Xe(u===1,1966,{count:u}),ui(Lm(J1(o.documents[0])))}(i.query):function(o){return ui(nA(o))}(i.query),new ua(n,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Sn.fromBase64String(i.resumeToken))}function oA(i,e){const t=Cl(e.snapshotVersion),n=Cl(e.lastLimboFreeSnapshotVersion);let a;a=sm(e.target)?eA(i.wt,e.target):tA(i.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:a}}function lA(i){const e=nA({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Iy(e,e.limit,"L"):e}function $g(i,e){return new Sv(e.largestBatchId,Oy(i.wt,e.overlayMutation))}function fw(i,e){const t=e.path.lastSegment();return[i,pr(e.path.popLast()),t]}function dw(i,e,t,n){return{indexId:i,uid:e,sequenceNumber:t,readTime:Cl(n.readTime),documentKey:pr(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{getBundleMetadata(e,t){return mw(e).get(t).next(n=>{if(n)return function(o){return{id:o.bundleId,createTime:Ol(o.createTime),version:o.version}}(n)})}saveBundleMetadata(e,t){return mw(e).put(function(a){return{bundleId:a.id,createTime:Cl(Rr(a.createTime)),version:a.version}}(t))}getNamedQuery(e,t){return pw(e).get(t).next(n=>{if(n)return function(o){return{name:o.name,query:lA(o.bundledQuery),readTime:Ol(o.readTime)}}(n)})}saveNamedQuery(e,t){return pw(e).put(function(a){return{name:a.name,readTime:Cl(Rr(a.readTime)),bundledQuery:a.bundledQuery}}(t))}}function mw(i){return Ln(i,Om)}function pw(i){return Ln(i,Dm)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const n=t.uid||"";return new Bm(e,n)}getOverlay(e,t){return Hc(e).get(fw(this.userId,t)).next(n=>n?$g(this.serializer,n):null)}getOverlays(e,t){const n=Rs();return ae.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&n.set(a,o)})).next(()=>n)}saveOverlays(e,t,n){const a=[];return n.forEach((o,u)=>{const h=new Sv(t,u);a.push(this.St(e,h))}),ae.waitFor(a)}removeOverlaysForBatchId(e,t,n){const a=new Set;t.forEach(u=>a.add(pr(u.getCollectionPath())));const o=[];return a.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,n],[this.userId,u,n+1],!1,!0);o.push(Hc(e).X(by,h))}),ae.waitFor(o)}getOverlaysForCollection(e,t,n){const a=Rs(),o=pr(t),u=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Hc(e).J(by,u).next(h=>{for(const m of h){const g=$g(this.serializer,m);a.set(g.getKey(),g)}return a})}getOverlaysForCollectionGroup(e,t,n,a){const o=Rs();let u;const h=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hc(e).te({index:d1,range:h},(m,g,E)=>{const S=$g(this.serializer,g);o.size()<a||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):E.done()}).next(()=>o)}St(e,t){return Hc(e).put(function(a,o,u){const[h,m,g]=fw(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:g,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:um(a.wt,u.mutation)}}(this.serializer,this.userId,t))}}function Hc(i){return Ln(i,Nm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{Dt(e){return Ln(e,pv)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const n=t==null?void 0:t.value;return n?Sn.fromUint8Array(n):Sn.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(an(e.integerValue));else if("doubleValue"in e){const n=an(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Mh(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),typeof n=="string"&&(n=ma(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(pa(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?A1(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Vm(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Ge(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const a of Object.keys(n))this.Nt(a,t),this.Ct(n[a],t)}qt(e,t){var n,a;const o=e.fields||{};this.Mt(t,53);const u=Bh,h=((a=(n=o[u].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.length)||0;this.Mt(t,15),t.xt(an(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const a of n)this.Ct(a,t)}kt(e,t){this.Mt(t,37),ze.fromName(e).path.forEach(n=>{this.Mt(t,60),this.Kt(n,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}pl.Wt=new pl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=255;function CD(i){if(i===0)return 8;let e=0;return i>>4||(e+=4,i<<=4),i>>6||(e+=2,i<<=2),i>>7||(e+=1),e}function gw(i){const e=64-function(n){let a=0;for(let o=0;o<8;++o){const u=CD(255&n[o]);if(a+=u,u!==8)break}return a}(i);return Math.ceil(e/8)}class OD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.zt(n.value),n=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Yt()}Zt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const a=t.codePointAt(0);this.zt(240|a>>>18),this.zt(128|63&a>>>12),this.zt(128|63&a>>>6),this.zt(128|63&a)}}this.jt()}Xt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Yt()}en(e){const t=this.tn(e),n=gw(t);this.nn(1+n),this.buffer[this.position++]=255&n;for(let a=t.length-n;a<t.length;++a)this.buffer[this.position++]=255&t[a]}rn(e){const t=this.tn(e),n=gw(t);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let a=t.length-n;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}sn(){this._n(gu),this._n(255)}an(){this.un(gu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let a=1;a<t.length;++a)t[a]^=n?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===gu?(this._n(gu),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===gu?(this.un(gu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const a=new Uint8Array(n);a.set(this.buffer),this.buffer=a}}class DD{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class ND{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Gc{constructor(){this.ln=new OD,this.hn=new DD(this.ln),this.Pn=new ND(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t,n,a){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=a}In(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new gl(this.indexId,this.documentKey,this.arrayValue,n)}}function oo(i,e){let t=i.indexId-e.indexId;return t!==0?t:(t=yw(i.arrayValue,e.arrayValue),t!==0?t:(t=yw(i.directionalValue,e.directionalValue),t!==0?t:ze.comparator(i.documentKey,e.documentKey)))}function yw(i,e){for(let t=0;t<i.length&&t<e.length;++t){const n=i[t]-e[t];if(n!==0)return n}return i.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.En=new Bt((t,n)=>Tn.comparator(t.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const n=t;n.isInequality()?this.En=this.En.add(n):this.An.push(n)}}get Rn(){return this.En.size>1}Vn(e){if(Xe(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=yy(e);if(t!==void 0&&!this.mn(t))return!1;const n=hl(e);let a=new Set,o=0,u=0;for(;o<n.length&&this.mn(n[o]);++o)a=a.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.En.size>0){const h=this.En.getIterator().getNext();if(!a.has(h.field.canonicalString())){const m=n[o];if(!this.fn(h,m)||!this.gn(this.dn[u++],m))return!1}++o}for(;o<n.length;++o){const h=n[o];if(u>=this.dn.length||!this.gn(this.dn[u++],h))return!1}return!0}pn(){if(this.Rn)return null;let e=new Bt(Tn.comparator);const t=[];for(const n of this.An)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")t.push(new Nd(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Nd(n.field,0))}for(const n of this.dn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Nd(n.field,n.dir==="asc"?0:1)));return new Wd(Wd.UNKNOWN_ID,this.collectionId,t,Vh.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(i){var e,t;if(Xe(i instanceof Rt||i instanceof Qt,20012),i instanceof Rt){if(i instanceof N1){const a=((t=(e=i.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Rt.create(i.field,"==",o)))||[];return Qt.create(a,"or")}return i}const n=i.filters.map(a=>uA(a));return Qt.create(n,i.op)}function PD(i){if(i.getFilters().length===0)return[];const e=Py(uA(i));return Xe(cA(e),7391),Dy(e)||Ny(e)?[e]:e.getFilters()}function Dy(i){return i instanceof Rt}function Ny(i){return i instanceof Qt&&_v(i)}function cA(i){return Dy(i)||Ny(i)||function(t){if(t instanceof Qt&&Sy(t)){for(const n of t.getFilters())if(!Dy(n)&&!Ny(n))return!1;return!0}return!1}(i)}function Py(i){if(Xe(i instanceof Rt||i instanceof Qt,34018),i instanceof Rt)return i;if(i.filters.length===1)return Py(i.filters[0]);const e=i.filters.map(n=>Py(n));let t=Qt.create(e,i.op);return t=hm(t),cA(t)?t:(Xe(t instanceof Qt,64498),Xe(qu(t),40251),Xe(t.filters.length>1,57927),t.filters.reduce((n,a)=>Rv(n,a)))}function Rv(i,e){let t;return Xe(i instanceof Rt||i instanceof Qt,38388),Xe(e instanceof Rt||e instanceof Qt,25473),t=i instanceof Rt?e instanceof Rt?function(a,o){return Qt.create([a,o],"and")}(i,e):_w(i,e):e instanceof Rt?_w(e,i):function(a,o){if(Xe(a.filters.length>0&&o.filters.length>0,48005),qu(a)&&qu(o))return C1(a,o.getFilters());const u=Sy(a)?a:o,h=Sy(a)?o:a,m=u.filters.map(g=>Rv(g,h));return Qt.create(m,"or")}(i,e),hm(t)}function _w(i,e){if(qu(e))return C1(e,i.getFilters());{const t=e.filters.map(n=>Rv(i,n));return Qt.create(t,"or")}}function hm(i){if(Xe(i instanceof Rt||i instanceof Qt,11850),i instanceof Rt)return i;const e=i.getFilters();if(e.length===1)return hm(e[0]);if(x1(i))return i;const t=e.map(a=>hm(a)),n=[];return t.forEach(a=>{a instanceof Rt?n.push(a):a instanceof Qt&&(a.op===i.op?n.push(...a.filters):n.push(a))}),n.length===1?n[0]:Qt.create(n,i.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.yn=new Iv}addToCollectionParentIndex(e,t){return this.yn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ci.min())}updateCollectionGroup(e,t,n){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Iv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new Bt(Xt.comparator),o=!a.has(n);return this.index[t]=a.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Bt(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="IndexedDbIndexManager",wd=new Uint8Array(0);class MD{constructor(e,t){this.databaseId=t,this.wn=new Iv,this.bn=new va(n=>kl(n),(n,a)=>of(n,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const n=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.wn.add(t)});const o={collectionId:n,parent:pr(a)};return Ew(e).put(o)}return ae.resolve()}getCollectionParents(e,t){const n=[],a=IDBKeyRange.bound([t,""],[n1(t),""],!1,!0);return Ew(e).J(a).next(o=>{for(const u of o){if(u.collectionId!==t)break;n.push(As(u.parent))}return n})}addFieldIndex(e,t){const n=$c(e),a=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])}}(t);delete a.indexId;const o=n.add(a);if(t.indexState){const u=vu(e);return o.next(h=>{u.put(dw(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const n=$c(e),a=vu(e),o=yu(e);return n.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=$c(e),n=yu(e),a=vu(e);return t.X().next(()=>n.X()).next(()=>a.X())}createTargetIndexes(e,t){return ae.forEach(this.Sn(t),n=>this.getIndexType(e,n).next(a=>{if(a===0||a===1){const o=new vw(n).pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const n=yu(e);let a=!0;const o=new Map;return ae.forEach(this.Sn(t),u=>this.Dn(e,u).next(h=>{a&&(a=!!h),o.set(u,h)})).next(()=>{if(a){let u=wt();const h=[];return ae.forEach(o,(m,g)=>{xe(bw,`Using index ${function(re){return`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(ve=>`${ve.fieldPath}:${ve.kind}`).join(",")}`}(m)} to execute ${kl(t)}`);const E=function(re,ve){const Ae=yy(ve);if(Ae===void 0)return null;for(const De of am(re,Ae.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(g,m),S=function(re,ve){const Ae=new Map;for(const De of hl(ve))for(const M of am(re,De.fieldPath))switch(M.op){case"==":case"in":Ae.set(De.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return Ae.set(De.fieldPath.canonicalString(),M.value),Array.from(Ae.values())}return null}(g,m),I=function(re,ve){const Ae=[];let De=!0;for(const M of hl(ve)){const D=M.kind===0?ZE(re,M.fieldPath,re.startAt):ew(re,M.fieldPath,re.startAt);Ae.push(D.value),De&&(De=D.inclusive)}return new Bu(Ae,De)}(g,m),P=function(re,ve){const Ae=[];let De=!0;for(const M of hl(ve)){const D=M.kind===0?ew(re,M.fieldPath,re.endAt):ZE(re,M.fieldPath,re.endAt);Ae.push(D.value),De&&(De=D.inclusive)}return new Bu(Ae,De)}(g,m),N=this.vn(m,g,I),Z=this.vn(m,g,P),ne=this.Cn(m,g,S),ge=this.Fn(m.indexId,E,N,I.inclusive,Z,P.inclusive,ne);return ae.forEach(ge,_e=>n.Z(_e,t.limit).next(re=>{re.forEach(ve=>{const Ae=ze.fromSegments(ve.documentKey);u.has(Ae)||(u=u.add(Ae),h.push(Ae))})}))}).next(()=>h)}return ae.resolve(null)})}Sn(e){let t=this.bn.get(e);return t||(e.filters.length===0?t=[e]:t=PD(Qt.create(e.filters,"and")).map(n=>Ry(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.bn.set(e,t),t)}Fn(e,t,n,a,o,u,h){const m=(t!=null?t.length:1)*Math.max(n.length,o.length),g=m/(t!=null?t.length:1),E=[];for(let S=0;S<m;++S){const I=t?this.Mn(t[S/g]):wd,P=this.xn(e,I,n[S%g],a),N=this.On(e,I,o[S%g],u),Z=h.map(ne=>this.xn(e,I,ne,!0));E.push(...this.createRange(P,N,Z))}return E}xn(e,t,n,a){const o=new gl(e,ze.empty(),t,n);return a?o:o.In()}On(e,t,n,a){const o=new gl(e,ze.empty(),t,n);return a?o.In():o}Dn(e,t){const n=new vw(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(o=>{let u=null;for(const h of o)n.Vn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let n=2;const a=this.Sn(t);return ae.forEach(a,o=>this.Dn(e,o).next(u=>{u?n!==0&&u.fields.length<function(m){let g=new Bt(Tn.comparator),E=!1;for(const S of m.filters)for(const I of S.getFlattenedFilters())I.field.isKeyField()||(I.op==="array-contains"||I.op==="array-contains-any"?E=!0:g=g.add(I.field));for(const S of m.orderBy)S.field.isKeyField()||(g=g.add(S.field));return g.size+(E?1:0)}(o)&&(n=1):n=0})).next(()=>function(u){return u.limit!==null}(t)&&a.length>1&&n===2?1:n)}Nn(e,t){const n=new Gc;for(const a of hl(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const u=n.Tn(a.kind);pl.Wt.vt(o,u)}return n.cn()}Mn(e){const t=new Gc;return pl.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const n=new Gc;return pl.Wt.vt(vv(this.databaseId,t),n.Tn(function(o){const u=hl(o);return u.length===0?0:u[u.length-1].kind}(e))),n.cn()}Cn(e,t,n){if(n===null)return[];let a=[];a.push(new Gc);let o=0;for(const u of hl(e)){const h=n[o++];for(const m of a)if(this.Ln(t,u.fieldPath)&&Fh(h))a=this.kn(a,u,h);else{const g=m.Tn(u.kind);pl.Wt.vt(h,g)}}return this.qn(a)}vn(e,t,n){return this.Cn(e,t,n.position)}qn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].cn();return t}kn(e,t,n){const a=[...e],o=[];for(const u of n.arrayValue.values||[])for(const h of a){const m=new Gc;m.seed(h.cn()),pl.Wt.vt(u,m.Tn(t.kind)),o.push(m)}return o}Ln(e,t){return!!e.filters.find(n=>n instanceof Rt&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,t){const n=$c(e),a=vu(e);return(t?n.J(_y,IDBKeyRange.bound(t,t)):n.J()).next(o=>{const u=[];return ae.forEach(o,h=>a.get([h.indexId,this.uid]).next(m=>{u.push(function(E,S){const I=S?new Vh(S.sequenceNumber,new ci(Ol(S.readTime),new ze(As(S.documentKey)),S.largestBatchId)):Vh.empty(),P=E.fields.map(([N,Z])=>new Nd(Tn.fromServerFormat(N),Z));return new Wd(E.indexId,E.collectionGroup,P,I)}(h,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((n,a)=>{const o=n.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:at(n.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,n){const a=$c(e),o=vu(e);return this.Qn(e).next(u=>a.J(_y,IDBKeyRange.bound(t,t)).next(h=>ae.forEach(h,m=>o.put(dw(m.indexId,this.uid,u,n)))))}updateIndexEntries(e,t){const n=new Map;return ae.forEach(t,(a,o)=>{const u=n.get(a.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(e,a.collectionGroup)).next(h=>(n.set(a.collectionGroup,h),ae.forEach(h,m=>this.$n(e,a,m).next(g=>{const E=this.Un(o,m);return g.isEqual(E)?ae.resolve():this.Kn(e,o,m,g,E)}))))})}Wn(e,t,n,a){return yu(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.Bn(n,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,n,a){return yu(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.Bn(n,t.key),t.key.path.toArray()])}$n(e,t,n){const a=yu(e);let o=new Bt(oo);return a.te({index:f1,range:IDBKeyRange.only([n.indexId,this.uid,this.Bn(n,t)])},(u,h)=>{o=o.add(new gl(n.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Un(e,t){let n=new Bt(oo);const a=this.Nn(t,e);if(a==null)return n;const o=yy(t);if(o!=null){const u=e.data.field(o.fieldPath);if(Fh(u))for(const h of u.arrayValue.values||[])n=n.add(new gl(t.indexId,e.key,this.Mn(h),a))}else n=n.add(new gl(t.indexId,e.key,wd,a));return n}Kn(e,t,n,a,o){xe(bw,"Updating index entries for document '%s'",t.key);const u=[];return function(m,g,E,S,I){const P=m.getIterator(),N=g.getIterator();let Z=pu(P),ne=pu(N);for(;Z||ne;){let ge=!1,_e=!1;if(Z&&ne){const re=E(Z,ne);re<0?_e=!0:re>0&&(ge=!0)}else Z!=null?_e=!0:ge=!0;ge?(S(ne),ne=pu(N)):_e?(I(Z),Z=pu(P)):(Z=pu(P),ne=pu(N))}}(a,o,oo,h=>{u.push(this.Wn(e,t,n,h))},h=>{u.push(this.Gn(e,t,n,h))}),ae.waitFor(u)}Qn(e){let t=1;return vu(e).te({index:h1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,a,o)=>{o.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((u,h)=>oo(u,h)).filter((u,h,m)=>!h||oo(u,m[h-1])!==0);const a=[];a.push(e);for(const u of n){const h=oo(u,e),m=oo(u,t);if(h===0)a[0]=e.In();else if(h>0&&m<0)a.push(u),a.push(u.In());else if(m>0)break}a.push(t);const o=[];for(let u=0;u<a.length;u+=2){if(this.zn(a[u],a[u+1]))return[];const h=[a[u].indexId,this.uid,a[u].arrayValue,a[u].directionalValue,wd,[]],m=[a[u+1].indexId,this.uid,a[u+1].arrayValue,a[u+1].directionalValue,wd,[]];o.push(IDBKeyRange.bound(h,m))}return o}zn(e,t){return oo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ww)}getMinOffset(e,t){return ae.mapArray(this.Sn(t),n=>this.Dn(e,n).next(a=>a||Ge(44426))).next(ww)}}function Ew(i){return Ln(i,Uh)}function yu(i){return Ln(i,nm)}function $c(i){return Ln(i,mv)}function vu(i){return Ln(i,tm)}function ww(i){Xe(i.length!==0,28825);let e=i[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<i.length;n++){const a=i[n].indexState.offset;hv(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new ci(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(i,e,t){const n=i.store(es),a=i.store(Mu),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const m=n.te({range:u},(E,S,I)=>(h++,I.delete()));o.push(m.next(()=>{Xe(h===1,47070,{batchId:t.batchId})}));const g=[];for(const E of t.mutations){const S=l1(e,E.key.path,t.batchId);o.push(a.delete(S)),g.push(E.key)}return ae.waitFor(o).next(()=>g)}function fm(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Ge(14731);e=i.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(hA,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);class qm{constructor(e,t,n,a){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=a,this.jn={}}static bt(e,t,n,a){Xe(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new qm(o,t,n,a)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lo(e).te({index:vl,range:n},(a,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,n,a){const o=Ru(e),u=lo(e);return u.add({}).next(h=>{Xe(typeof h=="number",49019);const m=new wv(h,t,n,a),g=function(P,N,Z){const ne=Z.baseMutations.map(_e=>um(P.wt,_e)),ge=Z.mutations.map(_e=>um(P.wt,_e));return{userId:N,batchId:Z.batchId,localWriteTimeMs:Z.localWriteTime.toMillis(),baseMutations:ne,mutations:ge}}(this.serializer,this.userId,m),E=[];let S=new Bt((I,P)=>at(I.canonicalString(),P.canonicalString()));for(const I of a){const P=l1(this.userId,I.key.path,h);S=S.add(I.key.path.popLast()),E.push(u.put(g)),E.push(o.put(P,uO))}return S.forEach(I=>{E.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.jn[h]=m.keys()}),ae.waitFor(E).next(()=>m)})}lookupMutationBatch(e,t){return lo(e).get(t).next(n=>n?(Xe(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:t}),ml(this.serializer,n)):null)}Hn(e,t){return this.jn[t]?ae.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next(n=>{if(n){const a=n.keys();return this.jn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return lo(e).te({index:vl,range:a},(u,h,m)=>{h.userId===this.userId&&(Xe(h.batchId>=n,47524,{Jn:n}),o=ml(this.serializer,h)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=bl;return lo(e).te({index:vl,range:t,reverse:!0},(a,o,u)=>{n=o.batchId,u.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,bl],[this.userId,Number.POSITIVE_INFINITY]);return lo(e).J(vl,t).next(n=>n.map(a=>ml(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Pd(this.userId,t.path),a=IDBKeyRange.lowerBound(n),o=[];return Ru(e).te({range:a},(u,h,m)=>{const[g,E,S]=u,I=As(E);if(g===this.userId&&t.path.isEqual(I))return lo(e).get(S).next(P=>{if(!P)throw Ge(61480,{Yn:u,batchId:S});Xe(P.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:P.userId,batchId:S}),o.push(ml(this.serializer,P))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bt(at);const a=[];return t.forEach(o=>{const u=Pd(this.userId,o.path),h=IDBKeyRange.lowerBound(u),m=Ru(e).te({range:h},(g,E,S)=>{const[I,P,N]=g,Z=As(P);I===this.userId&&o.path.isEqual(Z)?n=n.add(N):S.done()});a.push(m)}),ae.waitFor(a).next(()=>this.Zn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1,o=Pd(this.userId,n),u=IDBKeyRange.lowerBound(o);let h=new Bt(at);return Ru(e).te({range:u},(m,g,E)=>{const[S,I,P]=m,N=As(I);S===this.userId&&n.isPrefixOf(N)?N.length===a&&(h=h.add(P)):E.done()}).next(()=>this.Zn(e,h))}Zn(e,t){const n=[],a=[];return t.forEach(o=>{a.push(lo(e).get(o).next(u=>{if(u===null)throw Ge(35274,{batchId:o});Xe(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),n.push(ml(this.serializer,u))}))}),ae.waitFor(a).next(()=>n)}removeMutationBatch(e,t){return fA(e.he,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Xn(t.batchId)}),ae.forEach(n,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const n=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),a=[];return Ru(e).te({range:n},(o,u,h)=>{if(o[0]===this.userId){const m=As(o[1]);a.push(m)}else h.done()}).next(()=>{Xe(a.length===0,56720,{er:a.map(o=>o.canonicalString())})})})}containsKey(e,t){return dA(e,this.userId,t)}tr(e){return mA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:bl,lastStreamToken:""})}}function dA(i,e,t){const n=Pd(e,t.path),a=n[1],o=IDBKeyRange.lowerBound(n);let u=!1;return Ru(i).te({range:o,ee:!0},(h,m,g)=>{const[E,S,I]=h;E===e&&S===a&&(u=!0),g.done()}).next(()=>u)}function lo(i){return Ln(i,es)}function Ru(i){return Ln(i,Mu)}function mA(i){return Ln(i,Lh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Dl(0)}static ir(){return new Dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next(t=>{const n=new Dl(t.highestTargetId);return t.highestTargetId=n.next(),this._r(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.sr(e).next(t=>Ze.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.sr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.sr(e).next(a=>(a.highestListenSequenceNumber=t,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this._r(e,a)))}addTargetData(e,t){return this.ar(e,t).next(()=>this.sr(e).next(n=>(n.targetCount+=1,this.ur(t,n),this._r(e,n))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_u(e).delete(t.targetId)).next(()=>this.sr(e)).next(n=>(Xe(n.targetCount>0,8065),n.targetCount-=1,this._r(e,n)))}removeTargets(e,t,n){let a=0;const o=[];return _u(e).te((u,h)=>{const m=Eh(h);m.sequenceNumber<=t&&n.get(m.targetId)===null&&(a++,o.push(this.removeTargetData(e,m)))}).next(()=>ae.waitFor(o)).next(()=>a)}forEachTarget(e,t){return _u(e).te((n,a)=>{const o=Eh(a);t(o)})}sr(e){return Sw(e).get(em).next(t=>(Xe(t!==null,2888),t))}_r(e,t){return Sw(e).put(em,t)}ar(e,t){return _u(e).put(oA(this.serializer,t))}ur(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.sr(e).next(t=>t.targetCount)}getTargetData(e,t){const n=kl(t),a=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return _u(e).te({range:a,index:c1},(u,h,m)=>{const g=Eh(h);of(t,g.target)&&(o=g,m.done())}).next(()=>o)}addMatchingKeys(e,t,n){const a=[],o=mo(e);return t.forEach(u=>{const h=pr(u.path);a.push(o.put({targetId:n,path:h})),a.push(this.referenceDelegate.addReference(e,n,u))}),ae.waitFor(a)}removeMatchingKeys(e,t,n){const a=mo(e);return ae.forEach(t,o=>{const u=pr(o.path);return ae.waitFor([a.delete([n,u]),this.referenceDelegate.removeReference(e,n,o)])})}removeMatchingKeysForTargetId(e,t){const n=mo(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(a)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),a=mo(e);let o=wt();return a.te({range:n,ee:!0},(u,h,m)=>{const g=As(u[1]),E=new ze(g);o=o.add(E)}).next(()=>o)}containsKey(e,t){const n=pr(t.path),a=IDBKeyRange.bound([n],[n1(n)],!1,!0);let o=0;return mo(e).te({index:dv,ee:!0,range:a},([u,h],m,g)=>{u!==0&&(o++,g.done())}).next(()=>o>0)}Rt(e,t){return _u(e).get(t).next(n=>n?Eh(n):null)}}function _u(i){return Ln(i,Lu)}function Sw(i){return Ln(i,El)}function mo(i){return Ln(i,ju)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="LruGarbageCollector",pA=1048576;function Rw([i,e],[t,n]){const a=at(i,t);return a===0?at(e,n):a}class jD{constructor(e){this.cr=e,this.buffer=new Bt(Rw),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Rw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gA{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){xe(Aw,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xo(t)?xe(Aw,"Ignoring IndexedDB error during garbage collection: ",t):await Io(t)}await this.Ir(3e5)})}}class UD{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(Br.le);const n=new jD(t);return this.Er.forEachTarget(e,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Tw)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tw):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,a,o,u,h,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,u=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(n=S,h=Date.now(),this.removeTargets(e,n,t))).next(S=>(o=S,m=Date.now(),this.removeOrphanedDocuments(e,n))).next(S=>(g=Date.now(),wu()<=At.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(m-h)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:S})))}}function yA(i,e){return new UD(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t){this.db=e,this.garbageCollector=yA(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}Vr(e){let t=0;return this.Ar(e,n=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,(n,a)=>t(a))}addReference(e,t,n){return Td(e,n)}removeReference(e,t,n){return Td(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Td(e,t)}gr(e,t){return function(a,o){let u=!1;return mA(a).ne(h=>dA(a,h,o).next(m=>(m&&(u=!0),ae.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.mr(e,(u,h)=>{if(h<=t){const m=this.gr(e,u).next(g=>{if(!g)return o++,n.getEntry(e,u).next(()=>(n.removeEntry(u,Ze.min()),mo(e).delete(function(S){return[0,pr(S.path)]}(u))))});a.push(m)}}).next(()=>ae.waitFor(a)).next(()=>n.apply(e)).next(()=>o)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Td(e,t)}mr(e,t){const n=mo(e);let a,o=Br.le;return n.te({index:dv},([u,h],{path:m,sequenceNumber:g})=>{u===0?(o!==Br.le&&t(new ze(As(a)),o),o=g,a=m):o=Br.le}).next(()=>{o!==Br.le&&t(new ze(As(a)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Td(i,e){return mo(i).put(function(n,a){return{targetId:0,path:pr(n.path),sequenceNumber:a}}(e,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.changes=new va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ae.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return tl(e).put(n)}removeEntry(e,t,n){return tl(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],cm(u),h[h.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.pr(e,n)))}getEntry(e,t){let n=pn.newInvalidDocument(t);return tl(e).te({index:Vd,range:IDBKeyRange.only(Qc(t))},(a,o)=>{n=this.yr(t,o)}).next(()=>n)}wr(e,t){let n={size:0,document:pn.newInvalidDocument(t)};return tl(e).te({index:Vd,range:IDBKeyRange.only(Qc(t))},(a,o)=>{n={document:this.yr(t,o),size:fm(o)}}).next(()=>n)}getEntries(e,t){let n=Pi();return this.br(e,t,(a,o)=>{const u=this.yr(a,o);n=n.insert(a,u)}).next(()=>n)}Sr(e,t){let n=Pi(),a=new en(ze.comparator);return this.br(e,t,(o,u)=>{const h=this.yr(o,u);n=n.insert(o,h),a=a.insert(o,fm(u))}).next(()=>({documents:n,Dr:a}))}br(e,t,n){if(t.isEmpty())return ae.resolve();let a=new Bt(kw);t.forEach(m=>a=a.add(m));const o=IDBKeyRange.bound(Qc(a.first()),Qc(a.last())),u=a.getIterator();let h=u.getNext();return tl(e).te({index:Vd,range:o},(m,g,E)=>{const S=ze.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&kw(h,S)<0;)n(h,null),h=u.getNext();h&&h.isEqual(S)&&(n(h,g),h=u.hasNext()?u.getNext():null),h?E.H(Qc(h)):E.done()}).next(()=>{for(;h;)n(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,n,a,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),cm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tl(e).J(IDBKeyRange.bound(h,m,!0)).next(g=>{o==null||o.incrementDocumentReadCount(g.length);let E=Pi();for(const S of g){const I=this.yr(ze.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);I.isFoundDocument()&&(lf(t,I)||a.has(I.key))&&(E=E.insert(I.key,I))}return E})}getAllFromCollectionGroup(e,t,n,a){let o=Pi();const u=xw(t,n),h=xw(t,ci.max());return tl(e).te({index:u1,range:IDBKeyRange.bound(u,h,!0)},(m,g,E)=>{const S=this.yr(ze.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);o=o.insert(S.key,S),o.size===a&&E.done()}).next(()=>o)}newChangeBuffer(e){return new qD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Iw(e).get(vy).next(t=>(Xe(!!t,20021),t))}pr(e,t){return Iw(e).put(vy,t)}yr(e,t){if(t){const n=ID(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(Ze.min())))return n}return pn.newInvalidDocument(e)}}function _A(i){return new BD(i)}class qD extends vA{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new va(n=>n.toString(),(n,a)=>n.isEqual(a))}applyChanges(e){const t=[];let n=0,a=new Bt((o,u)=>at(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Cr.get(o);if(t.push(this.vr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const m=hw(this.vr.serializer,u);a=a.add(o.path.popLast());const g=fm(m);n+=g-h.size,t.push(this.vr.addEntry(e,o,m))}else if(n-=h.size,this.trackRemovals){const m=hw(this.vr.serializer,u.convertToNoDocument(Ze.min()));t.push(this.vr.addEntry(e,o,m))}}),a.forEach(o=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.vr.updateMetadata(e,n)),ae.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next(n=>(this.Cr.set(t,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,t){return this.vr.Sr(e,t).next(({documents:n,Dr:a})=>(a.forEach((o,u)=>{this.Cr.set(o,{size:u,readTime:n.get(o).readTime})}),n))}}function Iw(i){return Ln(i,jh)}function tl(i){return Ln(i,Zd)}function Qc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xw(i,e){const t=e.documentKey.path.toArray();return[i,cm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kw(i,e){const t=i.path.toArray(),n=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<n.length-2;++o)if(a=at(t[o],n[o]),a)return a;return a=at(t.length,n.length),a||(a=at(t[t.length-2],n[n.length-2]),a||at(t[t.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&kh(n.mutation,a,la.empty(),Qn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,wt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=wt()){const a=Rs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(o=>{let u=_h();return o.forEach((h,m)=>{u=u.insert(h,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=Rs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,wt()))}populateOverlays(e,t,n){const a=[];return n.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,n,a){let o=Pi();const u=xh(),h=function(){return xh()}();return t.forEach((m,g)=>{const E=n.get(g.key);a.has(g.key)&&(E===void 0||E.mutation instanceof Zu)?o=o.insert(g.key,g):E!==void 0?(u.set(g.key,E.mutation.getFieldMask()),kh(E.mutation,g,E.mutation.getFieldMask(),Qn.now())):u.set(g.key,la.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((g,E)=>u.set(g,E)),t.forEach((g,E)=>{var S;return h.set(g,new FD(E,(S=u.get(g))!==null&&S!==void 0?S:null))}),h))}recalculateAndSaveOverlays(e,t){const n=xh();let a=new en((u,h)=>u-h),o=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let E=n.get(m)||la.empty();E=h.applyToLocalView(g,E),n.set(m,E);const S=(a.get(h.batchId)||wt()).add(m);a=a.insert(h.batchId,S)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,E=m.value,S=U1();E.forEach(I=>{if(!o.has(I)){const P=F1(t.get(I),n.get(I));P!==null&&S.set(I,P),o=o.add(I)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ae.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(u){return ze.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-o.size):ae.resolve(Rs());let h=Vu,m=o;return u.next(g=>ae.forEach(g,(E,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{m=m.insert(E,I)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,m,g,wt())).next(E=>({batchId:h,changes:XO(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(n=>{let a=_h();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const o=t.collectionGroup;let u=_h();return this.indexManager.getCollectionParents(e,o).next(h=>ae.forEach(h,m=>{const g=function(S,I){return new Mm(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,n,a).next(E=>{E.forEach((S,I)=>{u=u.insert(S,I)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,a))).next(u=>{o.forEach((m,g)=>{const E=g.getKey();u.get(E)===null&&(u=u.insert(E,pn.newInvalidDocument(E)))});let h=_h();return u.forEach((m,g)=>{const E=o.get(m);E!==void 0&&kh(E.mutation,g,la.empty(),Qn.now()),lf(t,g)&&(h=h.insert(m,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Rr(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:lA(a.bundledQuery),readTime:Rr(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.overlays=new en(ze.comparator),this.Or=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Rs();return ae.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&n.set(a,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,o)=>{this.St(e,t,o)}),ae.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(n)),ae.resolve()}getOverlaysForCollection(e,t,n){const a=Rs(),o=t.length+1,u=new ze(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&m.largestBatchId>n&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let o=new en((g,E)=>g-E);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let E=o.get(g.largestBatchId);E===null&&(E=Rs(),o=o.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const h=Rs(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>h.set(g,E)),!(h.size()>=a)););return ae.resolve(h)}St(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new Sv(t,n));let o=this.Or.get(t);o===void 0&&(o=wt(),this.Or.set(t,o)),this.Or.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.Nr=new Bt($n.Br),this.Lr=new Bt($n.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new $n(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Qr(new $n(e,t))}$r(e,t){e.forEach(n=>this.removeReference(n,t))}Ur(e){const t=new ze(new Xt([])),n=new $n(t,e),a=new $n(t,e+1),o=[];return this.Lr.forEachInRange([n,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ze(new Xt([])),n=new $n(t,e),a=new $n(t,e+1);let o=wt();return this.Lr.forEachInRange([n,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new $n(e,0),n=this.Nr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class $n{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ze.comparator(e.key,t.key)||at(e.Gr,t.Gr)}static kr(e,t){return at(e.Gr,t.Gr)||ze.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Bt($n.Br)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new wv(o,t,n,a);this.mutationQueue.push(u);for(const h of a)this.zr=this.zr.add(new $n(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.Hr(n),o=a<0?0:a;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?bl:this.Jn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $n(t,0),a=new $n(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([n,a],u=>{const h=this.jr(u.Gr);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bt(at);return t.forEach(a=>{const o=new $n(a,0),u=new $n(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{n=n.add(h.Gr)})}),ae.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let o=n;ze.isDocumentKey(o)||(o=o.child(""));const u=new $n(new ze(o),0);let h=new Bt(at);return this.zr.forEachWhile(m=>{const g=m.key.path;return!!n.isPrefixOf(g)&&(g.length===a&&(h=h.add(m.Gr)),!0)},u),ae.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(n=>{const a=this.jr(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Xe(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return ae.forEach(t.mutations,a=>{const o=new $n(a.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,t){const n=new $n(t,0),a=this.zr.firstAfterOrEqual(n);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.Zr=e,this.docs=function(){return new en(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),o=a?a.size:0,u=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ae.resolve(n?n.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let n=Pi();return t.forEach(a=>{const o=this.docs.get(a);n=n.insert(a,o?o.document.mutableCopy():pn.newInvalidDocument(a))}),ae.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let o=Pi();const u=t.path,h=new ze(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||hv(i1(E),n)<=0||(a.has(E.key)||lf(t,E))&&(o=o.insert(E.key,E.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,t,n,a){Ge(9500)}Xr(e,t){return ae.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new YD(this)}getSize(e){return ae.resolve(this.size)}}class YD extends vA{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(n)}),ae.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.persistence=e,this.ei=new va(t=>kl(t),of),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.ti=0,this.ni=new xv,this.targetCount=0,this.ri=Dl.rr()}forEachTarget(e,t){return this.ei.forEach((n,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),ae.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Dl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.ar(t),ae.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,n){let a=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ae.waitFor(o).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return ae.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),ae.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return ae.resolve(n)}containsKey(e,t){return ae.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,t){this.ii={},this.overlays={},this.si=new Br(0),this.oi=!1,this.oi=!0,this._i=new GD,this.referenceDelegate=e(this),this.ai=new XD(this),this.indexManager=new VD,this.remoteDocumentCache=function(a){return new QD(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new aA(t),this.ci=new KD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new $D(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){xe("MemoryPersistence","Starting transaction:",e);const a=new WD(this.si.next());return this.referenceDelegate.li(),n(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return ae.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,t)))}}class WD extends a1{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ti=new xv,this.Ii=null}static Ei(e){return new Fm(e)}get di(){if(this.Ii)return this.Ii;throw Ge(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),ae.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,n=>{const a=ze.fromPath(n);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Ze.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(n=>{n?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ae.or([()=>ae.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class dm{constructor(e,t){this.persistence=e,this.Ri=new va(n=>pr(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=yA(this,t)}static Ei(e,t){return new dm(e,t)}li(){}hi(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}Vr(e){let t=0;return this.Ar(e,n=>{t++}).next(()=>t)}Ar(e,t){return ae.forEach(this.Ri,(n,a)=>this.gr(e,n,a).next(o=>o?ae.resolve():t(a)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(n++,o.removeEntry(u,Ze.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ld(e.data.value)),t}gr(e,t,n){return ae.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return ae.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.serializer=e}q(e,t,n,a){const o=new km("createOrUpgrade",t);n<1&&a>=1&&(function(m){m.createObjectStore(sf)}(e),function(m){m.createObjectStore(Lh,{keyPath:lO}),m.createObjectStore(es,{keyPath:BE,autoIncrement:!0}).createIndex(vl,qE,{unique:!0}),m.createObjectStore(Mu)}(e),Cw(e),function(m){m.createObjectStore(fl)}(e));let u=ae.resolve();return n<3&&a>=3&&(n!==0&&(function(m){m.deleteObjectStore(ju),m.deleteObjectStore(Lu),m.deleteObjectStore(El)}(e),Cw(e)),u=u.next(()=>function(m){const g=m.store(El),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ze.min().toTimestamp(),targetCount:0};return g.put(em,E)}(o))),n<4&&a>=4&&(n!==0&&(u=u.next(()=>function(m,g){return g.store(es).J().next(S=>{m.deleteObjectStore(es),m.createObjectStore(es,{keyPath:BE,autoIncrement:!0}).createIndex(vl,qE,{unique:!0});const I=g.store(es),P=S.map(N=>I.put(N));return ae.waitFor(P)})}(e,o))),u=u.next(()=>{(function(m){m.createObjectStore(Uu,{keyPath:yO})})(e)})),n<5&&a>=5&&(u=u.next(()=>this.Vi(o))),n<6&&a>=6&&(u=u.next(()=>(function(m){m.createObjectStore(jh)}(e),this.mi(o)))),n<7&&a>=7&&(u=u.next(()=>this.fi(o))),n<8&&a>=8&&(u=u.next(()=>this.gi(e,o))),n<9&&a>=9&&(u=u.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&a>=10&&(u=u.next(()=>this.pi(o))),n<11&&a>=11&&(u=u.next(()=>{(function(m){m.createObjectStore(Om,{keyPath:vO})})(e),function(m){m.createObjectStore(Dm,{keyPath:_O})}(e)})),n<12&&a>=12&&(u=u.next(()=>{(function(m){const g=m.createObjectStore(Nm,{keyPath:RO});g.createIndex(by,IO,{unique:!1}),g.createIndex(d1,xO,{unique:!1})})(e)})),n<13&&a>=13&&(u=u.next(()=>function(m){const g=m.createObjectStore(Zd,{keyPath:cO});g.createIndex(Vd,hO),g.createIndex(u1,fO)}(e)).next(()=>this.yi(e,o)).next(()=>e.deleteObjectStore(fl))),n<14&&a>=14&&(u=u.next(()=>this.wi(e,o))),n<15&&a>=15&&(u=u.next(()=>function(m){m.createObjectStore(mv,{keyPath:bO,autoIncrement:!0}).createIndex(_y,EO,{unique:!1}),m.createObjectStore(tm,{keyPath:wO}).createIndex(h1,TO,{unique:!1}),m.createObjectStore(nm,{keyPath:SO}).createIndex(f1,AO,{unique:!1})}(e))),n<16&&a>=16&&(u=u.next(()=>{t.objectStore(tm).clear()}).next(()=>{t.objectStore(nm).clear()})),n<17&&a>=17&&(u=u.next(()=>{(function(m){m.createObjectStore(pv,{keyPath:kO})})(e)})),u}mi(e){let t=0;return e.store(fl).te((n,a)=>{t+=fm(a)}).next(()=>{const n={byteSize:t};return e.store(jh).put(vy,n)})}Vi(e){const t=e.store(Lh),n=e.store(es);return t.J().next(a=>ae.forEach(a,o=>{const u=IDBKeyRange.bound([o.userId,bl],[o.userId,o.lastAcknowledgedBatchId]);return n.J(vl,u).next(h=>ae.forEach(h,m=>{Xe(m.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const g=ml(this.serializer,m);return fA(e,o.userId,g).next(()=>{})}))}))}fi(e){const t=e.store(ju),n=e.store(fl);return e.store(El).get(em).next(a=>{const o=[];return n.te((u,h)=>{const m=new Xt(u),g=function(S){return[0,pr(S)]}(m);o.push(t.get(g).next(E=>E?ae.resolve():(S=>t.put({targetId:0,path:pr(S),sequenceNumber:a.highestListenSequenceNumber}))(m)))}).next(()=>ae.waitFor(o))})}gi(e,t){e.createObjectStore(Uh,{keyPath:gO});const n=t.store(Uh),a=new Iv,o=u=>{if(a.add(u)){const h=u.lastSegment(),m=u.popLast();return n.put({collectionId:h,parent:pr(m)})}};return t.store(fl).te({ee:!0},(u,h)=>{const m=new Xt(u);return o(m.popLast())}).next(()=>t.store(Mu).te({ee:!0},([u,h,m],g)=>{const E=As(h);return o(E.popLast())}))}pi(e){const t=e.store(Lu);return t.te((n,a)=>{const o=Eh(a),u=oA(this.serializer,o);return t.put(u)})}yi(e,t){const n=t.store(fl),a=[];return n.te((o,u)=>{const h=t.store(Zd),m=function(S){return S.document?new ze(Xt.fromString(S.document.name).popFirst(5)):S.noDocument?ze.fromSegments(S.noDocument.path):S.unknownDocument?ze.fromSegments(S.unknownDocument.path):Ge(36783)}(u).path.toArray(),g={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(g))}).next(()=>ae.waitFor(a))}wi(e,t){const n=t.store(es),a=_A(this.serializer),o=new kv(Fm.Ei,this.serializer.wt);return n.J().next(u=>{const h=new Map;return u.forEach(m=>{var g;let E=(g=h.get(m.userId))!==null&&g!==void 0?g:wt();ml(this.serializer,m).keys().forEach(S=>E=E.add(S)),h.set(m.userId,E)}),ae.forEach(h,(m,g)=>{const E=new dr(g),S=Bm.bt(this.serializer,E),I=o.getIndexManager(E),P=qm.bt(E,this.serializer,I,o.referenceDelegate);return new bA(a,P,S,I).recalculateAndSaveOverlaysForDocumentKeys(new Ey(t,Br.le),m).next()})})}}function Cw(i){i.createObjectStore(ju,{keyPath:mO}).createIndex(dv,pO,{unique:!0}),i.createObjectStore(Lu,{keyPath:"targetId"}).createIndex(c1,dO,{unique:!0}),i.createObjectStore(El)}const uo="IndexedDbPersistence",Qg=18e5,Yg=5e3,Xg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ZD="main";class Cv{constructor(e,t,n,a,o,u,h,m,g,E,S=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.bi=o,this.window=u,this.document=h,this.Si=g,this.Di=E,this.Ci=S,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=I=>Promise.resolve(),!Cv.C())throw new $e(Re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zD(this,a),this.Bi=t+ZD,this.serializer=new aA(m),this.Li=new Eo(this.Bi,this.Ci,new JD(this.serializer)),this._i=new kD,this.ai=new LD(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_A(this.serializer),this.ci=new xD,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,E===!1&&wn(uo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(Re.FAILED_PRECONDITION,Xg);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ai.getHighestSequenceNumber(e))}).then(e=>{this.si=new Br(e,this.Si)}).then(()=>{this.oi=!0}).catch(e=>(this.Li&&this.Li.close(),Promise.reject(e)))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(e).next(t=>{t||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(e)).next(t=>this.isPrimary&&!t?this.zi(e).next(()=>!1):!!t&&this.ji(e).next(()=>!0))).catch(e=>{if(xo(e))return xe(uo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xe(uo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.bi.enqueueRetryable(()=>this.Ni(e)),this.isPrimary=e})}Wi(e){return Yc(e).get(mu).next(t=>ae.resolve(this.Hi(t)))}Ji(e){return Sd(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,Qg)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=Ln(t,Uu);return n.J().next(a=>{const o=this.Xi(a,Qg),u=a.filter(h=>o.indexOf(h)===-1);return ae.forEach(u,h=>n.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?ae.resolve(!0):Yc(e).get(mu).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,Yg)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new $e(Re.FAILED_PRECONDITION,Xg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sd(e).J().next(n=>this.Xi(n,Yg).find(a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&xe(uo,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[sf,Uu],e=>{const t=new Ey(e,Br.le);return this.zi(t).next(()=>this.Ji(t))}),this.Li.close(),this._s()}Xi(e,t){return e.filter(n=>this.Zi(n.updateTimeMs,t)&&!this.ts(n.clientId))}us(){return this.runTransaction("getActiveClients","readonly",e=>Sd(e).J().next(t=>this.Xi(t,Qg).map(n=>n.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return qm.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new MD(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return Bm.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,n){xe(uo,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=function(m){return m===17?DO:m===16?OO:m===15?gv:m===14?g1:m===13?p1:m===12?CO:m===11?m1:void Ge(60245)}(this.Ci);let u;return this.Li.runTransaction(e,a,o,h=>(u=new Ey(h,this.si?this.si.next():Br.le),t==="readwrite-primary"?this.Wi(u).next(m=>!!m||this.Gi(u)).next(m=>{if(!m)throw wn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new $e(Re.FAILED_PRECONDITION,s1);return n(u)}).next(m=>this.ji(u).next(()=>m)):this.cs(u).next(()=>n(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}cs(e){return Yc(e).get(mu).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,Yg)&&!this.ts(t.ownerId)&&!this.Hi(t)&&!(this.Di||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $e(Re.FAILED_PRECONDITION,Xg)})}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yc(e).put(mu,t)}static C(){return Eo.C()}zi(e){const t=Yc(e);return t.get(mu).next(n=>this.Hi(n)?(xe(uo,"Releasing primary lease."),t.delete(mu)):ae.resolve())}Zi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(wn(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const t=/(?:Version|Mobile)\/1[456]/;cS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const n=((t=this.ki)===null||t===void 0?void 0:t.getItem(this.es(e)))!==null;return xe(uo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return wn(uo,"Failed to get zombied client id.",n),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){wn("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yc(i){return Ln(i,sf)}function Sd(i){return Ln(i,Uu)}function EA(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=a}static Ps(e,t){let n=wt(),a=wt();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Ov(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return cS()?8:o1(Mn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,a){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,a,n).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new eN;return this.fs(e,t,u).next(h=>{if(o.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>o.result)}gs(e,t,n,a){return n.documentReadCount<this.Es?(wu()<=At.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ae.resolve()):(wu()<=At.DEBUG&&xe("QueryEngine","Query:",Tu(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(wu()<=At.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):ae.resolve())}Rs(e,t){if(tw(t))return ae.resolve(null);let n=ui(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Iy(t,null,"F"),n=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const u=wt(...o);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,n).next(m=>{const g=this.ps(t,h);return this.ys(t,g,u,m.readTime)?this.Rs(e,Iy(t,null,"F")):this.ws(e,g,t,m)}))})))}Vs(e,t,n,a){return tw(t)||a.isEqual(Ze.min())?ae.resolve(null):this.As.getDocuments(e,n).next(o=>{const u=this.ps(t,o);return this.ys(t,u,n,a)?ae.resolve(null):(wu()<=At.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tu(t)),this.ws(e,u,t,r1(a,Vu)).next(h=>h))})}ps(e,t){let n=new Bt(L1(e));return t.forEach((a,o)=>{lf(e,o)&&(n=n.add(o))}),n}ys(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,n){return wu()<=At.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Tu(t)),this.As.getDocumentsMatchingQuery(e,t,ci.min(),n)}ws(e,t,n,a){return this.As.getDocumentsMatchingQuery(e,n,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="LocalStore",tN=3e8;class nN{constructor(e,t,n,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new en(at),this.Ds=new va(o=>kl(o),of),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bA(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function TA(i,e,t,n){return new nN(i,e,t,n)}async function SA(i,e){const t=Qe(i);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const u=[],h=[];let m=wt();for(const g of a){u.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of o){h.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(n,m).next(g=>({Ms:g,removedBatchIds:u,addedBatchIds:h}))})})}function rN(i,e){const t=Qe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,m,g,E){const S=g.batch,I=S.keys();let P=ae.resolve();return I.forEach(N=>{P=P.next(()=>E.getEntry(m,N)).next(Z=>{const ne=g.docVersions.get(N);Xe(ne!==null,48541),Z.version.compareTo(ne)<0&&(S.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))})}),P.next(()=>h.mutationQueue.removeMutationBatch(m,S))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(h){let m=wt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function AA(i){const e=Qe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function iN(i,e){const t=Qe(i),n=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const h=[];e.targetChanges.forEach((E,S)=>{const I=a.get(S);if(!I)return;h.push(t.ai.removeMatchingKeys(o,E.removedDocuments,S).next(()=>t.ai.addMatchingKeys(o,E.addedDocuments,S)));let P=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Sn.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,n)),a=a.insert(S,P),function(Z,ne,ge){return Z.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=tN?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0}(I,P,E)&&h.push(t.ai.updateTargetData(o,P))});let m=Pi(),g=wt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,E))}),h.push(sN(o,u,e.documentUpdates).next(E=>{m=E.xs,g=E.Os})),!n.isEqual(Ze.min())){const E=t.ai.getLastRemoteSnapshotVersion(o).next(S=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,n));h.push(E)}return ae.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,g)).next(()=>m)}).then(o=>(t.Ss=a,o))}function sN(i,e,t){let n=wt(),a=wt();return t.forEach(o=>n=n.add(o)),e.getEntries(i,n).next(o=>{let u=Pi();return t.forEach((h,m)=>{const g=o.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ze.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):xe(Dv,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)}),{xs:u,Os:a}})}function aN(i,e){const t=Qe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=bl),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function mm(i,e){const t=Qe(i);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.ai.getTargetData(n,e).next(o=>o?(a=o,ae.resolve(a)):t.ai.allocateTargetId(n).next(u=>(a=new ua(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(n.targetId,n),t.Ds.set(e,n.targetId)),n})}async function Hu(i,e,t){const n=Qe(i),a=n.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,u=>n.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!xo(u))throw u;xe(Dv,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(a.target)}function Vy(i,e,t){const n=Qe(i);let a=Ze.min(),o=wt();return n.persistence.runTransaction("Execute query","readwrite",u=>function(m,g,E){const S=Qe(m),I=S.Ds.get(E);return I!==void 0?ae.resolve(S.Ss.get(I)):S.ai.getTargetData(g,E)}(n,u,ui(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(u,h.targetId).next(m=>{o=m})}).next(()=>n.bs.getDocumentsMatchingQuery(u,e,t?a:Ze.min(),t?o:wt())).next(h=>(xA(n,M1(e),h),{documents:h,Ns:o})))}function RA(i,e){const t=Qe(i),n=Qe(t.ai),a=t.Ss.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",o=>n.Rt(o,e).next(u=>u?u.target:null))}function IA(i,e){const t=Qe(i),n=t.vs.get(e)||Ze.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Cs.getAllFromCollectionGroup(a,e,r1(n,Vu),Number.MAX_SAFE_INTEGER)).then(a=>(xA(t,e,a),a))}function xA(i,e,t){let n=i.vs.get(e)||Ze.min();t.forEach((a,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),i.vs.set(e,n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firestore_clients";function Ow(i,e){return`${kA}_${i}_${e}`}const CA="firestore_mutations";function Dw(i,e,t){let n=`${CA}_${i}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}const OA="firestore_targets";function Wg(i,e){return`${OA}_${i}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="SharedClientState";class pm{constructor(e,t,n,a){this.user=e,this.batchId=t,this.state=n,this.error=a}static qs(e,t,n){const a=JSON.parse(n);let o,u=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return u&&a.error&&(u=typeof a.error.message=="string"&&typeof a.error.code=="string",u&&(o=new $e(a.error.code,a.error.message))),u?new pm(e,t,a.state,o):(wn(Ss,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ch{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static qs(e,t){const n=JSON.parse(t);let a,o=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return o&&n.error&&(o=typeof n.error.message=="string"&&typeof n.error.code=="string",o&&(a=new $e(n.error.code,n.error.message))),o?new Ch(e,n.state,a):(wn(Ss,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const n=JSON.parse(t);let a=typeof n=="object"&&n.activeTargetIds instanceof Array,o=bv();for(let u=0;a&&u<n.activeTargetIds.length;++u)a=aO(n.activeTargetIds[u]),o=o.add(n.activeTargetIds[u]);return a?new gm(e,o):(wn(Ss,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Nv{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Nv(t.clientId,t.onlineState):(wn(Ss,`Failed to parse online state: ${e}`),null)}}class My{constructor(){this.activeTargetIds=bv()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jg{constructor(e,t,n,a,o){this.window=e,this.bi=t,this.persistenceKey=n,this.Ks=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new en(at),this.started=!1,this.js=[];const u=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Hs=Ow(this.persistenceKey,this.Ks),this.Js=function(m){return`firestore_sequence_number_${m}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new My),this.Ys=new RegExp(`^${kA}_${u}_([^_]*)$`),this.Zs=new RegExp(`^${CA}_${u}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${OA}_${u}_(\\d+)$`),this.eo=function(m){return`firestore_online_state_${m}`}(this.persistenceKey),this.no=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const n of e){if(n===this.Ks)continue;const a=this.getItem(Ow(this.persistenceKey,n));if(a){const o=gm.qs(n,a);o&&(this.zs=this.zs.insert(o.clientId,o))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const n=this.io(t);n&&this.so(n)}for(const n of this.js)this.Gs(n);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach((n,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,n){this._o(e,t,n),this.ao(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Wg(this.persistenceKey,e));if(a){const o=Ch.qs(e,a);o&&(n=o.state)}}return t&&this.uo.$s(e),this.ro(),n}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wg(this.persistenceKey,e))}updateQueryState(e,t,n){this.co(e,t,n)}handleUserChange(e,t,n){t.forEach(a=>{this.ao(a)}),this.currentUser=e,n.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return xe(Ss,"READ",e,t),t}setItem(e,t){xe(Ss,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){xe(Ss,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(xe(Ss,"EVENT",t.key,t.newValue),t.key===this.Hs)return void wn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ys.test(t.key)){if(t.newValue==null){const n=this.Po(t.key);return this.To(n,null)}{const n=this.Io(t.key,t.newValue);if(n)return this.To(n.clientId,n)}}else if(this.Zs.test(t.key)){if(t.newValue!==null){const n=this.Eo(t.key,t.newValue);if(n)return this.Ao(n)}}else if(this.Xs.test(t.key)){if(t.newValue!==null){const n=this.Ro(t.key,t.newValue);if(n)return this.Vo(n)}}else if(t.key===this.eo){if(t.newValue!==null){const n=this.io(t.newValue);if(n)return this.so(n)}}else if(t.key===this.Js){const n=function(o){let u=Br.le;if(o!=null)try{const h=JSON.parse(o);Xe(typeof h=="number",30636,{mo:o}),u=h}catch(h){wn(Ss,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);n!==Br.le&&this.sequenceNumberHandler(n)}else if(t.key===this.no){const n=this.fo(t.newValue);await Promise.all(n.map(a=>this.syncEngine.po(a)))}}}else this.js.push(t)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,n){const a=new pm(this.currentUser,e,t,n),o=Dw(this.persistenceKey,this.currentUser,e);this.setItem(o,a.Qs())}ao(e){const t=Dw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,n){const a=Wg(this.persistenceKey,e),o=new Ch(e,t,n);this.setItem(a,o.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const n=this.Po(e);return gm.qs(n,t)}Eo(e,t){const n=this.Zs.exec(e),a=Number(n[1]),o=n[2]!==void 0?n[2]:null;return pm.qs(new dr(o),a,t)}Ro(e,t){const n=this.Xs.exec(e),a=Number(n[1]);return Ch.qs(a,t)}io(e){return Nv.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);xe(Ss,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const n=t?this.zs.insert(e,t):this.zs.remove(e),a=this.oo(this.zs),o=this.oo(n),u=[],h=[];return o.forEach(m=>{a.has(m)||u.push(m)}),a.forEach(m=>{o.has(m)||h.push(m)}),this.syncEngine.bo(u,h).then(()=>{this.zs=n})}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=bv();return e.forEach((n,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class DA{constructor(){this.So=new My,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new My,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="ConnectivityMonitor";class Pw{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){xe(Nw,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){xe(Nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function Ly(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="RestConnection",lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===rm?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(e,t,n,a,o){const u=Ly(),h=this.$o(e,t.toUriEncodedString());xe(Zg,`Sending RPC '${e}' ${u}:`,h,n);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(m,a,o);const{host:g}=new URL(h),E=Jh(g);return this.Ko(e,h,m,n,E).then(S=>(xe(Zg,`Received RPC '${e}' ${u}: `,S),S),S=>{throw Ph(Zg,`RPC '${e}' ${u} failed with error: `,S,"url: ",h,"request:",n),S})}Wo(e,t,n,a,o,u){return this.Qo(e,t,n,a,o)}Uo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ju}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),n&&n.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const n=lN[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class hN extends uN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,a,o){const u=Ly();return new Promise((h,m)=>{const g=new QS;g.setWithCredentials(!0),g.listenOnce(YS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Dd.NO_ERROR:const S=g.getResponseJson();xe(fr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),h(S);break;case Dd.TIMEOUT:xe(fr,`RPC '${e}' ${u} timed out`),m(new $e(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const I=g.getStatus();if(xe(fr,`RPC '${e}' ${u} failed with status:`,I,"response text:",g.getResponseText()),I>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const N=P==null?void 0:P.error;if(N&&N.status&&N.message){const Z=function(ge){const _e=ge.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(_e)>=0?_e:Re.UNKNOWN}(N.status);m(new $e(Z,N.message))}else m(new $e(Re.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new $e(Re.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{s_:e,streamId:u,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{xe(fr,`RPC '${e}' ${u} completed.`)}});const E=JSON.stringify(a);xe(fr,`RPC '${e}' ${u} sending request:`,a),g.send(t,"POST",E,n,15)})}a_(e,t,n){const a=Ly(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=JS(),h=WS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,t,n),m.encodeInitMessageHeaders=!0;const E=o.join("");xe(fr,`Creating RPC '${e}' stream ${a}: ${E}`,m);const S=u.createWebChannel(E,m);let I=!1,P=!1;const N=new cN({Go:ne=>{P?xe(fr,`Not sending because RPC '${e}' stream ${a} is closed:`,ne):(I||(xe(fr,`Opening RPC '${e}' stream ${a} transport.`),S.open(),I=!0),xe(fr,`RPC '${e}' stream ${a} sending:`,ne),S.send(ne))},zo:()=>S.close()}),Z=(ne,ge,_e)=>{ne.listen(ge,re=>{try{_e(re)}catch(ve){setTimeout(()=>{throw ve},0)}})};return Z(S,vh.EventType.OPEN,()=>{P||(xe(fr,`RPC '${e}' stream ${a} transport opened.`),N.t_())}),Z(S,vh.EventType.CLOSE,()=>{P||(P=!0,xe(fr,`RPC '${e}' stream ${a} transport closed`),N.r_())}),Z(S,vh.EventType.ERROR,ne=>{P||(P=!0,Ph(fr,`RPC '${e}' stream ${a} transport errored. Name:`,ne.name,"Message:",ne.message),N.r_(new $e(Re.UNAVAILABLE,"The operation could not be completed")))}),Z(S,vh.EventType.MESSAGE,ne=>{var ge;if(!P){const _e=ne.data[0];Xe(!!_e,16349);const re=_e,ve=(re==null?void 0:re.error)||((ge=re[0])===null||ge===void 0?void 0:ge.error);if(ve){xe(fr,`RPC '${e}' stream ${a} received error:`,ve);const Ae=ve.status;let De=function(V){const z=On[V];if(z!==void 0)return G1(z)}(Ae),M=ve.message;De===void 0&&(De=Re.INTERNAL,M="Unknown error status: "+Ae+" with message "+ve.message),P=!0,N.r_(new $e(De,M)),S.close()}else xe(fr,`RPC '${e}' stream ${a} received:`,_e),N.i_(_e)}}),Z(h,XS.STAT_EVENT,ne=>{ne.stat===py.PROXY?xe(fr,`RPC '${e}' stream ${a} detected buffering proxy`):ne.stat===py.NOPROXY&&xe(fr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.n_()},0),N}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof window<"u"?window:null}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(i){return new gD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,n=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=n,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-n);a>0&&xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="PersistentStream";class MA{constructor(e,t,n,a,o,u,h,m){this.bi=e,this.R_=n,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new VA(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===Re.RESOURCE_EXHAUSTED?(wn(t.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===t&&this.B_(n,a)},n=>{e(()=>{const a=new $e(Re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return xe(Vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(xe(Vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fN extends MA{constructor(e,t,n,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=bD(this.serializer,e),n=function(o){if(!("targetChange"in o))return Ze.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ze.min():u.readTime?Rr(u.readTime):Ze.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=Cy(this.serializer),t.addTarget=function(o,u){let h;const m=u.target;if(h=sm(m)?{documents:eA(o,m)}:{query:tA(o,m).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=yD(o,u.resumeToken);const g=xy(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ze.min())>0){h.readTime=om(o,u.snapshotVersion.toTimestamp());const g=xy(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const n=wD(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=Cy(this.serializer),t.removeTarget=e,this.F_(t)}}class dN extends MA{constructor(e,t,n,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=ED(e.writeResults,e.commitTime),n=Rr(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=Cy(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>um(this.serializer,n))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{}class pN extends mN{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new $e(Re.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,ky(t,n),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(Re.UNKNOWN,o.toString())})}Wo(e,t,n,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,ky(t,n),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $e(Re.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class gN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(wn(t),this.ea=!1):xe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="RemoteStore";class yN{constructor(e,t,n,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{n.enqueueAndForget(async()=>{Pl(this)&&(xe(Nl,"Restarting streams for network reachability change."),await async function(m){const g=Qe(m);g.aa.add(4),await ff(g),g.la.set("Unknown"),g.aa.delete(4),await Km(g)}(this))})}),this.la=new gN(n,a)}}async function Km(i){if(Pl(i))for(const e of i.ua)await e(!0)}async function ff(i){for(const e of i.ua)await e(!1)}function Hm(i,e){const t=Qe(i);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Mv(t)?Vv(t):ec(t).b_()&&Pv(t,e))}function Gu(i,e){const t=Qe(i),n=ec(t);t._a.delete(e),n.b_()&&LA(t,e),t._a.size===0&&(n.b_()?n.v_():Pl(t)&&t.la.set("Unknown"))}function Pv(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ec(i).U_(e)}function LA(i,e){i.ha.Ke(e),ec(i).K_(e)}function Vv(i){i.ha=new fD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),ec(i).start(),i.la.ta()}function Mv(i){return Pl(i)&&!ec(i).w_()&&i._a.size>0}function Pl(i){return Qe(i).aa.size===0}function jA(i){i.ha=void 0}async function vN(i){i.la.set("Online")}async function _N(i){i._a.forEach((e,t)=>{Pv(i,e)})}async function bN(i,e){jA(i),Mv(i)?(i.la.ia(e),Vv(i)):i.la.set("Unknown")}async function EN(i,e,t){if(i.la.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a._a.delete(h),a.ha.removeTarget(h))}(i,e)}catch(n){xe(Nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ym(i,n)}else if(e instanceof Ud?i.ha.Xe(e):e instanceof $1?i.ha.ot(e):i.ha.nt(e),!t.isEqual(Ze.min()))try{const n=await AA(i.localStore);t.compareTo(n)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=o._a.get(g);E&&o._a.set(g,E.withResumeToken(m.resumeToken,u))}}),h.targetMismatches.forEach((m,g)=>{const E=o._a.get(m);if(!E)return;o._a.set(m,E.withResumeToken(Sn.EMPTY_BYTE_STRING,E.snapshotVersion)),LA(o,m);const S=new ua(E.target,m,g,E.sequenceNumber);Pv(o,S)}),o.remoteSyncer.applyRemoteEvent(h)}(i,t)}catch(n){xe(Nl,"Failed to raise snapshot:",n),await ym(i,n)}}async function ym(i,e,t){if(!xo(e))throw e;i.aa.add(1),await ff(i),i.la.set("Offline"),t||(t=()=>AA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{xe(Nl,"Retrying IndexedDB access"),await t(),i.aa.delete(1),await Km(i)})}function UA(i,e){return e().catch(t=>ym(i,t,e))}async function df(i){const e=Qe(i),t=So(e);let n=e.oa.length>0?e.oa[e.oa.length-1].batchId:bl;for(;wN(e);)try{const a=await aN(e.localStore,n);if(a===null){e.oa.length===0&&t.v_();break}n=a.batchId,TN(e,a)}catch(a){await ym(e,a)}zA(e)&&BA(e)}function wN(i){return Pl(i)&&i.oa.length<10}function TN(i,e){i.oa.push(e);const t=So(i);t.b_()&&t.W_&&t.G_(e.mutations)}function zA(i){return Pl(i)&&!So(i).w_()&&i.oa.length>0}function BA(i){So(i).start()}async function SN(i){So(i).H_()}async function AN(i){const e=So(i);for(const t of i.oa)e.G_(t.mutations)}async function RN(i,e,t){const n=i.oa.shift(),a=Tv.from(n,e,t);await UA(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await df(i)}async function IN(i,e){e&&So(i).W_&&await async function(n,a){if(function(u){return cD(u)&&u!==Re.ABORTED}(a.code)){const o=n.oa.shift();So(n).D_(),await UA(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a)),await df(n)}}(i,e),zA(i)&&BA(i)}async function Mw(i,e){const t=Qe(i);t.asyncQueue.verifyOperationInProgress(),xe(Nl,"RemoteStore received new credentials");const n=Pl(t);t.aa.add(3),await ff(t),n&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Km(t)}async function jy(i,e){const t=Qe(i);e?(t.aa.delete(2),await Km(t)):e||(t.aa.add(2),await ff(t),t.la.set("Unknown"))}function ec(i){return i.Pa||(i.Pa=function(t,n,a){const o=Qe(t);return o.Y_(),new fN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(i.datastore,i.asyncQueue,{jo:vN.bind(null,i),Jo:_N.bind(null,i),Zo:bN.bind(null,i),Q_:EN.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Mv(i)?Vv(i):i.la.set("Unknown")):(await i.Pa.stop(),jA(i))})),i.Pa}function So(i){return i.Ta||(i.Ta=function(t,n,a){const o=Qe(t);return o.Y_(),new dN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:SN.bind(null,i),Zo:IN.bind(null,i),z_:AN.bind(null,i),j_:RN.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await df(i)):(await i.Ta.stop(),i.oa.length>0&&(xe(Nl,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t,n,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=o,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,o){const u=Date.now()+n,h=new Lv(e,t,u,a,o);return h.start(n),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qA(i,e){if(wn("AsyncQueue",`${e}: ${i}`),xo(i))return new $e(Re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{static emptySet(e){return new Ou(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ze.comparator(t.key,n.key):(t,n)=>ze.comparator(t.key,n.key),this.keyedMap=_h(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ou;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.Ia=new en(ze.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(t):e.type===1&&n.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,n)=>{e.push(n)}),e}}class $u{constructor(e,t,n,a,o,u,h,m,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,a,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new $u(e,t,Ou.emptySet(t),u,n,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class kN{constructor(){this.queries=jw(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,n){const a=Qe(t),o=a.queries;a.queries=jw(),o.forEach((u,h)=>{for(const m of h.Ra)m.onError(n)})})(this,new $e(Re.ABORTED,"Firestore shutting down"))}}function jw(){return new va(i=>V1(i),jm)}async function CN(i,e){const t=Qe(i);let n=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(n=2):(o=new xN,n=e.ma()?0:1);try{switch(n){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=qA(u,`Initialization of query '${Tu(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&jv(t)}async function ON(i,e){const t=Qe(i),n=e.query;let a=3;const o=t.queries.get(n);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function DN(i,e){const t=Qe(i);let n=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const h of u.Ra)h.pa(a)&&(n=!0);u.Aa=a}}n&&jv(t)}function NN(i,e,t){const n=Qe(i),a=n.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);n.queries.delete(e)}function jv(i){i.fa.forEach(e=>{e.next()})}var Uy,Uw;(Uw=Uy||(Uy={})).ya="default",Uw.Cache="cache";class PN{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new $u(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const n=t!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class VN{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=wt(),this.mutatedKeys=wt(),this.Ua=L1(e),this.Ka=new Ou(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new Lw,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,S)=>{const I=a.get(E),P=lf(this.query,S)?S:null,N=!!I&&this.mutatedKeys.has(I.key),Z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let ne=!1;I&&P?I.data.isEqual(P.data)?N!==Z&&(n.track({type:3,doc:P}),ne=!0):this.ja(I,P)||(n.track({type:2,doc:P}),ne=!0,(m&&this.Ua(P,m)>0||g&&this.Ua(P,g)<0)&&(h=!0)):!I&&P?(n.track({type:0,doc:P}),ne=!0):I&&!P&&(n.track({type:1,doc:I}),ne=!0,(m||g)&&(h=!0)),ne&&(P?(u=u.add(P),o=Z?o.add(E):o.delete(E)):(u=u.delete(E),o=o.delete(E)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),o=o.delete(E.key),n.track({type:1,doc:E})}return{Ka:u,za:n,ys:h,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((E,S)=>function(P,N){const Z=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:ne})}};return Z(P)-Z(N)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(n),a=a!=null&&a;const h=t&&!a?this.Ja():[],m=this.$a.size===0&&this.current&&!a?1:0,g=m!==this.Qa;return this.Qa=m,u.length!==0||g?{snapshot:new $u(this.query,e.Ka,o,u,e.mutatedKeys,m===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Lw,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=wt(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const t=[];return e.forEach(n=>{this.$a.has(n)||t.push(new KA(n))}),this.$a.forEach(n=>{e.has(n)||t.push(new FA(n))}),t}Xa(e){this.qa=e.Ns,this.$a=wt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return $u.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const tc="SyncEngine";class MN{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class LN{constructor(e){this.key=e,this.tu=!1}}class jN{constructor(e,t,n,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new va(h=>V1(h),jm),this.iu=new Map,this.su=new Set,this.ou=new en(ze.comparator),this._u=new Map,this.au=new xv,this.uu={},this.cu=new Map,this.lu=Dl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function UN(i,e,t=!0){const n=Gm(i);let a;const o=n.ru.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await HA(n,e,t,!0),a}async function zN(i,e){const t=Gm(i);await HA(t,e,!0,!1)}async function HA(i,e,t,n){const a=await mm(i.localStore,ui(e)),o=a.targetId,u=i.sharedClientState.addLocalQueryTarget(o,t);let h;return n&&(h=await Uv(i,e,o,u==="current",a.resumeToken)),i.isPrimaryClient&&t&&Hm(i.remoteStore,a),h}async function Uv(i,e,t,n,a){i.Pu=(S,I,P)=>async function(Z,ne,ge,_e){let re=ne.view.Ga(ge);re.ys&&(re=await Vy(Z.localStore,ne.query,!1).then(({documents:M})=>ne.view.Ga(M,re)));const ve=_e&&_e.targetChanges.get(ne.targetId),Ae=_e&&_e.targetMismatches.get(ne.targetId)!=null,De=ne.view.applyChanges(re,Z.isPrimaryClient,ve,Ae);return zy(Z,ne.targetId,De.Ya),De.snapshot}(i,S,I,P);const o=await Vy(i.localStore,e,!0),u=new VN(e,o.Ns),h=u.Ga(o.documents),m=hf.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",a),g=u.applyChanges(h,i.isPrimaryClient,m);zy(i,t,g.Ya);const E=new MN(e,t,u);return i.ru.set(e,E),i.iu.has(t)?i.iu.get(t).push(e):i.iu.set(t,[e]),g.snapshot}async function BN(i,e,t){const n=Qe(i),a=n.ru.get(e),o=n.iu.get(a.targetId);if(o.length>1)return n.iu.set(a.targetId,o.filter(u=>!jm(u,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Hu(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&Gu(n.remoteStore,a.targetId),Qu(n,a.targetId)}).catch(Io)):(Qu(n,a.targetId),await Hu(n.localStore,a.targetId,!0))}async function qN(i,e){const t=Qe(i),n=t.ru.get(e),a=t.iu.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Gu(t.remoteStore,n.targetId))}async function GA(i,e){const t=Qe(i);try{const n=await iN(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t._u.get(o);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Xe(u.tu,14607):a.removedDocuments.size>0&&(Xe(u.tu,42227),u.tu=!1))}),await Vl(t,n,e)}catch(n){await Io(n)}}function zw(i,e,t){const n=Qe(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.ru.forEach((o,u)=>{const h=u.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const m=Qe(u);m.onlineState=h;let g=!1;m.queries.forEach((E,S)=>{for(const I of S.Ra)I.ga(h)&&(g=!0)}),g&&jv(m)}(n.eventManager,e),a.length&&n.nu.Q_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function FN(i,e,t){const n=Qe(i);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n._u.get(e),o=a&&a.key;if(o){let u=new en(ze.comparator);u=u.insert(o,pn.newNoDocument(o,Ze.min()));const h=wt().add(o),m=new cf(Ze.min(),new Map,new en(at),u,h);await GA(n,m),n.ou=n.ou.remove(o),n._u.delete(e),qv(n)}else await Hu(n.localStore,e,!1).then(()=>Qu(n,e,t)).catch(Io)}async function KN(i,e){const t=Qe(i),n=e.batch.batchId;try{const a=await rN(t.localStore,e);Bv(t,n,null),zv(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Vl(t,a)}catch(a){await Io(a)}}async function HN(i,e,t){const n=Qe(i);try{const a=await function(u,h){const m=Qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,h).next(S=>(Xe(S!==null,37113),E=S.keys(),m.mutationQueue.removeMutationBatch(g,S))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(n.localStore,e);Bv(n,e,t),zv(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Vl(n,a)}catch(a){await Io(a)}}function zv(i,e){(i.cu.get(e)||[]).forEach(t=>{t.resolve()}),i.cu.delete(e)}function Bv(i,e,t){const n=Qe(i);let a=n.uu[n.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),n.uu[n.currentUser.toKey()]=a}}function Qu(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.iu.get(e))i.ru.delete(n),t&&i.nu.Tu(n,t);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(n=>{i.au.containsKey(n)||$A(i,n)})}function $A(i,e){i.su.delete(e.path.canonicalString());const t=i.ou.get(e);t!==null&&(Gu(i.remoteStore,t),i.ou=i.ou.remove(e),i._u.delete(t),qv(i))}function zy(i,e,t){for(const n of t)n instanceof FA?(i.au.addReference(n.key,e),GN(i,n)):n instanceof KA?(xe(tc,"Document no longer in limbo: "+n.key),i.au.removeReference(n.key,e),i.au.containsKey(n.key)||$A(i,n.key)):Ge(19791,{Iu:n})}function GN(i,e){const t=e.key,n=t.path.canonicalString();i.ou.get(t)||i.su.has(n)||(xe(tc,"New document in limbo: "+t),i.su.add(n),qv(i))}function qv(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const t=new ze(Xt.fromString(e)),n=i.lu.next();i._u.set(n,new LN(t)),i.ou=i.ou.insert(t,n),Hm(i.remoteStore,new ua(ui(Lm(t.path)),n,"TargetPurposeLimboResolution",Br.le))}}async function Vl(i,e,t){const n=Qe(i),a=[],o=[],u=[];n.ru.isEmpty()||(n.ru.forEach((h,m)=>{u.push(n.Pu(m,e,t).then(g=>{var E;if((g||t)&&n.isPrimaryClient){const S=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;n.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){a.push(g);const S=Ov.Ps(m.targetId,g);o.push(S)}}))}),await Promise.all(u),n.nu.Q_(a),await async function(m,g){const E=Qe(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(g,I=>ae.forEach(I.ls,P=>E.persistence.referenceDelegate.addReference(S,I.targetId,P)).next(()=>ae.forEach(I.hs,P=>E.persistence.referenceDelegate.removeReference(S,I.targetId,P)))))}catch(S){if(!xo(S))throw S;xe(Dv,"Failed to update sequence numbers: "+S)}for(const S of g){const I=S.targetId;if(!S.fromCache){const P=E.Ss.get(I),N=P.snapshotVersion,Z=P.withLastLimboFreeSnapshotVersion(N);E.Ss=E.Ss.insert(I,Z)}}}(n.localStore,o))}async function $N(i,e){const t=Qe(i);if(!t.currentUser.isEqual(e)){xe(tc,"User change. New user:",e.toKey());const n=await SA(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(h=>{h.forEach(m=>{m.reject(new $e(Re.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Vl(t,n.Ms)}}function QN(i,e){const t=Qe(i),n=t._u.get(e);if(n&&n.tu)return wt().add(n.key);{let a=wt();const o=t.iu.get(e);if(!o)return a;for(const u of o){const h=t.ru.get(u);a=a.unionWith(h.view.Wa)}return a}}async function YN(i,e){const t=Qe(i),n=await Vy(t.localStore,e.query,!0),a=e.view.Xa(n);return t.isPrimaryClient&&zy(t,e.targetId,a.Ya),a}async function XN(i,e){const t=Qe(i);return IA(t.localStore,e).then(n=>Vl(t,n))}async function WN(i,e,t,n){const a=Qe(i),o=await function(h,m){const g=Qe(h),E=Qe(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",S=>E.Hn(S,m).next(I=>I?g.localDocuments.getDocuments(S,I):ae.resolve(null)))}(a.localStore,e);o!==null?(t==="pending"?await df(a.remoteStore):t==="acknowledged"||t==="rejected"?(Bv(a,e,n||null),zv(a,e),function(h,m){Qe(Qe(h).mutationQueue).Xn(m)}(a.localStore,e)):Ge(6720,"Unknown batchState",{Eu:t}),await Vl(a,o)):xe(tc,"Cannot apply mutation batch with id: "+e)}async function JN(i,e){const t=Qe(i);if(Gm(t),YA(t),e===!0&&t.hu!==!0){const n=t.sharedClientState.getAllActiveQueryTargets(),a=await Bw(t,n.toArray());t.hu=!0,await jy(t.remoteStore,!0);for(const o of a)Hm(t.remoteStore,o)}else if(e===!1&&t.hu!==!1){const n=[];let a=Promise.resolve();t.iu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?n.push(u):a=a.then(()=>(Qu(t,u),Hu(t.localStore,u,!0))),Gu(t.remoteStore,u)}),await a,await Bw(t,n),function(u){const h=Qe(u);h._u.forEach((m,g)=>{Gu(h.remoteStore,g)}),h.au.Kr(),h._u=new Map,h.ou=new en(ze.comparator)}(t),t.hu=!1,await jy(t.remoteStore,!1)}}async function Bw(i,e,t){const n=Qe(i),a=[],o=[];for(const u of e){let h;const m=n.iu.get(u);if(m&&m.length!==0){h=await mm(n.localStore,ui(m[0]));for(const g of m){const E=n.ru.get(g),S=await YN(n,E);S.snapshot&&o.push(S.snapshot)}}else{const g=await RA(n.localStore,u);h=await mm(n.localStore,g),await Uv(n,QA(g),u,!1,h.resumeToken)}a.push(h)}return n.nu.Q_(o),a}function QA(i){return P1(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ZN(i){return function(t){return Qe(Qe(t).persistence).us()}(Qe(i).localStore)}async function eP(i,e,t,n){const a=Qe(i);if(a.hu)return void xe(tc,"Ignoring unexpected query state notification.");const o=a.iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await IA(a.localStore,M1(o[0])),h=cf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Sn.EMPTY_BYTE_STRING);await Vl(a,u,h);break}case"rejected":await Hu(a.localStore,e,!0),Qu(a,e,n);break;default:Ge(64155,t)}}async function tP(i,e,t){const n=Gm(i);if(n.hu){for(const a of e){if(n.iu.has(a)&&n.sharedClientState.isActiveQueryTarget(a)){xe(tc,"Adding an already active target "+a);continue}const o=await RA(n.localStore,a),u=await mm(n.localStore,o);await Uv(n,QA(o),u.targetId,!1,u.resumeToken),Hm(n.remoteStore,u)}for(const a of t)n.iu.has(a)&&await Hu(n.localStore,a,!1).then(()=>{Gu(n.remoteStore,a),Qu(n,a)}).catch(Io)}}function Gm(i){const e=Qe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=GA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FN.bind(null,e),e.nu.Q_=DN.bind(null,e.eventManager),e.nu.Tu=NN.bind(null,e.eventManager),e}function YA(i){const e=Qe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HN.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=PA(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return TA(this.persistence,new wA,e.initialUser,this.serializer)}Ru(e){return new kv(Fm.Ei,this.serializer)}Au(e){return new DA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class nP extends Gh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Xe(this.persistence.referenceDelegate instanceof dm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new gA(n,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new kv(n=>dm.Ei(n,t),this.serializer)}}class XA extends Gh{constructor(e,t,n){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await YA(this.gu.syncEngine),await df(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(e){return TA(this.persistence,new wA,e.initialUser,this.serializer)}mu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new gA(n,e.asyncQueue,t)}fu(e,t){const n=new sO(t,this.persistence);return new iO(e.asyncQueue,n)}Ru(e){const t=EA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new Cv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NA(),zd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new DA}}class rP extends XA{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof Jg&&(this.sharedClientState.syncEngine={yo:WN.bind(null,t),wo:eP.bind(null,t),bo:tP.bind(null,t),us:ZN.bind(null,t),po:XN.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki(async n=>{await JN(this.gu.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())})}Au(e){const t=NA();if(!Jg.C(t))throw new $e(Re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=EA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class $h{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>zw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,this.syncEngine),await jy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kN}()}createDatastore(e){const t=PA(e.databaseInfo.databaseId),n=function(o){return new hN(o)}(e.databaseInfo);return function(o,u,h,m){return new pN(o,u,h,m)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,o,u,h){return new yN(n,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>zw(this.syncEngine,t,0),function(){return Pw.C()?new Pw:new oN}())}createSyncEngine(e,t){return function(a,o,u,h,m,g,E){const S=new jN(a,o,u,h,m,g);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Qe(a);xe(Nl,"RemoteStore shutting down."),o.aa.add(5),await ff(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$h.provider={build:()=>new $h};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):wn("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class sP{constructor(e,t,n,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=dr.UNAUTHENTICATED,this.clientId=t1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async u=>{xe(Ao,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(xe(Ao,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=qA(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ey(i,e){i.asyncQueue.verifyOperationInProgress(),xe(Ao,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener(async a=>{n.isEqual(a)||(await SA(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function qw(i,e){i.asyncQueue.verifyOperationInProgress();const t=await aP(i);xe(Ao,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(n=>Mw(e.remoteStore,n)),i.setAppCheckTokenChangeListener((n,a)=>Mw(e.remoteStore,a)),i._onlineComponents=e}async function aP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){xe(Ao,"Using user provided OfflineComponentProvider");try{await ey(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Re.FAILED_PRECONDITION||a.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ph("Error using user provided cache. Falling back to memory cache: "+t),await ey(i,new Gh)}}else xe(Ao,"Using default OfflineComponentProvider"),await ey(i,new nP(void 0));return i._offlineComponents}async function oP(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(xe(Ao,"Using user provided OnlineComponentProvider"),await qw(i,i._uninitializedComponentsProvider._online)):(xe(Ao,"Using default OnlineComponentProvider"),await qw(i,new $h))),i._onlineComponents}async function lP(i){const e=await oP(i),t=e.eventManager;return t.onListen=UN.bind(null,e.syncEngine),t.onUnlisten=BN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=qN.bind(null,e.syncEngine),t}function uP(i,e,t={}){const n=new bo;return i.asyncQueue.enqueueAndForget(async()=>function(o,u,h,m,g){const E=new iP({next:I=>{E.yu(),u.enqueueAndForget(()=>ON(o,S));const P=I.docs.has(h);!P&&I.fromCache?g.reject(new $e(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&I.fromCache&&m&&m.source==="server"?g.reject(new $e(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),S=new PN(Lm(h.path),E,{includeMetadataChanges:!0,Fa:!0});return CN(o,S)}(await lP(i),i.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(i,e,t){if(!t)throw new $e(Re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hP(i,e,t,n){if(e===!0&&n===!0)throw new $e(Re.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Kw(i){if(!ze.isDocumentKey(i))throw new $e(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fP(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ge(12329,{type:typeof i})}function Hw(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new $e(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fP(i);throw new $e(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firestore.googleapis.com",Gw=!0;class $w{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dP,this.ssl=Gw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Gw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pA)throw new $e(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WA((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $e(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $e(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $e(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class JA{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Q2;switch(n.type){case"firstParty":return new W2(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Yy("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Fw.get(t);n&&(xe("ComponentProvider","Removing Datastore"),Fw.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Fv(this.firestore,e,this._query)}}class ca{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ca(this.firestore,e,this._key)}}class Qh extends Fv{constructor(e,t,n){super(e,t,Lm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ca(this.firestore,null,new ze(e))}withConverter(e){return new Qh(this.firestore,e,this._path)}}function ZA(i,e,...t){if(i=Ro(i),arguments.length===1&&(e=t1.newId()),cP("doc","path",e),i instanceof JA){const n=Xt.fromString(e,...t);return Kw(n),new ca(i,null,new ze(n))}{if(!(i instanceof ca||i instanceof Qh))throw new $e(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(Xt.fromString(e,...t));return Kw(n),new ca(i.firestore,i instanceof Qh?i.converter:null,new ze(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="AsyncQueue";class Yw{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new VA(this,"async_queue_retry"),this.ju=()=>{const n=zd();n&&xe(Qw,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const t=zd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=zd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new bo;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!xo(e))throw e;xe(Qw,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,wn("INTERNAL UNHANDLED ERROR: ",Xw(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Lv.createAndSchedule(this,e,t,n,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Ge(47125,{ec:Xw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Xw(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class eR extends JA{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new Yw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yw(e),this._firestoreClient=void 0,await e}}}function mP(i,e,t){t||(t=rm);const n=Jy(i,"firestore");if(n.isInitialized(t)){const a=n.getImmediate({identifier:t}),o=n.getOptions(t);if(Sl(o,e))return a;throw new $e(Re.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new $e(Re.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pA)throw new $e(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Jh(e.host)&&uS(e.host),n.initialize({options:e,instanceIdentifier:t})}function pP(i){if(i._terminated)throw new $e(Re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||gP(i),i._firestoreClient}function gP(i){var e,t,n;const a=i._freezeSettings(),o=function(h,m,g,E){return new VO(h,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,WA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new sP(i._authCredentials,i._appCheckCredentials,i._queue,o,i._componentsProvider&&function(h){const m=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vm(Sn.fromBase64String(e))}catch(t){throw new $e(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vm(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $e(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0}(this._values,e._values)}}const _P=new RegExp("[~\\*/\\[\\]]");function bP(i,e,t){if(e.search(_P)>=0)throw Ww(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new tR(...e.split("."))._internalPath}catch{throw Ww(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function Ww(i,e,t,n,a){let o=`Function ${e}() called with invalid data`;o+=". ";let u="";return new $e(Re.INVALID_ARGUMENT,o+i+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,n,a,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ca(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class EP extends nR{data(){return super.data()}}function rR(i,e){return typeof e=="string"?bP(i,e):e instanceof tR?e._internalPath:e._delegate._internalPath}class wP{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return af(e,(a,o)=>{n[a]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,a;const o=(a=(n=(t=e.fields)===null||t===void 0?void 0:t[Bh].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(u=>an(u.doubleValue));return new vP(o)}convertGeoPoint(e){return new yP(an(e.latitude),an(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Pm(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const t=ma(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xt.fromString(e);Xe(sA(n),9688,{name:e});const a=new xl(n.get(1),n.get(3)),o=new ze(n.popFirst(5));return a.isEqual(t)||wn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iR extends nR{constructor(e,t,n,a,o,u){super(e,t,n,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new SP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(rR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class SP extends iR{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(i){i=Hw(i,ca);const e=Hw(i.firestore,eR);return uP(pP(e),i._key).then(t=>RP(e,i,t))}class AP extends wP{constructor(e){super(),this.firestore=e}convertBytes(e){return new vm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ca(this.firestore,null,t)}}function RP(i,e,t){const n=t.docs.get(e._key),a=new AP(i);return new iR(i,a,e._key,n,new TP(t.hasPendingWrites,t.fromCache),e.converter)}class IP{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=OP(),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function xP(i){return new IP(i)}class kP{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=$h.provider,this._offlineComponentProvider={build:t=>new XA(t,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class CP{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=$h.provider,this._offlineComponentProvider={build:t=>new rP(t,e==null?void 0:e.cacheSizeBytes)}}}function OP(i){return new kP(void 0)}function DP(){return new CP}(function(e,t=!0){(function(a){Ju=a})(Xu),Du(new Al("firestore",(n,{instanceIdentifier:a,options:o})=>{const u=n.getProvider("app").getImmediate(),h=new eR(new Y2(n.getProvider("auth-internal")),new J2(u,n.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new $e(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(g.options.projectId,E)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),vo(DE,NE,e),vo(DE,NE,"esm2017")})();const NP={apiKey:"AIzaSyBaP9APfVtEPw1sLQgHx26ZEZ7SPfutv28",authDomain:"tell-4f02c.firebaseapp.com",projectId:"tell-4f02c",storageBucket:"tell-4f02c.firebasestorage.app",messagingSenderId:"1032114981963",appId:"1:1032114981963:web:719ae9a5040929b739d1ce"},aR=mS(NP),Kv=F2(aR),oR=mP(aR,{localCache:xP({tabManager:DP()})}),PP=(i,e,t,n)=>{var o,u,h,m;const a=[t,{code:e,...n||{}}];if((u=(o=i==null?void 0:i.services)==null?void 0:o.logger)!=null&&u.forward)return i.services.logger.forward(a,"warn","react-i18next::",!0);Tl(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(m=(h=i==null?void 0:i.services)==null?void 0:h.logger)!=null&&m.warn?i.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},Jw={},By=(i,e,t,n)=>{Tl(t)&&Jw[t]||(Tl(t)&&(Jw[t]=new Date),PP(i,e,t,n))},lR=(i,e)=>()=>{if(i.isInitialized)e();else{const t=()=>{setTimeout(()=>{i.off("initialized",t)},0),e()};i.on("initialized",t)}},qy=(i,e,t)=>{i.loadNamespaces(e,lR(i,t))},Zw=(i,e,t,n)=>{if(Tl(t)&&(t=[t]),i.options.preload&&i.options.preload.indexOf(e)>-1)return qy(i,t,n);t.forEach(a=>{i.options.ns.indexOf(a)<0&&i.options.ns.push(a)}),i.loadLanguages(e,lR(i,n))},VP=(i,e,t={})=>!e.languages||!e.languages.length?(By(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(i,{lng:t.lng,precheck:(n,a)=>{var o;if(((o=t.bindI18n)==null?void 0:o.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,i))return!1}}),Tl=i=>typeof i=="string",MP=i=>typeof i=="object"&&i!==null,LP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,jP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},UP=i=>jP[i],zP=i=>i.replace(LP,UP);let Fy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zP};const BP=(i={})=>{Fy={...Fy,...i}},qP=()=>Fy;let uR;const FP=i=>{uR=i},KP=()=>uR,HP={type:"3rdParty",init(i){BP(i.options.react),FP(i)}},GP=me.createContext();class $P{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const QP=(i,e)=>{const t=me.useRef();return me.useEffect(()=>{t.current=i},[i,e]),t.current},cR=(i,e,t,n)=>i.getFixedT(e,t,n),YP=(i,e,t,n)=>me.useCallback(cR(i,e,t,n),[i,e,t,n]),ss=(i,e={})=>{var ve,Ae,De;const{i18n:t}=e,{i18n:n,defaultNS:a}=me.useContext(GP)||{},o=t||n||KP();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new $P),!o){By(o,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const M=(V,z)=>Tl(z)?z:MP(z)&&Tl(z.defaultValue)?z.defaultValue:Array.isArray(V)?V[V.length-1]:V,D=[M,{},!1];return D.t=M,D.i18n={},D.ready=!1,D}(ve=o.options.react)!=null&&ve.wait&&By(o,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...qP(),...o.options.react,...e},{useSuspense:h,keyPrefix:m}=u;let g=i;g=Tl(g)?[g]:g||["translation"],(De=(Ae=o.reportNamespaces).addUsedNamespaces)==null||De.call(Ae,g);const E=(o.isInitialized||o.initializedStoreOnce)&&g.every(M=>VP(M,o,u)),S=YP(o,e.lng||null,u.nsMode==="fallback"?g:g[0],m),I=()=>S,P=()=>cR(o,e.lng||null,u.nsMode==="fallback"?g:g[0],m),[N,Z]=me.useState(I);let ne=g.join();e.lng&&(ne=`${e.lng}${ne}`);const ge=QP(ne),_e=me.useRef(!0);me.useEffect(()=>{const{bindI18n:M,bindI18nStore:D}=u;_e.current=!0,!E&&!h&&(e.lng?Zw(o,e.lng,g,()=>{_e.current&&Z(P)}):qy(o,g,()=>{_e.current&&Z(P)})),E&&ge&&ge!==ne&&_e.current&&Z(P);const V=()=>{_e.current&&Z(P)};return M&&(o==null||o.on(M,V)),D&&(o==null||o.store.on(D,V)),()=>{_e.current=!1,o&&(M==null||M.split(" ").forEach(z=>o.off(z,V))),D&&o&&D.split(" ").forEach(z=>o.store.off(z,V))}},[o,ne]),me.useEffect(()=>{_e.current&&E&&Z(I)},[o,m,E]);const re=[N,o,E];if(re.t=N,re.i18n=o,re.ready=E,E||!E&&!h)return re;throw new Promise(M=>{e.lng?Zw(o,e.lng,g,()=>M()):qy(o,g,()=>M())})};function XP({name:i,imageUrl:e}){const{t}=ss("global"),[n,a]=me.useState(!1),o=()=>{a(!n)};return W.jsxs("div",{className:"relative border-b-1 pb-3 border-gray-300",children:[W.jsxs("div",{className:"flex items-center justify-start gap-2 pt-2 pb-2 rounded-md hover:bg-gray-100 cursor-pointer",onClick:o,children:[W.jsx("img",{src:e,alt:`${i}'s profile`,className:"w-5 h-5 rounded-sm object-cover"}),W.jsx("div",{className:"flex flex-col",children:W.jsx("span",{className:"text-base font-medium",children:i})})]}),n&&W.jsx("div",{className:"absolute top-full left-0 w-56 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:W.jsx("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>DC(Kv),children:t("sidebar.userblock.logout")})})]})}function WP(){const{i18n:i}=ss("global"),[e,t]=me.useState(localStorage.getItem("lang")||"English"),n=a=>{t(a.target.value),i.changeLanguage(a.target.value),localStorage.setItem("lang",a.target.value),document.documentElement.lang=a.target.value};return W.jsxs("select",{value:e,onChange:n,"aria-label":"Select language",className:"w-full mt-4 mb-4 focus:outline-none focus:ring-0 focus:border-none",children:[W.jsx("option",{value:"dk",children:"Dansk"}),W.jsx("option",{value:"nl",children:"Nederlands"}),W.jsx("option",{value:"en",children:"English"}),W.jsx("option",{value:"et",children:"Eesti"}),W.jsx("option",{value:"fi",children:"Suomea"}),W.jsx("option",{value:"is",children:"slenska"}),W.jsx("option",{value:"no",children:"Norsk"}),W.jsx("option",{value:"se",children:"Svenska"}),W.jsx("option",{value:"fo",children:"Froyskt"})]})}function JP(){const{t:i}=ss("global"),{user:e}=me.useContext(Wh),[t,n]=me.useState(()=>localStorage.getItem("note")!=="false"),[a,o]=me.useState(!1),u=()=>{n(!1),localStorage.setItem("note","false")},h=()=>{o(!a)};return W.jsxs(W.Fragment,{children:[W.jsx("button",{className:"fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md md:hidden",onClick:h,"aria-label":"Toggle menu",children:W.jsx("svg",{className:"w-6 h-6 text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:a?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),W.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white shadow-md pl-4 pr-4 pt-12 flex flex-col transition-transform duration-300 ease-in-out z-40 ${a?"translate-x-0":"-translate-x-full"} md:static md:translate-x-0 md:pt-2 md:h-screen`,children:[W.jsxs("div",{className:"flex-1",children:[e&&W.jsx(XP,{name:e.displayName,imageUrl:e.photoURL}),W.jsxs("ul",{className:"space-y-2 w-full pt-3 mt-2",children:[W.jsx("li",{className:"w-full",children:W.jsx("a",{href:"/",className:"w-full text-left block hover:text-blue-600",onClick:()=>o(!1),children:i("sidebar.home")})}),!e&&W.jsx("li",{className:"w-full",children:W.jsx("a",{href:"/account",className:"w-full text-left block hover:text-blue-600",onClick:()=>o(!1),children:i("sidebar.account")})}),e&&W.jsx("li",{className:"w-full",children:W.jsx("a",{href:"/tracker",className:"w-full text-left block hover:text-blue-600",onClick:()=>o(!1),children:"Tracker"})}),W.jsx("li",{className:"w-full",children:W.jsx("a",{href:"/terms",className:"w-full text-left block hover:text-blue-600",onClick:()=>o(!1),children:i("sidebar.terms")})})]})]}),W.jsxs("div",{children:[t&&W.jsxs("div",{id:"dropdown-cta",className:"p-4 mt-6 rounded-lg bg-blue-50 dark:bg-blue-900",role:"alert",children:[W.jsxs("div",{className:"flex items-center mb-3",children:[W.jsx("span",{className:"bg-orange-100 text-orange-800 text-sm font-semibold me-2 px-2.5 py-0.5 rounded-sm dark:bg-orange-200 dark:text-orange-900",children:i("sidebar.note.new")}),W.jsxs("button",{type:"button",onClick:u,className:"ms-auto -mx-1.5 -my-1.5 bg-blue-50 inline-flex justify-center items-center w-6 h-6 text-blue-900 rounded-lg focus:ring-2 focus:ring-blue-400 p-1 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-400 dark:hover:bg-blue-800","data-dismiss-target":"#dropdown-cta","aria-label":"Close",children:[W.jsx("span",{className:"sr-only",children:"Close"}),W.jsx("svg",{className:"w-2.5 h-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:W.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})})]})]}),W.jsx("p",{className:"mb-3 text-sm text-blue-800 dark:text-blue-400",children:i("sidebar.note.description")})]}),W.jsx(WP,{})]})]})]})}function ZP({message:i,onClose:e}){const[t,n]=me.useState(!0);return me.useEffect(()=>{const a=setTimeout(()=>{n(!1),e()},4e3);return()=>clearTimeout(a)},[e]),t?W.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-gray-50 text-black px-4 py-2 rounded-lg shadow-lg text-sm sm:text-base z-50 animate-fade-in-out",children:i}):null}const eV=[{id:1,name:"Banan",calories:100,fat:.1,protein:1.2,carbs:22.4},{id:2,name:"Eple",calories:52,fat:.2,protein:.3,carbs:14},{id:3,name:"Peanttsmr-brd",calories:280,fat:16,protein:9,carbs:24},{id:4,name:"Egg",calories:93,fat:6.6,protein:7.8,carbs:.7},{id:5,name:"Chocolate Cookie",calories:93.9,fat:4.8,protein:1,carbs:11.4},{id:6,name:"Tosti ham kaas",calories:350,fat:17,protein:19,carbs:30},{id:7,name:"Sultana kjeks (1)",calories:140,fat:4.5,protein:1.5,carbs:22},{id:8,name:"Cola (33cl)",calories:139,fat:0,protein:0,carbs:35},{id:9,name:"Apple Crumble (100g)",calories:170,fat:5,protein:1.5,carbs:30},{id:10,name:"Nudler (1 porsjon, ca. 300 kcal)",calories:300,fat:12,protein:7,carbs:40},{id:11,name:"Spelt Eierkoek (150 kcal)",calories:150,fat:3.5,protein:4,carbs:25},{id:12,name:"Smultring",calories:192,fat:11,protein:2,carbs:22},{id:13,name:"Protein Quark",calories:132,fat:.2,protein:25,carbs:6},{id:14,name:"Choco Mousse",calories:220,fat:13,protein:4,carbs:20},{id:15,name:"Chips",calories:275,fat:17,protein:3,carbs:25},{id:16,name:"Pannenkoek",calories:150,fat:5,protein:5,carbs:20},{id:17,name:"Eplejus (1 glass)",calories:117,fat:.2,protein:.1,carbs:28},{id:18,name:"Protein Shake (1 scoop + 300 ml melk)",calories:298,fat:6,protein:30,carbs:22},{id:19,name:"Drue (1 stk)",calories:3,fat:0,protein:0,carbs:.8},{id:20,name:"Margerhita Pizza",calories:940,fat:34,protein:40,carbs:108},{id:21,name:"KitKat",calories:219,fat:11,protein:2.6,carbs:27},{id:22,name:"Mandarin",calories:21,fat:.1,protein:.3,carbs:5},{id:23,name:"l (1 flaske)",calories:164,fat:0,protein:1.6,carbs:13},{id:24,name:"Croissant",calories:231,fat:12,protein:4.5,carbs:26},{id:25,name:"Hamburger (patty)",calories:250,fat:20,protein:17,carbs:0},{id:26,name:"Kroket",calories:180,fat:11,protein:6,carbs:15},{id:27,name:"Bolletje",calories:140,fat:2,protein:4,carbs:26},{id:28,name:"Kipfilet (100g)",calories:110,fat:1.5,protein:23,carbs:0},{id:29,name:"French Fries",calories:312,fat:15,protein:3.4,carbs:41},{id:30,name:"Oasis (1 glass, 200 ml)",calories:86,fat:0,protein:0,carbs:21.5},{id:31,name:"Braadworst (1)",calories:280,fat:24,protein:14,carbs:1},{id:32,name:"Curry saus (1 portion)",calories:40,fat:.5,protein:.5,carbs:9},{id:33,name:"Hamburger bread",calories:150,fat:2.5,protein:5,carbs:26},{id:34,name:"Mayonaise (1 portion)",calories:110,fat:12,protein:.2,carbs:.5}];function tV({searchTerm:i,filteredFoods:e,addFood:t,setSearchTerm:n}){const{t:a}=ss("global");return W.jsxs(W.Fragment,{children:[W.jsx("input",{type:"text",placeholder:a("tracker.foodsearch.search"),className:"w-full p-3 sm:p-2 mb-4 border rounded text-gray-900 bg-white text-base sm:text-base",value:i,onChange:o=>n(o.target.value)}),W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:i!==""&&e.map(o=>W.jsxs("div",{onClick:()=>t(o),className:"p-3 sm:p-2 bg-white rounded shadow cursor-pointer text-gray-900 text-sm sm:text-base",children:[o.name," - ",o.calories," kcal (",a("tracker.counter.fat"),": ",o.fat,"g, ",a("tracker.counter.proteins"),": ",o.protein,"g, ",a("tracker.counter.carbs"),": ",o.carbs,"g)"]},o.id))})]})}function nV({currentDate:i,changeDate:e}){const t=n=>{const a=new Date(n);return`${String(a.getDate()).padStart(2,"0")}-${String(a.getMonth()+1).padStart(2,"0")}-${a.getFullYear()}`};return W.jsxs("div",{className:"mb-2 flex justify-center gap-4",children:[W.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2  text-white rounded",children:W.jsx("svg",{className:"text-black w-6 h-6 cursor-pointer",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),W.jsx("span",{className:"text-gray-900 mt-2 cursor-pointer",onClick:()=>e(0),children:t(i)}),W.jsx("button",{onClick:()=>e(1),className:"px-4 py-2  text-white rounded ",children:W.jsx("svg",{className:"text-black w-6 h-6 cursor-pointer",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:W.jsx("path",{d:"M9 18L15 12L9 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}function rV({totals:i,goals:e}){const{t}=ss("global"),n=Math.min(i.calories/e.calories*100,100),a=45,o=2*Math.PI*a,u=o-n/100*o;function h(m,g){return m>g?m-g:g-m}return W.jsxs("div",{className:"flex flex-col items-center mb-2",children:[W.jsxs("div",{className:"w-32 h-32 sm:w-32 sm:h-32 relative flex items-center justify-center",children:[W.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[W.jsx("circle",{cx:"50",cy:"50",r:a,fill:"none",stroke:"#e5e7eb",strokeWidth:"1"}),W.jsx("circle",{cx:"50",cy:"50",r:a,fill:"none",stroke:"#3b82f6",strokeWidth:"1",strokeDasharray:o,strokeDashoffset:u,className:"transition-all duration-500 ease-in-out",transform:"rotate(-90 50 50)"})]}),W.jsxs("div",{className:"absolute flex flex-col items-center justify-center text-gray-900",children:[W.jsx("span",{className:"text-2xl sm:text-2xl text-center",children:h(i.calories,e.calories)}),W.jsx("span",{className:"text-md sm:text-base text-center",children:i.calories>e.calories?t("tracker.counter.over"):t("tracker.counter.togo")})]})]}),W.jsx("div",{id:"confetti"}),W.jsxs("div",{className:"flex flex-row justify-center gap-4 rounded-lg bg-white shadow pl-2 pr-2 sm:p-2 w-full sm:w-auto",children:[W.jsxs("div",{className:"flex flex-col items-center justify-center w-full sm:w-24 h-20 sm:h-24 text-gray-900 ml-5 mr-5",children:[W.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:t("tracker.counter.carbs")}),W.jsxs("span",{className:"text-base sm:text-lg",children:[i.carbs.toFixed(0),"/",e.carbs,"g"]})]}),W.jsxs("div",{className:"flex flex-col items-center justify-center w-full sm:w-24 h-20 sm:h-24 text-gray-900 ml-5 mr-5",children:[W.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:t("tracker.counter.proteins")}),W.jsxs("span",{className:"text-base sm:text-lg",children:[i.protein.toFixed(0),"/",e.protein,"g"]})]}),W.jsxs("div",{className:"flex flex-col items-center justify-center w-full sm:w-24 h-20 sm:h-24 text-gray-900 ml-5 mr-5",children:[W.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:t("tracker.counter.fat")}),W.jsxs("span",{className:"text-base sm:text-lg",children:[i.fat.toFixed(0),"/",e.fat,"g"]})]})]})]})}function iV({selectedFoods:i,currentDate:e,removeFood:t,updateQuantity:n}){const{t:a}=ss("global"),o=i[e]||[];return W.jsxs("div",{className:"mt-4",children:[W.jsx("h2",{className:"text-lg font-semibold mb-2",children:a("tracker.foodsearch.chosenfood")}),o.length===0?W.jsx("p",{className:"text-gray-500",children:a("tracker.foodsearch.nofood")}):W.jsx("ul",{className:"space-y-2",children:o.map((u,h)=>W.jsxs("li",{className:"flex justify-between items-center p-2 bg-gray-100 rounded",children:[W.jsxs("span",{children:[u.food.name," - ",(u.food.calories*u.quantity).toFixed(0)," kcal"]}),W.jsxs("div",{className:"flex items-center space-x-2",children:[W.jsx("button",{onClick:()=>n(h,-1),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-200 transition-colors cursor-pointer",children:"-"}),W.jsx("span",{className:"w-8 text-center",children:u.quantity}),W.jsx("button",{onClick:()=>n(h,1),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-200 transition-colors cursor-pointer",children:"+"}),W.jsx("button",{onClick:()=>t(h),className:"px-2 py-1 border text-sm border-gray-300 rounded hover:bg-gray-200 transition-colors cursor-pointer",children:a("tracker.foodsearch.remove")})]})]},`${u.food.id}-${h}`))})]})}function Hv(){const{t:i}=ss("global"),{user:e}=me.useContext(Wh);return W.jsx("footer",{className:"rounded-lg",children:W.jsxs("div",{className:"w-full mx-auto max-w-screen-xl py-4 flex items-center justify-between flex-col md:flex-row",children:[W.jsxs("span",{className:"text-sm text-gray-500 sm:text-center",children:[" ",new Date().getFullYear()," ",W.jsx("a",{href:"/",className:"hover:underline",children:"Tell"}),". ",i("footer.description")]}),W.jsxs("ul",{className:"flex flex-wrap items-center mt-3 text-sm font-medium text-gray-500 sm:mt-0",children:[W.jsx("li",{children:W.jsx("a",{href:"/",className:"hover:underline me-4 md:me-6",children:i("sidebar.home")})}),!e&&W.jsx("li",{children:W.jsx("a",{href:"/account",className:"hover:underline me-4 md:me-6",children:i("sidebar.account")})}),e&&W.jsx("li",{children:W.jsx("a",{href:"/tracker",className:"hover:underline me-4 md:me-6",children:"Tracker"})}),W.jsx("li",{children:W.jsx("a",{href:"/terms",className:"hover:underline me-4 md:me-6",children:i("sidebar.terms")})})]})]})})}var Bd={exports:{}},sV=Bd.exports,eT;function aV(){return eT||(eT=1,function(i,e){(function(t,n){i.exports=n()})(sV,function(){var t=function(d,y){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var R in w)Object.prototype.hasOwnProperty.call(w,R)&&(_[R]=w[R])})(d,y)},n=function(){return(n=Object.assign||function(d){for(var y,_=1,w=arguments.length;_<w;_++)for(var R in y=arguments[_])Object.prototype.hasOwnProperty.call(y,R)&&(d[R]=y[R]);return d}).apply(this,arguments)};function a(d,y,_){for(var w,R=0,x=y.length;R<x;R++)!w&&R in y||((w=w||Array.prototype.slice.call(y,0,R))[R]=y[R]);return d.concat(w||Array.prototype.slice.call(y))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ex,u=Object.keys,h=Array.isArray;function m(d,y){return typeof y!="object"||u(y).forEach(function(_){d[_]=y[_]}),d}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var g=Object.getPrototypeOf,E={}.hasOwnProperty;function S(d,y){return E.call(d,y)}function I(d,y){typeof y=="function"&&(y=y(g(d))),(typeof Reflect>"u"?u:Reflect.ownKeys)(y).forEach(function(_){N(d,_,y[_])})}var P=Object.defineProperty;function N(d,y,_,w){P(d,y,m(_&&S(_,"get")&&typeof _.get=="function"?{get:_.get,set:_.set,configurable:!0}:{value:_,configurable:!0,writable:!0},w))}function Z(d){return{from:function(y){return d.prototype=Object.create(y.prototype),N(d.prototype,"constructor",d),{extend:I.bind(null,d.prototype)}}}}var ne=Object.getOwnPropertyDescriptor,ge=[].slice;function _e(d,y,_){return ge.call(d,y,_)}function re(d,y){return y(d)}function ve(d){if(!d)throw new Error("Assertion Failed")}function Ae(d){o.setImmediate?setImmediate(d):setTimeout(d,0)}function De(d,y){if(typeof y=="string"&&S(d,y))return d[y];if(!y)return d;if(typeof y!="string"){for(var _=[],w=0,R=y.length;w<R;++w){var x=De(d,y[w]);_.push(x)}return _}var O=y.indexOf(".");if(O!==-1){var L=d[y.substr(0,O)];return L==null?void 0:De(L,y.substr(O+1))}}function M(d,y,_){if(d&&y!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof y!="string"&&"length"in y){ve(typeof _!="string"&&"length"in _);for(var w=0,R=y.length;w<R;++w)M(d,y[w],_[w])}else{var x,O,L=y.indexOf(".");L!==-1?(x=y.substr(0,L),(O=y.substr(L+1))===""?_===void 0?h(d)&&!isNaN(parseInt(x))?d.splice(x,1):delete d[x]:d[x]=_:M(L=!(L=d[x])||!S(d,x)?d[x]={}:L,O,_)):_===void 0?h(d)&&!isNaN(parseInt(y))?d.splice(y,1):delete d[y]:d[y]=_}}function D(d){var y,_={};for(y in d)S(d,y)&&(_[y]=d[y]);return _}var V=[].concat;function z(d){return V.apply([],d)}var Vt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(z([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(y){return y+d+"Array"})}))).filter(function(d){return o[d]}),Q=new Set(Vt.map(function(d){return o[d]})),J=null;function j(d){return J=new WeakMap,d=function y(_){if(!_||typeof _!="object")return _;var w=J.get(_);if(w)return w;if(h(_)){w=[],J.set(_,w);for(var R=0,x=_.length;R<x;++R)w.push(y(_[R]))}else if(Q.has(_.constructor))w=_;else{var O,L=g(_);for(O in w=L===Object.prototype?{}:Object.create(L),J.set(_,w),_)S(_,O)&&(w[O]=y(_[O]))}return w}(d),J=null,d}var Dt={}.toString;function Lt(d){return Dt.call(d).slice(8,-1)}var ye=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ne=typeof ye=="symbol"?function(d){var y;return d!=null&&(y=d[ye])&&y.apply(d)}:function(){return null};function qe(d,y){return y=d.indexOf(y),0<=y&&d.splice(y,1),0<=y}var ft={};function q(d){var y,_,w,R;if(arguments.length===1){if(h(d))return d.slice();if(this===ft&&typeof d=="string")return[d];if(R=Ne(d)){for(_=[];!(w=R.next()).done;)_.push(w.value);return _}if(d==null)return[d];if(typeof(y=d.length)!="number")return[d];for(_=new Array(y);y--;)_[y]=d[y];return _}for(y=arguments.length,_=new Array(y);y--;)_[y]=arguments[y];return _}var be=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},os=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Tr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(os),Ve={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(d,y){this.name=d,this.message=y}function Ye(d,y){return d+". Errors: "+Object.keys(y).map(function(_){return y[_].toString()}).filter(function(_,w,R){return R.indexOf(_)===w}).join(`
`)}function lt(d,y,_,w){this.failures=y,this.failedKeys=w,this.successCount=_,this.message=Ye(d,y)}function et(d,y){this.name="BulkError",this.failures=Object.keys(y).map(function(_){return y[_]}),this.failuresByPos=y,this.message=Ye(d,this.failures)}Z(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Z(lt).from(Ie),Z(et).from(Ie);var cn=Tr.reduce(function(d,y){return d[y]=y+"Error",d},{}),qt=Ie,Ke=Tr.reduce(function(d,y){var _=y+"Error";function w(R,x){this.name=_,R?typeof R=="string"?(this.message="".concat(R).concat(x?`
 `+x:""),this.inner=x||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=Ve[y]||_,this.inner=null)}return Z(w).from(qt),d[y]=w,d},{});Ke.Syntax=SyntaxError,Ke.Type=TypeError,Ke.Range=RangeError;var Vi=os.reduce(function(d,y){return d[y+"Error"]=Ke[y],d},{}),Ir=Tr.reduce(function(d,y){return["Syntax","Type","Range"].indexOf(y)===-1&&(d[y+"Error"]=Ke[y]),d},{});function Tt(){}function qr(d){return d}function Ns(d,y){return d==null||d===qr?y:function(_){return y(d(_))}}function Fr(d,y){return function(){d.apply(this,arguments),y.apply(this,arguments)}}function jl(d,y){return d===Tt?y:function(){var _=d.apply(this,arguments);_!==void 0&&(arguments[0]=_);var w=this.onsuccess,R=this.onerror;this.onsuccess=null,this.onerror=null;var x=y.apply(this,arguments);return w&&(this.onsuccess=this.onsuccess?Fr(w,this.onsuccess):w),R&&(this.onerror=this.onerror?Fr(R,this.onerror):R),x!==void 0?x:_}}function xr(d,y){return d===Tt?y:function(){d.apply(this,arguments);var _=this.onsuccess,w=this.onerror;this.onsuccess=this.onerror=null,y.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?Fr(_,this.onsuccess):_),w&&(this.onerror=this.onerror?Fr(w,this.onerror):w)}}function ic(d,y){return d===Tt?y:function(_){var w=d.apply(this,arguments);m(_,w);var R=this.onsuccess,x=this.onerror;return this.onsuccess=null,this.onerror=null,_=y.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?Fr(R,this.onsuccess):R),x&&(this.onerror=this.onerror?Fr(x,this.onerror):x),w===void 0?_===void 0?void 0:_:m(w,_)}}function ko(d,y){return d===Tt?y:function(){return y.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function as(d,y){return d===Tt?y:function(){var _=d.apply(this,arguments);if(_&&typeof _.then=="function"){for(var w=this,R=arguments.length,x=new Array(R);R--;)x[R]=arguments[R];return _.then(function(){return y.apply(w,x)})}return y.apply(this,arguments)}}Ir.ModifyError=lt,Ir.DexieError=Ie,Ir.BulkError=et;var jn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ul(d){jn=d}var hi={},Ea=100,Vt=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,g(d),d];var y=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[y,g(y),d]}(),os=Vt[0],Tr=Vt[1],Vt=Vt[2],Tr=Tr&&Tr.then,vt=os&&os.constructor,Yn=!!Vt,hn=function(d,y){Kr.push([d,y]),Ta&&(queueMicrotask(Sa),Ta=!1)},wa=!0,Ta=!0,yr=[],fi=[],Mi=qr,An={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Tt,pgp:!1,env:{},finalize:Tt},Fe=An,Kr=[],Hr=0,ls=[];function Ue(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var y=this._PSD=Fe;if(typeof d!="function"){if(d!==hi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ps(this,this._value))}this._state=null,this._value=null,++y.ref,function _(w,R){try{R(function(x){if(w._state===null){if(x===w)throw new TypeError("A promise cannot be resolved with itself.");var O=w._lib&&vr();x&&typeof x.then=="function"?_(w,function(L,K){x instanceof Ue?x._then(L,K):x.then(L,K)}):(w._state=!0,w._value=x,$r(w)),O&&Li()}},Ps.bind(null,w))}catch(x){Ps(w,x)}}(this,d)}var Gr={get:function(){var d=Fe,y=Ms;function _(w,R){var x=this,O=!d.global&&(d!==Fe||y!==Ms),L=O&&!Dn(),K=new Ue(function(G,X){Vs(x,new di(Cr(w,d,O,L),Cr(R,d,O,L),G,X,d))});return this._consoleTask&&(K._consoleTask=this._consoleTask),K}return _.prototype=hi,_},set:function(d){N(this,"then",d&&d.prototype===hi?Gr:{get:function(){return d},set:Gr.set})}};function di(d,y,_,w,R){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof y=="function"?y:null,this.resolve=_,this.reject=w,this.psd=R}function Ps(d,y){var _,w;fi.push(y),d._state===null&&(_=d._lib&&vr(),y=Mi(y),d._state=!1,d._value=y,w=d,yr.some(function(R){return R._value===w._value})||yr.push(w),$r(d),_&&Li())}function $r(d){var y=d._listeners;d._listeners=[];for(var _=0,w=y.length;_<w;++_)Vs(d,y[_]);var R=d._PSD;--R.ref||R.finalize(),Hr===0&&(++Hr,hn(function(){--Hr==0&&Ft()},[]))}function Vs(d,y){if(d._state!==null){var _=d._state?y.onFulfilled:y.onRejected;if(_===null)return(d._state?y.resolve:y.reject)(d._value);++y.psd.ref,++Hr,hn(us,[_,d,y])}else d._listeners.push(y)}function us(d,y,_){try{var w,R=y._value;!y._state&&fi.length&&(fi=[]),w=jn&&y._consoleTask?y._consoleTask.run(function(){return d(R)}):d(R),y._state||fi.indexOf(R)!==-1||function(x){for(var O=yr.length;O;)if(yr[--O]._value===x._value)return yr.splice(O,1)}(y),_.resolve(w)}catch(x){_.reject(x)}finally{--Hr==0&&Ft(),--_.psd.ref||_.psd.finalize()}}function Sa(){kr(An,function(){vr()&&Li()})}function vr(){var d=wa;return Ta=wa=!1,d}function Li(){var d,y,_;do for(;0<Kr.length;)for(d=Kr,Kr=[],_=d.length,y=0;y<_;++y){var w=d[y];w[0].apply(null,w[1])}while(0<Kr.length);Ta=wa=!0}function Ft(){var d=yr;yr=[],d.forEach(function(w){w._PSD.onunhandled.call(null,w._value,w)});for(var y=ls.slice(0),_=y.length;_;)y[--_]()}function tn(d){return new Ue(hi,!1,d)}function ct(d,y){var _=Fe;return function(){var w=vr(),R=Fe;try{return Mt(_,!0),d.apply(this,arguments)}catch(x){y&&y(x)}finally{Mt(R,!1),w&&Li()}}}I(Ue.prototype,{then:Gr,_then:function(d,y){Vs(this,new di(null,null,d,y,Fe))},catch:function(d){if(arguments.length===1)return this.then(null,d);var y=d,_=arguments[1];return typeof y=="function"?this.then(null,function(w){return(w instanceof y?_:tn)(w)}):this.then(null,function(w){return(w&&w.name===y?_:tn)(w)})},finally:function(d){return this.then(function(y){return Ue.resolve(d()).then(function(){return y})},function(y){return Ue.resolve(d()).then(function(){return tn(y)})})},timeout:function(d,y){var _=this;return d<1/0?new Ue(function(w,R){var x=setTimeout(function(){return R(new Ke.Timeout(y))},d);_.then(w,R).finally(clearTimeout.bind(null,x))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&N(Ue.prototype,Symbol.toStringTag,"Dexie.Promise"),An.env=Ra(),I(Ue,{all:function(){var d=q.apply(null,arguments).map(_r);return new Ue(function(y,_){d.length===0&&y([]);var w=d.length;d.forEach(function(R,x){return Ue.resolve(R).then(function(O){d[x]=O,--w||y(d)},_)})})},resolve:function(d){return d instanceof Ue?d:d&&typeof d.then=="function"?new Ue(function(y,_){d.then(y,_)}):new Ue(hi,!0,d)},reject:tn,race:function(){var d=q.apply(null,arguments).map(_r);return new Ue(function(y,_){d.map(function(w){return Ue.resolve(w).then(y,_)})})},PSD:{get:function(){return Fe},set:function(d){return Fe=d}},totalEchoes:{get:function(){return Ms}},newPSD:Xn,usePSD:kr,scheduler:{get:function(){return hn},set:function(d){hn=d}},rejectionMapper:{get:function(){return Mi},set:function(d){Mi=d}},follow:function(d,y){return new Ue(function(_,w){return Xn(function(R,x){var O=Fe;O.unhandleds=[],O.onunhandled=x,O.finalize=Fr(function(){var L,K=this;L=function(){K.unhandleds.length===0?R():x(K.unhandleds[0])},ls.push(function G(){L(),ls.splice(ls.indexOf(G),1)}),++Hr,hn(function(){--Hr==0&&Ft()},[])},O.finalize),d()},y,_,w)})}}),vt&&(vt.allSettled&&N(Ue,"allSettled",function(){var d=q.apply(null,arguments).map(_r);return new Ue(function(y){d.length===0&&y([]);var _=d.length,w=new Array(_);d.forEach(function(R,x){return Ue.resolve(R).then(function(O){return w[x]={status:"fulfilled",value:O}},function(O){return w[x]={status:"rejected",reason:O}}).then(function(){return--_||y(w)})})})}),vt.any&&typeof AggregateError<"u"&&N(Ue,"any",function(){var d=q.apply(null,arguments).map(_r);return new Ue(function(y,_){d.length===0&&_(new AggregateError([]));var w=d.length,R=new Array(w);d.forEach(function(x,O){return Ue.resolve(x).then(function(L){return y(L)},function(L){R[O]=L,--w||_(new AggregateError(R))})})})}),vt.withResolvers&&(Ue.withResolvers=vt.withResolvers));var Nt={awaits:0,echoes:0,id:0},Co=0,Aa=[],Qr=0,Ms=0,Ls=0;function Xn(d,y,_,w){var R=Fe,x=Object.create(R);return x.parent=R,x.ref=0,x.global=!1,x.id=++Ls,An.env,x.env=Yn?{Promise:Ue,PromiseProp:{value:Ue,configurable:!0,writable:!0},all:Ue.all,race:Ue.race,allSettled:Ue.allSettled,any:Ue.any,resolve:Ue.resolve,reject:Ue.reject}:{},y&&m(x,y),++R.ref,x.finalize=function(){--this.parent.ref||this.parent.finalize()},w=kr(x,d,_,w),x.ref===0&&x.finalize(),w}function sr(){return Nt.id||(Nt.id=++Co),++Nt.awaits,Nt.echoes+=Ea,Nt.id}function Dn(){return!!Nt.awaits&&(--Nt.awaits==0&&(Nt.id=0),Nt.echoes=Nt.awaits*Ea,!0)}function _r(d){return Nt.echoes&&d&&d.constructor===vt?(sr(),d.then(function(y){return Dn(),y},function(y){return Dn(),Wt(y)})):d}function Wn(){var d=Aa[Aa.length-1];Aa.pop(),Mt(d,!1)}function Mt(d,y){var _,w=Fe;(y?!Nt.echoes||Qr++&&d===Fe:!Qr||--Qr&&d===Fe)||queueMicrotask(y?(function(R){++Ms,Nt.echoes&&--Nt.echoes!=0||(Nt.echoes=Nt.awaits=Nt.id=0),Aa.push(Fe),Mt(R,!0)}).bind(null,d):Wn),d!==Fe&&(Fe=d,w===An&&(An.env=Ra()),Yn&&(_=An.env.Promise,y=d.env,(w.global||d.global)&&(Object.defineProperty(o,"Promise",y.PromiseProp),_.all=y.all,_.race=y.race,_.resolve=y.resolve,_.reject=y.reject,y.allSettled&&(_.allSettled=y.allSettled),y.any&&(_.any=y.any))))}function Ra(){var d=o.Promise;return Yn?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function kr(d,y,_,w,R){var x=Fe;try{return Mt(d,!0),y(_,w,R)}finally{Mt(x,!1)}}function Cr(d,y,_,w){return typeof d!="function"?d:function(){var R=Fe;_&&sr(),Mt(y,!0);try{return d.apply(this,arguments)}finally{Mt(R,!1),w&&queueMicrotask(Dn)}}}function Yr(d){Promise===vt&&Nt.echoes===0?Qr===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+Tr).indexOf("[native code]")===-1&&(sr=Dn=Tt);var Wt=Ue.reject,mi="",Jn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Oo="String expected.",br=[],Er="__dbnames",gn="readonly",ji="readwrite";function pi(d,y){return d?y?function(){return d.apply(this,arguments)&&y.apply(this,arguments)}:d:y}var gi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ui(d){return typeof d!="string"||/\./.test(d)?function(y){return y}:function(y){return y[d]===void 0&&d in y&&delete(y=j(y))[d],y}}function js(){throw Ke.Type()}function dt(d,y){try{var _=Us(d),w=Us(y);if(_!==w)return _==="Array"?1:w==="Array"?-1:_==="binary"?1:w==="binary"?-1:_==="string"?1:w==="string"?-1:_==="Date"?1:w!=="Date"?NaN:-1;switch(_){case"number":case"Date":case"string":return y<d?1:d<y?-1:0;case"binary":return function(R,x){for(var O=R.length,L=x.length,K=O<L?O:L,G=0;G<K;++G)if(R[G]!==x[G])return R[G]<x[G]?-1:1;return O===L?0:O<L?-1:1}(Un(d),Un(y));case"Array":return function(R,x){for(var O=R.length,L=x.length,K=O<L?O:L,G=0;G<K;++G){var X=dt(R[G],x[G]);if(X!==0)return X}return O===L?0:O<L?-1:1}(d,y)}}catch{}return NaN}function Us(d){var y=typeof d;return y!="object"?y:ArrayBuffer.isView(d)?"binary":(d=Lt(d),d==="ArrayBuffer"?"binary":d)}function Un(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}var Ia=(jt.prototype._trans=function(d,y,_){var w=this._tx||Fe.trans,R=this.name,x=jn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function O(G,X,B){if(!B.schema[R])throw new Ke.NotFound("Table "+R+" not part of transaction");return y(B.idbtrans,B)}var L=vr();try{var K=w&&w.db._novip===this.db._novip?w===Fe.trans?w._promise(d,O,_):Xn(function(){return w._promise(d,O,_)},{trans:w,transless:Fe.transless||Fe}):function G(X,B,te,F){if(X.idbdb&&(X._state.openComplete||Fe.letThrough||X._vip)){var Y=X._createTransaction(B,te,X._dbSchema);try{Y.create(),X._state.PR1398_maxLoop=3}catch(ie){return ie.name===cn.InvalidState&&X.isOpen()&&0<--X._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),X.close({disableAutoOpen:!1}),X.open().then(function(){return G(X,B,te,F)})):Wt(ie)}return Y._promise(B,function(ie,$){return Xn(function(){return Fe.trans=Y,F(ie,$,Y)})}).then(function(ie){if(B==="readwrite")try{Y.idbtrans.commit()}catch{}return B==="readonly"?ie:Y._completion.then(function(){return ie})})}if(X._state.openComplete)return Wt(new Ke.DatabaseClosed(X._state.dbOpenError));if(!X._state.isBeingOpened){if(!X._state.autoOpen)return Wt(new Ke.DatabaseClosed);X.open().catch(Tt)}return X._state.dbReadyPromise.then(function(){return G(X,B,te,F)})}(this.db,d,[this.name],O);return x&&(K._consoleTask=x,K=K.catch(function(G){return console.trace(G),Wt(G)})),K}finally{L&&Li()}},jt.prototype.get=function(d,y){var _=this;return d&&d.constructor===Object?this.where(d).first(y):d==null?Wt(new Ke.Type("Invalid argument to Table.get()")):this._trans("readonly",function(w){return _.core.get({trans:w,key:d}).then(function(R){return _.hook.reading.fire(R)})}).then(y)},jt.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(h(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var y=u(d);if(y.length===1)return this.where(y[0]).equals(d[y[0]]);var _=this.schema.indexes.concat(this.schema.primKey).filter(function(L){if(L.compound&&y.every(function(G){return 0<=L.keyPath.indexOf(G)})){for(var K=0;K<y.length;++K)if(y.indexOf(L.keyPath[K])===-1)return!1;return!0}return!1}).sort(function(L,K){return L.keyPath.length-K.keyPath.length})[0];if(_&&this.db._maxKey!==mi){var x=_.keyPath.slice(0,y.length);return this.where(x).equals(x.map(function(K){return d[K]}))}!_&&jn&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(y.join("+"),"]"));var w=this.schema.idxByName;function R(L,K){return dt(L,K)===0}var O=y.reduce(function(B,K){var G=B[0],X=B[1],B=w[K],te=d[K];return[G||B,G||!B?pi(X,B&&B.multi?function(F){return F=De(F,K),h(F)&&F.some(function(Y){return R(te,Y)})}:function(F){return R(te,De(F,K))}):X]},[null,null]),x=O[0],O=O[1];return x?this.where(x.name).equals(d[x.keyPath]).filter(O):_?this.filter(O):this.where(y).equals("")},jt.prototype.filter=function(d){return this.toCollection().and(d)},jt.prototype.count=function(d){return this.toCollection().count(d)},jt.prototype.offset=function(d){return this.toCollection().offset(d)},jt.prototype.limit=function(d){return this.toCollection().limit(d)},jt.prototype.each=function(d){return this.toCollection().each(d)},jt.prototype.toArray=function(d){return this.toCollection().toArray(d)},jt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},jt.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,h(d)?"[".concat(d.join("+"),"]"):d))},jt.prototype.reverse=function(){return this.toCollection().reverse()},jt.prototype.mapToClass=function(d){var y,_=this.db,w=this.name;function R(){return y!==null&&y.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof js&&(function(K,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");function X(){this.constructor=K}t(K,G),K.prototype=G===null?Object.create(G):(X.prototype=G.prototype,new X)}(R,y=d),Object.defineProperty(R.prototype,"db",{get:function(){return _},enumerable:!1,configurable:!0}),R.prototype.table=function(){return w},d=R);for(var x=new Set,O=d.prototype;O;O=g(O))Object.getOwnPropertyNames(O).forEach(function(K){return x.add(K)});function L(K){if(!K)return K;var G,X=Object.create(d.prototype);for(G in K)if(!x.has(G))try{X[G]=K[G]}catch{}return X}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=L,this.hook("reading",L),d},jt.prototype.defineClass=function(){return this.mapToClass(function(d){m(this,d)})},jt.prototype.add=function(d,y){var _=this,w=this.schema.primKey,R=w.auto,x=w.keyPath,O=d;return x&&R&&(O=Ui(x)(d)),this._trans("readwrite",function(L){return _.core.mutate({trans:L,type:"add",keys:y!=null?[y]:null,values:[O]})}).then(function(L){return L.numFailures?Ue.reject(L.failures[0]):L.lastResult}).then(function(L){if(x)try{M(d,x,L)}catch{}return L})},jt.prototype.update=function(d,y){return typeof d!="object"||h(d)?this.where(":id").equals(d).modify(y):(d=De(d,this.schema.primKey.keyPath),d===void 0?Wt(new Ke.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(y))},jt.prototype.put=function(d,y){var _=this,w=this.schema.primKey,R=w.auto,x=w.keyPath,O=d;return x&&R&&(O=Ui(x)(d)),this._trans("readwrite",function(L){return _.core.mutate({trans:L,type:"put",values:[O],keys:y!=null?[y]:null})}).then(function(L){return L.numFailures?Ue.reject(L.failures[0]):L.lastResult}).then(function(L){if(x)try{M(d,x,L)}catch{}return L})},jt.prototype.delete=function(d){var y=this;return this._trans("readwrite",function(_){return y.core.mutate({trans:_,type:"delete",keys:[d]})}).then(function(_){return _.numFailures?Ue.reject(_.failures[0]):void 0})},jt.prototype.clear=function(){var d=this;return this._trans("readwrite",function(y){return d.core.mutate({trans:y,type:"deleteRange",range:gi})}).then(function(y){return y.numFailures?Ue.reject(y.failures[0]):void 0})},jt.prototype.bulkGet=function(d){var y=this;return this._trans("readonly",function(_){return y.core.getMany({keys:d,trans:_}).then(function(w){return w.map(function(R){return y.hook.reading.fire(R)})})})},jt.prototype.bulkAdd=function(d,y,_){var w=this,R=Array.isArray(y)?y:void 0,x=(_=_||(R?void 0:y))?_.allKeys:void 0;return this._trans("readwrite",function(O){var G=w.schema.primKey,L=G.auto,G=G.keyPath;if(G&&R)throw new Ke.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==d.length)throw new Ke.InvalidArgument("Arguments objects and keys must have the same length");var K=d.length,G=G&&L?d.map(Ui(G)):d;return w.core.mutate({trans:O,type:"add",keys:R,values:G,wantResults:x}).then(function(Y){var B=Y.numFailures,te=Y.results,F=Y.lastResult,Y=Y.failures;if(B===0)return x?te:F;throw new et("".concat(w.name,".bulkAdd(): ").concat(B," of ").concat(K," operations failed"),Y)})})},jt.prototype.bulkPut=function(d,y,_){var w=this,R=Array.isArray(y)?y:void 0,x=(_=_||(R?void 0:y))?_.allKeys:void 0;return this._trans("readwrite",function(O){var G=w.schema.primKey,L=G.auto,G=G.keyPath;if(G&&R)throw new Ke.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==d.length)throw new Ke.InvalidArgument("Arguments objects and keys must have the same length");var K=d.length,G=G&&L?d.map(Ui(G)):d;return w.core.mutate({trans:O,type:"put",keys:R,values:G,wantResults:x}).then(function(Y){var B=Y.numFailures,te=Y.results,F=Y.lastResult,Y=Y.failures;if(B===0)return x?te:F;throw new et("".concat(w.name,".bulkPut(): ").concat(B," of ").concat(K," operations failed"),Y)})})},jt.prototype.bulkUpdate=function(d){var y=this,_=this.core,w=d.map(function(O){return O.key}),R=d.map(function(O){return O.changes}),x=[];return this._trans("readwrite",function(O){return _.getMany({trans:O,keys:w,cache:"clone"}).then(function(L){var K=[],G=[];d.forEach(function(B,te){var F=B.key,Y=B.changes,ie=L[te];if(ie){for(var $=0,ue=Object.keys(Y);$<ue.length;$++){var fe=ue[$],de=Y[fe];if(fe===y.schema.primKey.keyPath){if(dt(de,F)!==0)throw new Ke.Constraint("Cannot update primary key in bulkUpdate()")}else M(ie,fe,de)}x.push(te),K.push(F),G.push(ie)}});var X=K.length;return _.mutate({trans:O,type:"put",keys:K,values:G,updates:{keys:w,changeSpecs:R}}).then(function(B){var te=B.numFailures,F=B.failures;if(te===0)return X;for(var Y=0,ie=Object.keys(F);Y<ie.length;Y++){var $,ue=ie[Y],fe=x[Number(ue)];fe!=null&&($=F[ue],delete F[ue],F[fe]=$)}throw new et("".concat(y.name,".bulkUpdate(): ").concat(te," of ").concat(X," operations failed"),F)})})})},jt.prototype.bulkDelete=function(d){var y=this,_=d.length;return this._trans("readwrite",function(w){return y.core.mutate({trans:w,type:"delete",keys:d})}).then(function(O){var R=O.numFailures,x=O.lastResult,O=O.failures;if(R===0)return x;throw new et("".concat(y.name,".bulkDelete(): ").concat(R," of ").concat(_," operations failed"),O)})},jt);function jt(){}function yi(d){function y(O,L){if(L){for(var K=arguments.length,G=new Array(K-1);--K;)G[K-1]=arguments[K];return _[O].subscribe.apply(null,G),d}if(typeof O=="string")return _[O]}var _={};y.addEventType=x;for(var w=1,R=arguments.length;w<R;++w)x(arguments[w]);return y;function x(O,L,K){if(typeof O!="object"){var G;L=L||ko;var X={subscribers:[],fire:K=K||Tt,subscribe:function(B){X.subscribers.indexOf(B)===-1&&(X.subscribers.push(B),X.fire=L(X.fire,B))},unsubscribe:function(B){X.subscribers=X.subscribers.filter(function(te){return te!==B}),X.fire=X.subscribers.reduce(L,K)}};return _[O]=y[O]=X}u(G=O).forEach(function(B){var te=G[B];if(h(te))x(B,G[B][0],G[B][1]);else{if(te!=="asap")throw new Ke.InvalidArgument("Invalid event config");var F=x(B,qr,function(){for(var Y=arguments.length,ie=new Array(Y);Y--;)ie[Y]=arguments[Y];F.subscribers.forEach(function($){Ae(function(){$.apply(null,ie)})})})}})}}function zi(d,y){return Z(y).from({prototype:d}),y}function Or(d,y){return!(d.filter||d.algorithm||d.or)&&(y?d.justLimit:!d.replayFilter)}function Do(d,y){d.filter=pi(d.filter,y)}function nn(d,y,_){var w=d.replayFilter;d.replayFilter=w?function(){return pi(w(),y())}:y,d.justLimit=_&&!w}function zn(d,y){if(d.isPrimKey)return y.primaryKey;var _=y.getIndexByKeyPath(d.index);if(!_)throw new Ke.Schema("KeyPath "+d.index+" on object store "+y.name+" is not indexed");return _}function cs(d,y,_){var w=zn(d,y.schema);return y.openCursor({trans:_,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:w,range:d.range}})}function Xr(d,y,_,w){var R=d.replayFilter?pi(d.filter,d.replayFilter()):d.filter;if(d.or){var x={},O=function(L,K,G){var X,B;R&&!R(K,G,function(te){return K.stop(te)},function(te){return K.fail(te)})||((B=""+(X=K.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(X)),S(x,B)||(x[B]=!0,y(L,K,G)))};return Promise.all([d.or._iterate(O,_),vi(cs(d,w,_),d.algorithm,O,!d.keysOnly&&d.valueMapper)])}return vi(cs(d,w,_),pi(d.algorithm,R),y,!d.keysOnly&&d.valueMapper)}function vi(d,y,_,w){var R=ct(w?function(x,O,L){return _(w(x),O,L)}:_);return d.then(function(x){if(x)return x.start(function(){var O=function(){return x.continue()};y&&!y(x,function(L){return O=L},function(L){x.stop(L),O=Tt},function(L){x.fail(L),O=Tt})||R(x.value,x,function(L){return O=L}),O()})})}var It=(hs.prototype.execute=function(d){var y=this["@@propmod"];if(y.add!==void 0){var _=y.add;if(h(_))return a(a([],h(d)?d:[],!0),_).sort();if(typeof _=="number")return(Number(d)||0)+_;if(typeof _=="bigint")try{return BigInt(d)+_}catch{return BigInt(0)+_}throw new TypeError("Invalid term ".concat(_))}if(y.remove!==void 0){var w=y.remove;if(h(w))return h(d)?d.filter(function(R){return!w.includes(R)}).sort():[];if(typeof w=="number")return Number(d)-w;if(typeof w=="bigint")try{return BigInt(d)-w}catch{return BigInt(0)-w}throw new TypeError("Invalid subtrahend ".concat(w))}return _=(_=y.replacePrefix)===null||_===void 0?void 0:_[0],_&&typeof d=="string"&&d.startsWith(_)?y.replacePrefix[1]+d.substring(_.length):d},hs);function hs(d){this["@@propmod"]=d}var Dr=(pt.prototype._read=function(d,y){var _=this._ctx;return _.error?_.table._trans(null,Wt.bind(null,_.error)):_.table._trans("readonly",d).then(y)},pt.prototype._write=function(d){var y=this._ctx;return y.error?y.table._trans(null,Wt.bind(null,y.error)):y.table._trans("readwrite",d,"locked")},pt.prototype._addAlgorithm=function(d){var y=this._ctx;y.algorithm=pi(y.algorithm,d)},pt.prototype._iterate=function(d,y){return Xr(this._ctx,d,y,this._ctx.table.core)},pt.prototype.clone=function(d){var y=Object.create(this.constructor.prototype),_=Object.create(this._ctx);return d&&m(_,d),y._ctx=_,y},pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},pt.prototype.each=function(d){var y=this._ctx;return this._read(function(_){return Xr(y,d,_,y.table.core)})},pt.prototype.count=function(d){var y=this;return this._read(function(_){var w=y._ctx,R=w.table.core;if(Or(w,!0))return R.count({trans:_,query:{index:zn(w,R.schema),range:w.range}}).then(function(O){return Math.min(O,w.limit)});var x=0;return Xr(w,function(){return++x,!1},_,R).then(function(){return x})}).then(d)},pt.prototype.sortBy=function(d,y){var _=d.split(".").reverse(),w=_[0],R=_.length-1;function x(K,G){return G?x(K[_[G]],G-1):K[w]}var O=this._ctx.dir==="next"?1:-1;function L(K,G){return dt(x(K,R),x(G,R))*O}return this.toArray(function(K){return K.sort(L)}).then(y)},pt.prototype.toArray=function(d){var y=this;return this._read(function(_){var w=y._ctx;if(w.dir==="next"&&Or(w,!0)&&0<w.limit){var R=w.valueMapper,x=zn(w,w.table.core.schema);return w.table.core.query({trans:_,limit:w.limit,values:!0,query:{index:x,range:w.range}}).then(function(L){return L=L.result,R?L.map(R):L})}var O=[];return Xr(w,function(L){return O.push(L)},_,w.table.core).then(function(){return O})},d)},pt.prototype.offset=function(d){var y=this._ctx;return d<=0||(y.offset+=d,Or(y)?nn(y,function(){var _=d;return function(w,R){return _===0||(_===1?--_:R(function(){w.advance(_),_=0}),!1)}}):nn(y,function(){var _=d;return function(){return--_<0}})),this},pt.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),nn(this._ctx,function(){var y=d;return function(_,w,R){return--y<=0&&w(R),0<=y}},!0),this},pt.prototype.until=function(d,y){return Do(this._ctx,function(_,w,R){return!d(_.value)||(w(R),y)}),this},pt.prototype.first=function(d){return this.limit(1).toArray(function(y){return y[0]}).then(d)},pt.prototype.last=function(d){return this.reverse().first(d)},pt.prototype.filter=function(d){var y;return Do(this._ctx,function(_){return d(_.value)}),(y=this._ctx).isMatch=pi(y.isMatch,d),this},pt.prototype.and=function(d){return this.filter(d)},pt.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},pt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},pt.prototype.desc=function(){return this.reverse()},pt.prototype.eachKey=function(d){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(_,w){d(w.key,w)})},pt.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},pt.prototype.eachPrimaryKey=function(d){var y=this._ctx;return y.keysOnly=!y.isMatch,this.each(function(_,w){d(w.primaryKey,w)})},pt.prototype.keys=function(d){var y=this._ctx;y.keysOnly=!y.isMatch;var _=[];return this.each(function(w,R){_.push(R.key)}).then(function(){return _}).then(d)},pt.prototype.primaryKeys=function(d){var y=this._ctx;if(y.dir==="next"&&Or(y,!0)&&0<y.limit)return this._read(function(w){var R=zn(y,y.table.core.schema);return y.table.core.query({trans:w,values:!1,limit:y.limit,query:{index:R,range:y.range}})}).then(function(w){return w.result}).then(d);y.keysOnly=!y.isMatch;var _=[];return this.each(function(w,R){_.push(R.primaryKey)}).then(function(){return _}).then(d)},pt.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},pt.prototype.firstKey=function(d){return this.limit(1).keys(function(y){return y[0]}).then(d)},pt.prototype.lastKey=function(d){return this.reverse().firstKey(d)},pt.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var y={};return Do(this._ctx,function(R){var w=R.primaryKey.toString(),R=S(y,w);return y[w]=!0,!R}),this},pt.prototype.modify=function(d){var y=this,_=this._ctx;return this._write(function(w){var R,x,O;O=typeof d=="function"?d:(R=u(d),x=R.length,function($){for(var ue=!1,fe=0;fe<x;++fe){var de=R[fe],Ee=d[de],Oe=De($,de);Ee instanceof It?(M($,de,Ee.execute(Oe)),ue=!0):Oe!==Ee&&(M($,de,Ee),ue=!0)}return ue});var L=_.table.core,B=L.schema.primaryKey,K=B.outbound,G=B.extractKey,X=200,B=y.db._options.modifyChunkSize;B&&(X=typeof B=="object"?B[L.name]||B["*"]||200:B);function te($,de){var fe=de.failures,de=de.numFailures;Y+=$-de;for(var Ee=0,Oe=u(fe);Ee<Oe.length;Ee++){var Le=Oe[Ee];F.push(fe[Le])}}var F=[],Y=0,ie=[];return y.clone().primaryKeys().then(function($){function ue(de){var Ee=Math.min(X,$.length-de);return L.getMany({trans:w,keys:$.slice(de,de+Ee),cache:"immutable"}).then(function(Oe){for(var Le=[],ke=[],Pe=K?[]:null,je=[],Ce=0;Ce<Ee;++Ce){var Be=Oe[Ce],Je={value:j(Be),primKey:$[de+Ce]};O.call(Je,Je.value,Je)!==!1&&(Je.value==null?je.push($[de+Ce]):K||dt(G(Be),G(Je.value))===0?(ke.push(Je.value),K&&Pe.push($[de+Ce])):(je.push($[de+Ce]),Le.push(Je.value)))}return Promise.resolve(0<Le.length&&L.mutate({trans:w,type:"add",values:Le}).then(function(tt){for(var ht in tt.failures)je.splice(parseInt(ht),1);te(Le.length,tt)})).then(function(){return(0<ke.length||fe&&typeof d=="object")&&L.mutate({trans:w,type:"put",keys:Pe,values:ke,criteria:fe,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<de}).then(function(tt){return te(ke.length,tt)})}).then(function(){return(0<je.length||fe&&d===xa)&&L.mutate({trans:w,type:"delete",keys:je,criteria:fe,isAdditionalChunk:0<de}).then(function(tt){return te(je.length,tt)})}).then(function(){return $.length>de+Ee&&ue(de+X)})})}var fe=Or(_)&&_.limit===1/0&&(typeof d!="function"||d===xa)&&{index:_.index,range:_.range};return ue(0).then(function(){if(0<F.length)throw new lt("Error modifying one or more objects",F,Y,ie);return $.length})})})},pt.prototype.delete=function(){var d=this._ctx,y=d.range;return Or(d)&&(d.isPrimKey||y.type===3)?this._write(function(_){var w=d.table.core.schema.primaryKey,R=y;return d.table.core.count({trans:_,query:{index:w,range:R}}).then(function(x){return d.table.core.mutate({trans:_,type:"deleteRange",range:R}).then(function(O){var L=O.failures;if(O.lastResult,O.results,O=O.numFailures,O)throw new lt("Could not delete some values",Object.keys(L).map(function(K){return L[K]}),x-O);return x-O})})}):this.modify(xa)},pt);function pt(){}var xa=function(d,y){return y.value=null};function No(d,y){return d<y?-1:d===y?0:1}function Po(d,y){return y<d?-1:d===y?0:1}function Zn(d,y,_){return d=d instanceof _i?new d.Collection(d):d,d._ctx.error=new(_||TypeError)(y),d}function fs(d){return new d.Collection(d,function(){return wr("")}).limit(0)}function Bi(d,y,_,w){var R,x,O,L,K,G,X,B=_.length;if(!_.every(function(Y){return typeof Y=="string"}))return Zn(d,Oo);function te(Y){R=Y==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},x=Y==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},O=Y==="next"?No:Po;var ie=_.map(function($){return{lower:x($),upper:R($)}}).sort(function($,ue){return O($.lower,ue.lower)});L=ie.map(function($){return $.upper}),K=ie.map(function($){return $.lower}),X=(G=Y)==="next"?"":w}te("next"),d=new d.Collection(d,function(){return Bn(L[0],K[B-1]+w)}),d._ondirectionchange=function(Y){te(Y)};var F=0;return d._addAlgorithm(function(Y,ie,$){var ue=Y.key;if(typeof ue!="string")return!1;var fe=x(ue);if(y(fe,K,F))return!0;for(var de=null,Ee=F;Ee<B;++Ee){var Oe=function(Le,ke,Pe,je,Ce,Be){for(var Je=Math.min(Le.length,je.length),tt=-1,ht=0;ht<Je;++ht){var er=ke[ht];if(er!==je[ht])return Ce(Le[ht],Pe[ht])<0?Le.substr(0,ht)+Pe[ht]+Pe.substr(ht+1):Ce(Le[ht],je[ht])<0?Le.substr(0,ht)+je[ht]+Pe.substr(ht+1):0<=tt?Le.substr(0,tt)+ke[tt]+Pe.substr(tt+1):null;Ce(Le[ht],er)<0&&(tt=ht)}return Je<je.length&&Be==="next"?Le+Pe.substr(Le.length):Je<Le.length&&Be==="prev"?Le.substr(0,Pe.length):tt<0?null:Le.substr(0,tt)+je[tt]+Pe.substr(tt+1)}(ue,fe,L[Ee],K[Ee],O,G);Oe===null&&de===null?F=Ee+1:(de===null||0<O(de,Oe))&&(de=Oe)}return ie(de!==null?function(){Y.continue(de+X)}:$),!1}),d}function Bn(d,y,_,w){return{type:2,lower:d,upper:y,lowerOpen:_,upperOpen:w}}function wr(d){return{type:1,lower:d,upper:d}}var _i=(Object.defineProperty(Kt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Kt.prototype.between=function(d,y,_,w){_=_!==!1,w=w===!0;try{return 0<this._cmp(d,y)||this._cmp(d,y)===0&&(_||w)&&(!_||!w)?fs(this):new this.Collection(this,function(){return Bn(d,y,!_,!w)})}catch{return Zn(this,Jn)}},Kt.prototype.equals=function(d){return d==null?Zn(this,Jn):new this.Collection(this,function(){return wr(d)})},Kt.prototype.above=function(d){return d==null?Zn(this,Jn):new this.Collection(this,function(){return Bn(d,void 0,!0)})},Kt.prototype.aboveOrEqual=function(d){return d==null?Zn(this,Jn):new this.Collection(this,function(){return Bn(d,void 0,!1)})},Kt.prototype.below=function(d){return d==null?Zn(this,Jn):new this.Collection(this,function(){return Bn(void 0,d,!1,!0)})},Kt.prototype.belowOrEqual=function(d){return d==null?Zn(this,Jn):new this.Collection(this,function(){return Bn(void 0,d)})},Kt.prototype.startsWith=function(d){return typeof d!="string"?Zn(this,Oo):this.between(d,d+mi,!0,!0)},Kt.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):Bi(this,function(y,_){return y.indexOf(_[0])===0},[d],mi)},Kt.prototype.equalsIgnoreCase=function(d){return Bi(this,function(y,_){return y===_[0]},[d],"")},Kt.prototype.anyOfIgnoreCase=function(){var d=q.apply(ft,arguments);return d.length===0?fs(this):Bi(this,function(y,_){return _.indexOf(y)!==-1},d,"")},Kt.prototype.startsWithAnyOfIgnoreCase=function(){var d=q.apply(ft,arguments);return d.length===0?fs(this):Bi(this,function(y,_){return _.some(function(w){return y.indexOf(w)===0})},d,mi)},Kt.prototype.anyOf=function(){var d=this,y=q.apply(ft,arguments),_=this._cmp;try{y.sort(_)}catch{return Zn(this,Jn)}if(y.length===0)return fs(this);var w=new this.Collection(this,function(){return Bn(y[0],y[y.length-1])});w._ondirectionchange=function(x){_=x==="next"?d._ascending:d._descending,y.sort(_)};var R=0;return w._addAlgorithm(function(x,O,L){for(var K=x.key;0<_(K,y[R]);)if(++R===y.length)return O(L),!1;return _(K,y[R])===0||(O(function(){x.continue(y[R])}),!1)}),w},Kt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Kt.prototype.noneOf=function(){var d=q.apply(ft,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Zn(this,Jn)}var y=d.reduce(function(_,w){return _?_.concat([[_[_.length-1][1],w]]):[[-1/0,w]]},null);return y.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(y,{includeLowers:!1,includeUppers:!1})},Kt.prototype.inAnyRange=function(ue,y){var _=this,w=this._cmp,R=this._ascending,x=this._descending,O=this._min,L=this._max;if(ue.length===0)return fs(this);if(!ue.every(function(fe){return fe[0]!==void 0&&fe[1]!==void 0&&R(fe[0],fe[1])<=0}))return Zn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ke.InvalidArgument);var K=!y||y.includeLowers!==!1,G=y&&y.includeUppers===!0,X,B=R;function te(fe,de){return B(fe[0],de[0])}try{(X=ue.reduce(function(fe,de){for(var Ee=0,Oe=fe.length;Ee<Oe;++Ee){var Le=fe[Ee];if(w(de[0],Le[1])<0&&0<w(de[1],Le[0])){Le[0]=O(Le[0],de[0]),Le[1]=L(Le[1],de[1]);break}}return Ee===Oe&&fe.push(de),fe},[])).sort(te)}catch{return Zn(this,Jn)}var F=0,Y=G?function(fe){return 0<R(fe,X[F][1])}:function(fe){return 0<=R(fe,X[F][1])},ie=K?function(fe){return 0<x(fe,X[F][0])}:function(fe){return 0<=x(fe,X[F][0])},$=Y,ue=new this.Collection(this,function(){return Bn(X[0][0],X[X.length-1][1],!K,!G)});return ue._ondirectionchange=function(fe){B=fe==="next"?($=Y,R):($=ie,x),X.sort(te)},ue._addAlgorithm(function(fe,de,Ee){for(var Oe,Le=fe.key;$(Le);)if(++F===X.length)return de(Ee),!1;return!Y(Oe=Le)&&!ie(Oe)||(_._cmp(Le,X[F][1])===0||_._cmp(Le,X[F][0])===0||de(function(){B===R?fe.continue(X[F][0]):fe.continue(X[F][1])}),!1)}),ue},Kt.prototype.startsWithAnyOf=function(){var d=q.apply(ft,arguments);return d.every(function(y){return typeof y=="string"})?d.length===0?fs(this):this.inAnyRange(d.map(function(y){return[y,y+mi]})):Zn(this,"startsWithAnyOf() only works with strings")},Kt);function Kt(){}function ar(d){return ct(function(y){return or(y),d(y.target.error),!1})}function or(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var ds="storagemutated",qi="x-storagemutated-1",Rn=yi(null,ds),Nr=(qn.prototype._lock=function(){return ve(!Fe.global),++this._reculock,this._reculock!==1||Fe.global||(Fe.lockOwnerFor=this),this},qn.prototype._unlock=function(){if(ve(!Fe.global),--this._reculock==0)for(Fe.global||(Fe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{kr(d[1],d[0])}catch{}}return this},qn.prototype._locked=function(){return this._reculock&&Fe.lockOwnerFor!==this},qn.prototype.create=function(d){var y=this;if(!this.mode)return this;var _=this.db.idbdb,w=this.db._state.dbOpenError;if(ve(!this.idbtrans),!d&&!_)switch(w&&w.name){case"DatabaseClosedError":throw new Ke.DatabaseClosed(w);case"MissingAPIError":throw new Ke.MissingAPI(w.message,w);default:throw new Ke.OpenFailed(w)}if(!this.active)throw new Ke.TransactionInactive;return ve(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||_).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ct(function(R){or(R),y._reject(d.error)}),d.onabort=ct(function(R){or(R),y.active&&y._reject(new Ke.Abort(d.error)),y.active=!1,y.on("abort").fire(R)}),d.oncomplete=ct(function(){y.active=!1,y._resolve(),"mutatedParts"in d&&Rn.storagemutated.fire(d.mutatedParts)}),this},qn.prototype._promise=function(d,y,_){var w=this;if(d==="readwrite"&&this.mode!=="readwrite")return Wt(new Ke.ReadOnly("Transaction is readonly"));if(!this.active)return Wt(new Ke.TransactionInactive);if(this._locked())return new Ue(function(x,O){w._blockedFuncs.push([function(){w._promise(d,y,_).then(x,O)},Fe])});if(_)return Xn(function(){var x=new Ue(function(O,L){w._lock();var K=y(O,L,w);K&&K.then&&K.then(O,L)});return x.finally(function(){return w._unlock()}),x._lib=!0,x});var R=new Ue(function(x,O){var L=y(x,O,w);L&&L.then&&L.then(x,O)});return R._lib=!0,R},qn.prototype._root=function(){return this.parent?this.parent._root():this},qn.prototype.waitFor=function(d){var y,_=this._root(),w=Ue.resolve(d);_._waitingFor?_._waitingFor=_._waitingFor.then(function(){return w}):(_._waitingFor=w,_._waitingQueue=[],y=_.idbtrans.objectStore(_.storeNames[0]),function x(){for(++_._spinCount;_._waitingQueue.length;)_._waitingQueue.shift()();_._waitingFor&&(y.get(-1/0).onsuccess=x)}());var R=_._waitingFor;return new Ue(function(x,O){w.then(function(L){return _._waitingQueue.push(ct(x.bind(null,L)))},function(L){return _._waitingQueue.push(ct(O.bind(null,L)))}).finally(function(){_._waitingFor===R&&(_._waitingFor=null)})})},qn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ke.Abort))},qn.prototype.table=function(d){var y=this._memoizedTables||(this._memoizedTables={});if(S(y,d))return y[d];var _=this.schema[d];if(!_)throw new Ke.NotFound("Table "+d+" not part of transaction");return _=new this.db.Table(d,_,this),_.core=this.db.core.table(d),y[d]=_},qn);function qn(){}function Pr(d,y,_,w,R,x,O){return{name:d,keyPath:y,unique:_,multi:w,auto:R,compound:x,src:(_&&!O?"&":"")+(w?"*":"")+(R?"++":"")+Fi(y)}}function Fi(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Wr(d,y,_){return{name:d,primKey:y,indexes:_,mappedClass:null,idxByName:(w=function(R){return[R.name,R]},_.reduce(function(R,x,O){return O=w(x,O),O&&(R[O[0]]=O[1]),R},{}))};var w}var Ki=function(d){try{return d.only([[]]),Ki=function(){return[[]]},[[]]}catch{return Ki=function(){return mi},mi}};function Vr(d){return d==null?function(){}:typeof d=="string"?(y=d).split(".").length===1?function(_){return _[y]}:function(_){return De(_,y)}:function(_){return De(_,d)};var y}function Jr(d){return[].slice.call(d)}var Vo=0;function rn(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function Ct(d,y,K){function w($){if($.type===3)return null;if($.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var F=$.lower,Y=$.upper,ie=$.lowerOpen,$=$.upperOpen;return F===void 0?Y===void 0?null:y.upperBound(Y,!!$):Y===void 0?y.lowerBound(F,!!ie):y.bound(F,Y,!!ie,!!$)}function R(te){var F,Y=te.name;return{name:Y,schema:te,mutate:function(ie){var $=ie.trans,ue=ie.type,fe=ie.keys,de=ie.values,Ee=ie.range;return new Promise(function(Oe,Le){Oe=ct(Oe);var ke=$.objectStore(Y),Pe=ke.keyPath==null,je=ue==="put"||ue==="add";if(!je&&ue!=="delete"&&ue!=="deleteRange")throw new Error("Invalid operation type: "+ue);var Ce,Be=(fe||de||{length:1}).length;if(fe&&de&&fe.length!==de.length)throw new Error("Given keys array must have same length as given values array.");if(Be===0)return Oe({numFailures:0,failures:{},results:[],lastResult:void 0});function Je(Fn){++er,or(Fn)}var tt=[],ht=[],er=0;if(ue==="deleteRange"){if(Ee.type===4)return Oe({numFailures:er,failures:ht,results:[],lastResult:void 0});Ee.type===3?tt.push(Ce=ke.clear()):tt.push(Ce=ke.delete(w(Ee)))}else{var Pe=je?Pe?[de,fe]:[de,null]:[fe,null],it=Pe[0],_n=Pe[1];if(je)for(var xn=0;xn<Be;++xn)tt.push(Ce=_n&&_n[xn]!==void 0?ke[ue](it[xn],_n[xn]):ke[ue](it[xn])),Ce.onerror=Je;else for(xn=0;xn<Be;++xn)tt.push(Ce=ke[ue](it[xn])),Ce.onerror=Je}function Wi(Fn){Fn=Fn.target.result,tt.forEach(function(Ii,ys){return Ii.error!=null&&(ht[ys]=Ii.error)}),Oe({numFailures:er,failures:ht,results:ue==="delete"?fe:tt.map(function(Ii){return Ii.result}),lastResult:Fn})}Ce.onerror=function(Fn){Je(Fn),Wi(Fn)},Ce.onsuccess=Wi})},getMany:function(ie){var $=ie.trans,ue=ie.keys;return new Promise(function(fe,de){fe=ct(fe);for(var Ee,Oe=$.objectStore(Y),Le=ue.length,ke=new Array(Le),Pe=0,je=0,Ce=function(tt){tt=tt.target,ke[tt._pos]=tt.result,++je===Pe&&fe(ke)},Be=ar(de),Je=0;Je<Le;++Je)ue[Je]!=null&&((Ee=Oe.get(ue[Je]))._pos=Je,Ee.onsuccess=Ce,Ee.onerror=Be,++Pe);Pe===0&&fe(ke)})},get:function(ie){var $=ie.trans,ue=ie.key;return new Promise(function(fe,de){fe=ct(fe);var Ee=$.objectStore(Y).get(ue);Ee.onsuccess=function(Oe){return fe(Oe.target.result)},Ee.onerror=ar(de)})},query:(F=G,function(ie){return new Promise(function($,ue){$=ct($);var fe,de,Ee,Pe=ie.trans,Oe=ie.values,Le=ie.limit,Ce=ie.query,ke=Le===1/0?void 0:Le,je=Ce.index,Ce=Ce.range,Pe=Pe.objectStore(Y),je=je.isPrimaryKey?Pe:Pe.index(je.name),Ce=w(Ce);if(Le===0)return $({result:[]});F?((ke=Oe?je.getAll(Ce,ke):je.getAllKeys(Ce,ke)).onsuccess=function(Be){return $({result:Be.target.result})},ke.onerror=ar(ue)):(fe=0,de=!Oe&&"openKeyCursor"in je?je.openKeyCursor(Ce):je.openCursor(Ce),Ee=[],de.onsuccess=function(Be){var Je=de.result;return Je?(Ee.push(Oe?Je.value:Je.primaryKey),++fe===Le?$({result:Ee}):void Je.continue()):$({result:Ee})},de.onerror=ar(ue))})}),openCursor:function(ie){var $=ie.trans,ue=ie.values,fe=ie.query,de=ie.reverse,Ee=ie.unique;return new Promise(function(Oe,Le){Oe=ct(Oe);var je=fe.index,ke=fe.range,Pe=$.objectStore(Y),Pe=je.isPrimaryKey?Pe:Pe.index(je.name),je=de?Ee?"prevunique":"prev":Ee?"nextunique":"next",Ce=!ue&&"openKeyCursor"in Pe?Pe.openKeyCursor(w(ke),je):Pe.openCursor(w(ke),je);Ce.onerror=ar(Le),Ce.onsuccess=ct(function(Be){var Je,tt,ht,er,it=Ce.result;it?(it.___id=++Vo,it.done=!1,Je=it.continue.bind(it),tt=(tt=it.continuePrimaryKey)&&tt.bind(it),ht=it.advance.bind(it),er=function(){throw new Error("Cursor not stopped")},it.trans=$,it.stop=it.continue=it.continuePrimaryKey=it.advance=function(){throw new Error("Cursor not started")},it.fail=ct(Le),it.next=function(){var _n=this,xn=1;return this.start(function(){return xn--?_n.continue():_n.stop()}).then(function(){return _n})},it.start=function(_n){function xn(){if(Ce.result)try{_n()}catch(Fn){it.fail(Fn)}else it.done=!0,it.start=function(){throw new Error("Cursor behind last entry")},it.stop()}var Wi=new Promise(function(Fn,Ii){Fn=ct(Fn),Ce.onerror=ar(Ii),it.fail=Ii,it.stop=function(ys){it.stop=it.continue=it.continuePrimaryKey=it.advance=er,Fn(ys)}});return Ce.onsuccess=ct(function(Fn){Ce.onsuccess=xn,xn()}),it.continue=Je,it.continuePrimaryKey=tt,it.advance=ht,xn(),Wi},Oe(it)):Oe(null)},Le)})},count:function(ie){var $=ie.query,ue=ie.trans,fe=$.index,de=$.range;return new Promise(function(Ee,Oe){var Le=ue.objectStore(Y),ke=fe.isPrimaryKey?Le:Le.index(fe.name),Le=w(de),ke=Le?ke.count(Le):ke.count();ke.onsuccess=ct(function(Pe){return Ee(Pe.target.result)}),ke.onerror=ar(Oe)})}}}var x,O,L,X=(O=K,L=Jr((x=d).objectStoreNames),{schema:{name:x.name,tables:L.map(function(te){return O.objectStore(te)}).map(function(te){var F=te.keyPath,$=te.autoIncrement,Y=h(F),ie={},$={name:te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:F==null,compound:Y,keyPath:F,autoIncrement:$,unique:!0,extractKey:Vr(F)},indexes:Jr(te.indexNames).map(function(ue){return te.index(ue)}).map(function(Ee){var fe=Ee.name,de=Ee.unique,Oe=Ee.multiEntry,Ee=Ee.keyPath,Oe={name:fe,compound:h(Ee),keyPath:Ee,unique:de,multiEntry:Oe,extractKey:Vr(Ee)};return ie[rn(Ee)]=Oe}),getIndexByKeyPath:function(ue){return ie[rn(ue)]}};return ie[":id"]=$.primaryKey,F!=null&&(ie[rn(F)]=$.primaryKey),$})},hasGetAll:0<L.length&&"getAll"in O.objectStore(L[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),K=X.schema,G=X.hasGetAll,X=K.tables.map(R),B={};return X.forEach(function(te){return B[te.name]=te}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(te){if(!B[te])throw new Error("Table '".concat(te,"' not found"));return B[te]},MIN_KEY:-1/0,MAX_KEY:Ki(y),schema:K}}function ka(d,y,_,w){var R=_.IDBKeyRange;return _.indexedDB,{dbcore:(w=Ct(y,R,w),d.dbcore.reduce(function(x,O){return O=O.create,n(n({},x),O(x))},w))}}function bi(d,w){var _=w.db,w=ka(d._middlewares,_,d._deps,w);d.core=w.dbcore,d.tables.forEach(function(R){var x=R.name;d.core.schema.tables.some(function(O){return O.name===x})&&(R.core=d.core.table(x),d[x]instanceof d.Table&&(d[x].core=R.core))})}function zs(d,y,_,w){_.forEach(function(R){var x=w[R];y.forEach(function(O){var L=function K(G,X){return ne(G,X)||(G=g(G))&&K(G,X)}(O,R);(!L||"value"in L&&L.value===void 0)&&(O===d.Transaction.prototype||O instanceof d.Transaction?N(O,R,{get:function(){return this.table(R)},set:function(K){P(this,R,{value:K,writable:!0,configurable:!0,enumerable:!0})}}):O[R]=new d.Table(R,x))})})}function ms(d,y){y.forEach(function(_){for(var w in _)_[w]instanceof d.Table&&delete _[w]})}function Ca(d,y){return d._cfg.version-y._cfg.version}function Ei(d,y,_,w){var R=d._dbSchema;_.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=Wr("$meta",qs("")[0],[]),d._storeNames.push("$meta"));var x=d._createTransaction("readwrite",d._storeNames,R);x.create(_),x._completion.catch(w);var O=x._reject.bind(x),L=Fe.transless||Fe;Xn(function(){return Fe.trans=x,Fe.transless=L,y!==0?(bi(d,_),G=y,((K=x).storeNames.includes("$meta")?K.table("$meta").get("version").then(function(X){return X??G}):Ue.resolve(G)).then(function(X){return te=X,F=x,Y=_,ie=[],X=(B=d)._versions,$=B._dbSchema=Hi(0,B.idbdb,Y),(X=X.filter(function(ue){return ue._cfg.version>=te})).length!==0?(X.forEach(function(ue){ie.push(function(){var fe=$,de=ue._cfg.dbschema;ps(B,fe,Y),ps(B,de,Y),$=B._dbSchema=de;var Ee=lr(fe,de);Ee.add.forEach(function(je){Oa(Y,je[0],je[1].primKey,je[1].indexes)}),Ee.change.forEach(function(je){if(je.recreate)throw new Ke.Upgrade("Not yet support for changing primary key");var Ce=Y.objectStore(je.name);je.add.forEach(function(Be){return wi(Ce,Be)}),je.change.forEach(function(Be){Ce.deleteIndex(Be.name),wi(Ce,Be)}),je.del.forEach(function(Be){return Ce.deleteIndex(Be)})});var Oe=ue._cfg.contentUpgrade;if(Oe&&ue._cfg.version>te){bi(B,Y),F._memoizedTables={};var Le=D(de);Ee.del.forEach(function(je){Le[je]=fe[je]}),ms(B,[B.Transaction.prototype]),zs(B,[B.Transaction.prototype],u(Le),Le),F.schema=Le;var ke,Pe=be(Oe);return Pe&&sr(),Ee=Ue.follow(function(){var je;(ke=Oe(F))&&Pe&&(je=Dn.bind(null,null),ke.then(je,je))}),ke&&typeof ke.then=="function"?Ue.resolve(ke):Ee.then(function(){return ke})}}),ie.push(function(fe){var de,Ee,Oe=ue._cfg.dbschema;de=Oe,Ee=fe,[].slice.call(Ee.db.objectStoreNames).forEach(function(Le){return de[Le]==null&&Ee.db.deleteObjectStore(Le)}),ms(B,[B.Transaction.prototype]),zs(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),F.schema=B._dbSchema}),ie.push(function(fe){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===ue._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(de){return de!=="$meta"})):fe.objectStore("$meta").put(ue._cfg.version,"version"))})}),function ue(){return ie.length?Ue.resolve(ie.shift()(F.idbtrans)).then(ue):Ue.resolve()}().then(function(){zl($,Y)})):Ue.resolve();var B,te,F,Y,ie,$}).catch(O)):(u(R).forEach(function(X){Oa(_,X,R[X].primKey,R[X].indexes)}),bi(d,_),void Ue.follow(function(){return d.on.populate.fire(x)}).catch(O));var K,G})}function Bs(d,y){zl(d._dbSchema,y),y.db.version%10!=0||y.objectStoreNames.contains("$meta")||y.db.createObjectStore("$meta").add(Math.ceil(y.db.version/10-1),"version");var _=Hi(0,d.idbdb,y);ps(d,d._dbSchema,y);for(var w=0,R=lr(_,d._dbSchema).change;w<R.length;w++){var x=function(O){if(O.change.length||O.recreate)return console.warn("Unable to patch indexes of table ".concat(O.name," because it has changes on the type of index or primary key.")),{value:void 0};var L=y.objectStore(O.name);O.add.forEach(function(K){jn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(O.name,".").concat(K.src)),wi(L,K)})}(R[w]);if(typeof x=="object")return x.value}}function lr(d,y){var _,w={del:[],add:[],change:[]};for(_ in d)y[_]||w.del.push(_);for(_ in y){var R=d[_],x=y[_];if(R){var O={name:_,def:x,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(x.primKey.keyPath||"")||R.primKey.auto!==x.primKey.auto)O.recreate=!0,w.change.push(O);else{var L=R.idxByName,K=x.idxByName,G=void 0;for(G in L)K[G]||O.del.push(G);for(G in K){var X=L[G],B=K[G];X?X.src!==B.src&&O.change.push(B):O.add.push(B)}(0<O.del.length||0<O.add.length||0<O.change.length)&&w.change.push(O)}}else w.add.push([_,x])}return w}function Oa(d,y,_,w){var R=d.db.createObjectStore(y,_.keyPath?{keyPath:_.keyPath,autoIncrement:_.auto}:{autoIncrement:_.auto});return w.forEach(function(x){return wi(R,x)}),R}function zl(d,y){u(d).forEach(function(_){y.db.objectStoreNames.contains(_)||(jn&&console.debug("Dexie: Creating missing table",_),Oa(y,_,d[_].primKey,d[_].indexes))})}function wi(d,y){d.createIndex(y.name,y.keyPath,{unique:y.unique,multiEntry:y.multi})}function Hi(d,y,_){var w={};return _e(y.objectStoreNames,0).forEach(function(R){for(var x=_.objectStore(R),O=Pr(Fi(G=x.keyPath),G||"",!0,!1,!!x.autoIncrement,G&&typeof G!="string",!0),L=[],K=0;K<x.indexNames.length;++K){var X=x.index(x.indexNames[K]),G=X.keyPath,X=Pr(X.name,G,!!X.unique,!!X.multiEntry,!1,G&&typeof G!="string",!1);L.push(X)}w[R]=Wr(R,O,L)}),w}function ps(d,y,_){for(var w=_.db.objectStoreNames,R=0;R<w.length;++R){var x=w[R],O=_.objectStore(x);d._hasGetAll="getAll"in O;for(var L=0;L<O.indexNames.length;++L){var K=O.indexNames[L],G=O.index(K).keyPath,X=typeof G=="string"?G:"["+_e(G).join("+")+"]";!y[x]||(G=y[x].idxByName[X])&&(G.name=K,delete y[x].idxByName[X],y[x].idxByName[K]=G)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function qs(d){return d.split(",").map(function(y,_){var w=(y=y.trim()).replace(/([&*]|\+\+)/g,""),R=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return Pr(w,R||null,/\&/.test(y),/\*/.test(y),/\+\+/.test(y),h(R),_===0)})}var Bl=(Gi.prototype._parseStoresSpec=function(d,y){u(d).forEach(function(_){if(d[_]!==null){var w=qs(d[_]),R=w.shift();if(R.unique=!0,R.multi)throw new Ke.Schema("Primary key cannot be multi-valued");w.forEach(function(x){if(x.auto)throw new Ke.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new Ke.Schema("Index must have a name and cannot be an empty string")}),y[_]=Wr(_,R,w)}})},Gi.prototype.stores=function(_){var y=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,_):_;var _=y._versions,w={},R={};return _.forEach(function(x){m(w,x._cfg.storesSource),R=x._cfg.dbschema={},x._parseStoresSpec(w,R)}),y._dbSchema=R,ms(y,[y._allTables,y,y.Transaction.prototype]),zs(y,[y._allTables,y,y.Transaction.prototype,this._cfg.tables],u(R),R),y._storeNames=u(R),this},Gi.prototype.upgrade=function(d){return this._cfg.contentUpgrade=as(this._cfg.contentUpgrade||Tt,d),this},Gi);function Gi(){}function Mo(d,y){var _=d._dbNamesDB;return _||(_=d._dbNamesDB=new Ri(Er,{addons:[],indexedDB:d,IDBKeyRange:y})).version(1).stores({dbnames:"name"}),_.table("dbnames")}function Fs(d){return d&&typeof d.databases=="function"}function $i(d){return Xn(function(){return Fe.letThrough=!0,d()})}function Da(d){return!("from"in d)}var yn=function(d,y){if(!this){var _=new yn;return d&&"d"in d&&m(_,d),_}m(this,arguments.length?{d:1,from:d,to:1<arguments.length?y:d}:{d:0})};function Qi(d,y,_){var w=dt(y,_);if(!isNaN(w)){if(0<w)throw RangeError();if(Da(d))return m(d,{from:y,to:_,d:1});var R=d.l,w=d.r;if(dt(_,d.from)<0)return R?Qi(R,y,_):d.l={from:y,to:_,d:1,l:null,r:null},jo(d);if(0<dt(y,d.to))return w?Qi(w,y,_):d.r={from:y,to:_,d:1,l:null,r:null},jo(d);dt(y,d.from)<0&&(d.from=y,d.l=null,d.d=w?w.d+1:1),0<dt(_,d.to)&&(d.to=_,d.r=null,d.d=d.l?d.l.d+1:1),_=!d.r,R&&!d.l&&Zr(d,R),w&&_&&Zr(d,w)}}function Zr(d,y){Da(y)||function _(w,K){var x=K.from,O=K.to,L=K.l,K=K.r;Qi(w,x,O),L&&_(w,L),K&&_(w,K)}(d,y)}function Lo(d,y){var _=Yi(y),w=_.next();if(w.done)return!1;for(var R=w.value,x=Yi(d),O=x.next(R.from),L=O.value;!w.done&&!O.done;){if(dt(L.from,R.to)<=0&&0<=dt(L.to,R.from))return!0;dt(R.from,L.from)<0?R=(w=_.next(L.from)).value:L=(O=x.next(R.from)).value}return!1}function Yi(d){var y=Da(d)?null:{s:0,n:d};return{next:function(_){for(var w=0<arguments.length;y;)switch(y.s){case 0:if(y.s=1,w)for(;y.n.l&&dt(_,y.n.from)<0;)y={up:y,n:y.n.l,s:1};else for(;y.n.l;)y={up:y,n:y.n.l,s:1};case 1:if(y.s=2,!w||dt(_,y.n.to)<=0)return{value:y.n,done:!1};case 2:if(y.n.r){y.s=3,y={up:y,n:y.n.r,s:0};continue}case 3:y=y.up}return{done:!0}}}}function jo(d){var y,_,w=(((y=d.r)===null||y===void 0?void 0:y.d)||0)-(((_=d.l)===null||_===void 0?void 0:_.d)||0),R=1<w?"r":w<-1?"l":"";R&&(y=R=="r"?"l":"r",_=n({},d),w=d[R],d.from=w.from,d.to=w.to,d[R]=w[R],_[R]=w[y],(d[y]=_).d=Na(_)),d.d=Na(d)}function Na(_){var y=_.r,_=_.l;return(y?_?Math.max(y.d,_.d):y.d:_?_.d:0)+1}function Mr(d,y){return u(y).forEach(function(_){d[_]?Zr(d[_],y[_]):d[_]=function w(R){var x,O,L={};for(x in R)S(R,x)&&(O=R[x],L[x]=!O||typeof O!="object"||Q.has(O.constructor)?O:w(O));return L}(y[_])}),d}function Pa(d,y){return d.all||y.all||Object.keys(d).some(function(_){return y[_]&&Lo(y[_],d[_])})}I(yn.prototype,((Tr={add:function(d){return Zr(this,d),this},addKey:function(d){return Qi(this,d,d),this},addKeys:function(d){var y=this;return d.forEach(function(_){return Qi(y,_,_)}),this},hasKey:function(d){var y=Yi(this).next(d).value;return y&&dt(y.from,d)<=0&&0<=dt(y.to,d)}})[ye]=function(){return Yi(this)},Tr));var Ti={},Va={},Ma=!1;function Xi(d){Mr(Va,d),Ma||(Ma=!0,setTimeout(function(){Ma=!1,Nn(Va,!(Va={}))},0))}function Nn(d,y){y===void 0&&(y=!1);var _=new Set;if(d.all)for(var w=0,R=Object.values(Ti);w<R.length;w++)Uo(O=R[w],d,_,y);else for(var x in d){var O,L=/^idb\:\/\/(.*)\/(.*)\//.exec(x);L&&(x=L[1],L=L[2],(O=Ti["idb://".concat(x,"/").concat(L)])&&Uo(O,d,_,y))}_.forEach(function(K){return K()})}function Uo(d,y,_,w){for(var R=[],x=0,O=Object.entries(d.queries.query);x<O.length;x++){for(var L=O[x],K=L[0],G=[],X=0,B=L[1];X<B.length;X++){var te=B[X];Pa(y,te.obsSet)?te.subscribers.forEach(function($){return _.add($)}):w&&G.push(te)}w&&R.push([K,G])}if(w)for(var F=0,Y=R;F<Y.length;F++){var ie=Y[F],K=ie[0],G=ie[1];d.queries.query[K]=G}}function ql(d){var y=d._state,_=d._deps.indexedDB;if(y.isBeingOpened||d.idbdb)return y.dbReadyPromise.then(function(){return y.dbOpenError?Wt(y.dbOpenError):d});y.isBeingOpened=!0,y.dbOpenError=null,y.openComplete=!1;var w=y.openCanceller,R=Math.round(10*d.verno),x=!1;function O(){if(y.openCanceller!==w)throw new Ke.DatabaseClosed("db.open() was cancelled")}function L(){return new Ue(function(te,F){if(O(),!_)throw new Ke.MissingAPI;var Y=d.name,ie=y.autoSchema||!R?_.open(Y):_.open(Y,R);if(!ie)throw new Ke.MissingAPI;ie.onerror=ar(F),ie.onblocked=ct(d._fireOnBlocked),ie.onupgradeneeded=ct(function($){var ue;X=ie.transaction,y.autoSchema&&!d._options.allowEmptyDB?(ie.onerror=or,X.abort(),ie.result.close(),(ue=_.deleteDatabase(Y)).onsuccess=ue.onerror=ct(function(){F(new Ke.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(X.onerror=ar(F),$=$.oldVersion>Math.pow(2,62)?0:$.oldVersion,B=$<1,d.idbdb=ie.result,x&&Bs(d,X),Ei(d,$/10,X,F))},F),ie.onsuccess=ct(function(){X=null;var $,ue,fe,de,Ee,Oe=d.idbdb=ie.result,Le=_e(Oe.objectStoreNames);if(0<Le.length)try{var ke=Oe.transaction((de=Le).length===1?de[0]:de,"readonly");if(y.autoSchema)ue=Oe,fe=ke,($=d).verno=ue.version/10,fe=$._dbSchema=Hi(0,ue,fe),$._storeNames=_e(ue.objectStoreNames,0),zs($,[$._allTables],u(fe),fe);else if(ps(d,d._dbSchema,ke),((Ee=lr(Hi(0,(Ee=d).idbdb,ke),Ee._dbSchema)).add.length||Ee.change.some(function(Pe){return Pe.add.length||Pe.change.length}))&&!x)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Oe.close(),R=Oe.version+1,x=!0,te(L());bi(d,ke)}catch{}br.push(d),Oe.onversionchange=ct(function(Pe){y.vcFired=!0,d.on("versionchange").fire(Pe)}),Oe.onclose=ct(function(Pe){d.on("close").fire(Pe)}),B&&(Ee=d._deps,ke=Y,Oe=Ee.indexedDB,Ee=Ee.IDBKeyRange,Fs(Oe)||ke===Er||Mo(Oe,Ee).put({name:ke}).catch(Tt)),te()},F)}).catch(function(te){switch(te==null?void 0:te.name){case"UnknownError":if(0<y.PR1398_maxLoop)return y.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),L();break;case"VersionError":if(0<R)return R=0,L()}return Ue.reject(te)})}var K,G=y.dbReadyResolve,X=null,B=!1;return Ue.race([w,(typeof navigator>"u"?Ue.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(te){function F(){return indexedDB.databases().finally(te)}K=setInterval(F,100),F()}).finally(function(){return clearInterval(K)}):Promise.resolve()).then(L)]).then(function(){return O(),y.onReadyBeingFired=[],Ue.resolve($i(function(){return d.on.ready.fire(d.vip)})).then(function te(){if(0<y.onReadyBeingFired.length){var F=y.onReadyBeingFired.reduce(as,Tt);return y.onReadyBeingFired=[],Ue.resolve($i(function(){return F(d.vip)})).then(te)}})}).finally(function(){y.openCanceller===w&&(y.onReadyBeingFired=null,y.isBeingOpened=!1)}).catch(function(te){y.dbOpenError=te;try{X&&X.abort()}catch{}return w===y.openCanceller&&d._close(),Wt(te)}).finally(function(){y.openComplete=!0,G()}).then(function(){var te;return B&&(te={},d.tables.forEach(function(F){F.schema.indexes.forEach(function(Y){Y.name&&(te["idb://".concat(d.name,"/").concat(F.name,"/").concat(Y.name)]=new yn(-1/0,[[[]]]))}),te["idb://".concat(d.name,"/").concat(F.name,"/")]=te["idb://".concat(d.name,"/").concat(F.name,"/:dels")]=new yn(-1/0,[[[]]])}),Rn(ds).fire(te),Nn(te,!0)),d})}function Lr(d){function y(x){return d.next(x)}var _=R(y),w=R(function(x){return d.throw(x)});function R(x){return function(K){var L=x(K),K=L.value;return L.done?K:K&&typeof K.then=="function"?K.then(_,w):h(K)?Promise.all(K).then(_,w):_(K)}}return R(y)()}function f(d,y,_){for(var w=h(d)?d.slice():[d],R=0;R<_;++R)w.push(y);return w}var b={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return n(n({},d),{table:function(y){var _=d.table(y),w=_.schema,R={},x=[];function O(B,te,F){var Y=rn(B),ie=R[Y]=R[Y]||[],$=B==null?0:typeof B=="string"?1:B.length,ue=0<te,ue=n(n({},F),{name:ue?"".concat(Y,"(virtual-from:").concat(F.name,")"):F.name,lowLevelIndex:F,isVirtual:ue,keyTail:te,keyLength:$,extractKey:Vr(B),unique:!ue&&F.unique});return ie.push(ue),ue.isPrimaryKey||x.push(ue),1<$&&O($===2?B[0]:B.slice(0,$-1),te+1,F),ie.sort(function(fe,de){return fe.keyTail-de.keyTail}),ue}y=O(w.primaryKey.keyPath,0,w.primaryKey),R[":id"]=[y];for(var L=0,K=w.indexes;L<K.length;L++){var G=K[L];O(G.keyPath,0,G)}function X(B){var te,F=B.query.index;return F.isVirtual?n(n({},B),{query:{index:F.lowLevelIndex,range:(te=B.query.range,F=F.keyTail,{type:te.type===1?2:te.type,lower:f(te.lower,te.lowerOpen?d.MAX_KEY:d.MIN_KEY,F),lowerOpen:!0,upper:f(te.upper,te.upperOpen?d.MIN_KEY:d.MAX_KEY,F),upperOpen:!0})}}):B}return n(n({},_),{schema:n(n({},w),{primaryKey:y,indexes:x,getIndexByKeyPath:function(B){return(B=R[rn(B)])&&B[0]}}),count:function(B){return _.count(X(B))},query:function(B){return _.query(X(B))},openCursor:function(B){var te=B.query.index,F=te.keyTail,Y=te.isVirtual,ie=te.keyLength;return Y?_.openCursor(X(B)).then(function(ue){return ue&&$(ue)}):_.openCursor(B);function $(ue){return Object.create(ue,{continue:{value:function(fe){fe!=null?ue.continue(f(fe,B.reverse?d.MAX_KEY:d.MIN_KEY,F)):B.unique?ue.continue(ue.key.slice(0,ie).concat(B.reverse?d.MIN_KEY:d.MAX_KEY,F)):ue.continue()}},continuePrimaryKey:{value:function(fe,de){ue.continuePrimaryKey(f(fe,d.MAX_KEY,F),de)}},primaryKey:{get:function(){return ue.primaryKey}},key:{get:function(){var fe=ue.key;return ie===1?fe[0]:fe.slice(0,ie)}},value:{get:function(){return ue.value}}})}}})}})}};function T(d,y,_,w){return _=_||{},w=w||"",u(d).forEach(function(R){var x,O,L;S(y,R)?(x=d[R],O=y[R],typeof x=="object"&&typeof O=="object"&&x&&O?(L=Lt(x))!==Lt(O)?_[w+R]=y[R]:L==="Object"?T(x,O,_,w+R+"."):x!==O&&(_[w+R]=y[R]):x!==O&&(_[w+R]=y[R])):_[w+R]=void 0}),u(y).forEach(function(R){S(d,R)||(_[w+R]=y[R])}),_}function C(d,y){return y.type==="delete"?y.keys:y.keys||y.values.map(d.extractKey)}var se={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return n(n({},d),{table:function(y){var _=d.table(y),w=_.schema.primaryKey;return n(n({},_),{mutate:function(R){var x=Fe.trans,O=x.table(y).hook,L=O.deleting,K=O.creating,G=O.updating;switch(R.type){case"add":if(K.fire===Tt)break;return x._promise("readwrite",function(){return X(R)},!0);case"put":if(K.fire===Tt&&G.fire===Tt)break;return x._promise("readwrite",function(){return X(R)},!0);case"delete":if(L.fire===Tt)break;return x._promise("readwrite",function(){return X(R)},!0);case"deleteRange":if(L.fire===Tt)break;return x._promise("readwrite",function(){return function B(te,F,Y){return _.query({trans:te,values:!1,query:{index:w,range:F},limit:Y}).then(function(ie){var $=ie.result;return X({type:"delete",keys:$,trans:te}).then(function(ue){return 0<ue.numFailures?Promise.reject(ue.failures[0]):$.length<Y?{failures:[],numFailures:0,lastResult:void 0}:B(te,n(n({},F),{lower:$[$.length-1],lowerOpen:!0}),Y)})})}(R.trans,R.range,1e4)},!0)}return _.mutate(R);function X(B){var te,F,Y,ie=Fe.trans,$=B.keys||C(w,B);if(!$)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?n(n({},B),{keys:$}):n({},B)).type!=="delete"&&(B.values=a([],B.values)),B.keys&&(B.keys=a([],B.keys)),te=_,Y=$,((F=B).type==="add"?Promise.resolve([]):te.getMany({trans:F.trans,keys:Y,cache:"immutable"})).then(function(ue){var fe=$.map(function(de,Ee){var Oe,Le,ke,Pe=ue[Ee],je={onerror:null,onsuccess:null};return B.type==="delete"?L.fire.call(je,de,Pe,ie):B.type==="add"||Pe===void 0?(Oe=K.fire.call(je,de,B.values[Ee],ie),de==null&&Oe!=null&&(B.keys[Ee]=de=Oe,w.outbound||M(B.values[Ee],w.keyPath,de))):(Oe=T(Pe,B.values[Ee]),(Le=G.fire.call(je,Oe,de,Pe,ie))&&(ke=B.values[Ee],Object.keys(Le).forEach(function(Ce){S(ke,Ce)?ke[Ce]=Le[Ce]:M(ke,Ce,Le[Ce])}))),je});return _.mutate(B).then(function(de){for(var Ee=de.failures,Oe=de.results,Le=de.numFailures,de=de.lastResult,ke=0;ke<$.length;++ke){var Pe=(Oe||$)[ke],je=fe[ke];Pe==null?je.onerror&&je.onerror(Ee[ke]):je.onsuccess&&je.onsuccess(B.type==="put"&&ue[ke]?B.values[ke]:Pe)}return{failures:Ee,results:Oe,numFailures:Le,lastResult:de}}).catch(function(de){return fe.forEach(function(Ee){return Ee.onerror&&Ee.onerror(de)}),Promise.reject(de)})})}}})}})}};function pe(d,y,_){try{if(!y||y.keys.length<d.length)return null;for(var w=[],R=0,x=0;R<y.keys.length&&x<d.length;++R)dt(y.keys[R],d[x])===0&&(w.push(_?j(y.values[R]):y.values[R]),++x);return w.length===d.length?w:null}catch{return null}}var Me={stack:"dbcore",level:-1,create:function(d){return{table:function(y){var _=d.table(y);return n(n({},_),{getMany:function(w){if(!w.cache)return _.getMany(w);var R=pe(w.keys,w.trans._cache,w.cache==="clone");return R?Ue.resolve(R):_.getMany(w).then(function(x){return w.trans._cache={keys:w.keys,values:w.cache==="clone"?j(x):x},x})},mutate:function(w){return w.type!=="add"&&(w.trans._cache=null),_.mutate(w)}})}}}};function _t(d,y){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!y.schema.primaryKey.outbound}function fn(d,y){switch(d){case"query":return y.values&&!y.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var St={stack:"dbcore",level:0,name:"Observability",create:function(d){var y=d.schema.name,_=new yn(d.MIN_KEY,d.MAX_KEY);return n(n({},d),{transaction:function(w,R,x){if(Fe.subscr&&R!=="readonly")throw new Ke.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Fe.querier));return d.transaction(w,R,x)},table:function(w){var R=d.table(w),x=R.schema,O=x.primaryKey,B=x.indexes,L=O.extractKey,K=O.outbound,G=O.autoIncrement&&B.filter(function(F){return F.compound&&F.keyPath.includes(O.keyPath)}),X=n(n({},R),{mutate:function(F){function Y(Ce){return Ce="idb://".concat(y,"/").concat(w,"/").concat(Ce),de[Ce]||(de[Ce]=new yn)}var ie,$,ue,fe=F.trans,de=F.mutatedParts||(F.mutatedParts={}),Ee=Y(""),Oe=Y(":dels"),Le=F.type,je=F.type==="deleteRange"?[F.range]:F.type==="delete"?[F.keys]:F.values.length<50?[C(O,F).filter(function(Ce){return Ce}),F.values]:[],ke=je[0],Pe=je[1],je=F.trans._cache;return h(ke)?(Ee.addKeys(ke),(je=Le==="delete"||ke.length===Pe.length?pe(ke,je):null)||Oe.addKeys(ke),(je||Pe)&&(ie=Y,$=je,ue=Pe,x.indexes.forEach(function(Ce){var Be=ie(Ce.name||"");function Je(ht){return ht!=null?Ce.extractKey(ht):null}function tt(ht){return Ce.multiEntry&&h(ht)?ht.forEach(function(er){return Be.addKey(er)}):Be.addKey(ht)}($||ue).forEach(function(ht,_n){var it=$&&Je($[_n]),_n=ue&&Je(ue[_n]);dt(it,_n)!==0&&(it!=null&&tt(it),_n!=null&&tt(_n))})}))):ke?(Pe={from:(Pe=ke.lower)!==null&&Pe!==void 0?Pe:d.MIN_KEY,to:(Pe=ke.upper)!==null&&Pe!==void 0?Pe:d.MAX_KEY},Oe.add(Pe),Ee.add(Pe)):(Ee.add(_),Oe.add(_),x.indexes.forEach(function(Ce){return Y(Ce.name).add(_)})),R.mutate(F).then(function(Ce){return!ke||F.type!=="add"&&F.type!=="put"||(Ee.addKeys(Ce.results),G&&G.forEach(function(Be){for(var Je=F.values.map(function(it){return Be.extractKey(it)}),tt=Be.keyPath.findIndex(function(it){return it===O.keyPath}),ht=0,er=Ce.results.length;ht<er;++ht)Je[ht][tt]=Ce.results[ht];Y(Be.name).addKeys(Je)})),fe.mutatedParts=Mr(fe.mutatedParts||{},de),Ce})}}),B=function(Y){var ie=Y.query,Y=ie.index,ie=ie.range;return[Y,new yn((Y=ie.lower)!==null&&Y!==void 0?Y:d.MIN_KEY,(ie=ie.upper)!==null&&ie!==void 0?ie:d.MAX_KEY)]},te={get:function(F){return[O,new yn(F.key)]},getMany:function(F){return[O,new yn().addKeys(F.keys)]},count:B,query:B,openCursor:B};return u(te).forEach(function(F){X[F]=function(Y){var ie=Fe.subscr,$=!!ie,ue=_t(Fe,R)&&fn(F,Y)?Y.obsSet={}:ie;if($){var fe=function(Pe){return Pe="idb://".concat(y,"/").concat(w,"/").concat(Pe),ue[Pe]||(ue[Pe]=new yn)},de=fe(""),Ee=fe(":dels"),ie=te[F](Y),$=ie[0],ie=ie[1];if((F==="query"&&$.isPrimaryKey&&!Y.values?Ee:fe($.name||"")).add(ie),!$.isPrimaryKey){if(F!=="count"){var Oe=F==="query"&&K&&Y.values&&R.query(n(n({},Y),{values:!1}));return R[F].apply(this,arguments).then(function(Pe){if(F==="query"){if(K&&Y.values)return Oe.then(function(Je){return Je=Je.result,de.addKeys(Je),Pe});var je=Y.values?Pe.result.map(L):Pe.result;(Y.values?de:Ee).addKeys(je)}else if(F==="openCursor"){var Ce=Pe,Be=Y.values;return Ce&&Object.create(Ce,{key:{get:function(){return Ee.addKey(Ce.primaryKey),Ce.key}},primaryKey:{get:function(){var Je=Ce.primaryKey;return Ee.addKey(Je),Je}},value:{get:function(){return Be&&de.addKey(Ce.primaryKey),Ce.value}}})}return Pe})}Ee.add(_)}}return R[F].apply(this,arguments)}}),X}})}};function vn(d,y,_){if(_.numFailures===0)return y;if(y.type==="deleteRange")return null;var w=y.keys?y.keys.length:"values"in y&&y.values?y.values.length:1;return _.numFailures===w?null:(y=n({},y),h(y.keys)&&(y.keys=y.keys.filter(function(R,x){return!(x in _.failures)})),"values"in y&&h(y.values)&&(y.values=y.values.filter(function(R,x){return!(x in _.failures)})),y)}function on(d,y){return _=d,((w=y).lower===void 0||(w.lowerOpen?0<dt(_,w.lower):0<=dt(_,w.lower)))&&(d=d,(y=y).upper===void 0||(y.upperOpen?dt(d,y.upper)<0:dt(d,y.upper)<=0));var _,w}function Si(d,y,te,w,R,x){if(!te||te.length===0)return d;var O=y.query.index,L=O.multiEntry,K=y.query.range,G=w.schema.primaryKey.extractKey,X=O.extractKey,B=(O.lowLevelIndex||O).extractKey,te=te.reduce(function(F,Y){var ie=F,$=[];if(Y.type==="add"||Y.type==="put")for(var ue=new yn,fe=Y.values.length-1;0<=fe;--fe){var de,Ee=Y.values[fe],Oe=G(Ee);ue.hasKey(Oe)||(de=X(Ee),(L&&h(de)?de.some(function(Ce){return on(Ce,K)}):on(de,K))&&(ue.addKey(Oe),$.push(Ee)))}switch(Y.type){case"add":var Le=new yn().addKeys(y.values?F.map(function(Be){return G(Be)}):F),ie=F.concat(y.values?$.filter(function(Be){return Be=G(Be),!Le.hasKey(Be)&&(Le.addKey(Be),!0)}):$.map(function(Be){return G(Be)}).filter(function(Be){return!Le.hasKey(Be)&&(Le.addKey(Be),!0)}));break;case"put":var ke=new yn().addKeys(Y.values.map(function(Be){return G(Be)}));ie=F.filter(function(Be){return!ke.hasKey(y.values?G(Be):Be)}).concat(y.values?$:$.map(function(Be){return G(Be)}));break;case"delete":var Pe=new yn().addKeys(Y.keys);ie=F.filter(function(Be){return!Pe.hasKey(y.values?G(Be):Be)});break;case"deleteRange":var je=Y.range;ie=F.filter(function(Be){return!on(G(Be),je)})}return ie},d);return te===d?d:(te.sort(function(F,Y){return dt(B(F),B(Y))||dt(G(F),G(Y))}),y.limit&&y.limit<1/0&&(te.length>y.limit?te.length=y.limit:d.length===y.limit&&te.length<y.limit&&(R.dirty=!0)),x?Object.freeze(te):te)}function In(d,y){return dt(d.lower,y.lower)===0&&dt(d.upper,y.upper)===0&&!!d.lowerOpen==!!y.lowerOpen&&!!d.upperOpen==!!y.upperOpen}function Ai(d,y){return function(_,w,R,x){if(_===void 0)return w!==void 0?-1:0;if(w===void 0)return 1;if((w=dt(_,w))===0){if(R&&x)return 0;if(R)return 1;if(x)return-1}return w}(d.lower,y.lower,d.lowerOpen,y.lowerOpen)<=0&&0<=function(_,w,R,x){if(_===void 0)return w!==void 0?1:0;if(w===void 0)return-1;if((w=dt(_,w))===0){if(R&&x)return 0;if(R)return-1;if(x)return 1}return w}(d.upper,y.upper,d.upperOpen,y.upperOpen)}function zo(d,y,_,w){d.subscribers.add(_),w.addEventListener("abort",function(){var R,x;d.subscribers.delete(_),d.subscribers.size===0&&(R=d,x=y,setTimeout(function(){R.subscribers.size===0&&qe(x,R)},3e3))})}var Fl={stack:"dbcore",level:0,name:"Cache",create:function(d){var y=d.schema.name;return n(n({},d),{transaction:function(_,w,R){var x,O,L=d.transaction(_,w,R);return w==="readwrite"&&(O=(x=new AbortController).signal,R=function(K){return function(){if(x.abort(),w==="readwrite"){for(var G=new Set,X=0,B=_;X<B.length;X++){var te=B[X],F=Ti["idb://".concat(y,"/").concat(te)];if(F){var Y=d.table(te),ie=F.optimisticOps.filter(function(Be){return Be.trans===L});if(L._explicit&&K&&L.mutatedParts)for(var $=0,ue=Object.values(F.queries.query);$<ue.length;$++)for(var fe=0,de=(Le=ue[$]).slice();fe<de.length;fe++)Pa((ke=de[fe]).obsSet,L.mutatedParts)&&(qe(Le,ke),ke.subscribers.forEach(function(Be){return G.add(Be)}));else if(0<ie.length){F.optimisticOps=F.optimisticOps.filter(function(Be){return Be.trans!==L});for(var Ee=0,Oe=Object.values(F.queries.query);Ee<Oe.length;Ee++)for(var Le,ke,Pe,je=0,Ce=(Le=Oe[Ee]).slice();je<Ce.length;je++)(ke=Ce[je]).res!=null&&L.mutatedParts&&(K&&!ke.dirty?(Pe=Object.isFrozen(ke.res),Pe=Si(ke.res,ke.req,ie,Y,ke,Pe),ke.dirty?(qe(Le,ke),ke.subscribers.forEach(function(Be){return G.add(Be)})):Pe!==ke.res&&(ke.res=Pe,ke.promise=Ue.resolve({result:Pe}))):(ke.dirty&&qe(Le,ke),ke.subscribers.forEach(function(Be){return G.add(Be)})))}}}G.forEach(function(Be){return Be()})}}},L.addEventListener("abort",R(!1),{signal:O}),L.addEventListener("error",R(!1),{signal:O}),L.addEventListener("complete",R(!0),{signal:O})),L},table:function(_){var w=d.table(_),R=w.schema.primaryKey;return n(n({},w),{mutate:function(x){var O=Fe.trans;if(R.outbound||O.db._options.cache==="disabled"||O.explicit||O.idbtrans.mode!=="readwrite")return w.mutate(x);var L=Ti["idb://".concat(y,"/").concat(_)];return L?(O=w.mutate(x),x.type!=="add"&&x.type!=="put"||!(50<=x.values.length||C(R,x).some(function(K){return K==null}))?(L.optimisticOps.push(x),x.mutatedParts&&Xi(x.mutatedParts),O.then(function(K){0<K.numFailures&&(qe(L.optimisticOps,x),(K=vn(0,x,K))&&L.optimisticOps.push(K),x.mutatedParts&&Xi(x.mutatedParts))}),O.catch(function(){qe(L.optimisticOps,x),x.mutatedParts&&Xi(x.mutatedParts)})):O.then(function(K){var G=vn(0,n(n({},x),{values:x.values.map(function(X,B){var te;return K.failures[B]?X:(X=(te=R.keyPath)!==null&&te!==void 0&&te.includes(".")?j(X):n({},X),M(X,R.keyPath,K.results[B]),X)})}),K);L.optimisticOps.push(G),queueMicrotask(function(){return x.mutatedParts&&Xi(x.mutatedParts)})}),O):w.mutate(x)},query:function(x){if(!_t(Fe,w)||!fn("query",x))return w.query(x);var O=((G=Fe.trans)===null||G===void 0?void 0:G.db._options.cache)==="immutable",B=Fe,L=B.requery,K=B.signal,G=function(Y,ie,$,ue){var fe=Ti["idb://".concat(Y,"/").concat(ie)];if(!fe)return[];if(!(ie=fe.queries[$]))return[null,!1,fe,null];var de=ie[(ue.query?ue.query.index.name:null)||""];if(!de)return[null,!1,fe,null];switch($){case"query":var Ee=de.find(function(Oe){return Oe.req.limit===ue.limit&&Oe.req.values===ue.values&&In(Oe.req.query.range,ue.query.range)});return Ee?[Ee,!0,fe,de]:[de.find(function(Oe){return("limit"in Oe.req?Oe.req.limit:1/0)>=ue.limit&&(!ue.values||Oe.req.values)&&Ai(Oe.req.query.range,ue.query.range)}),!1,fe,de];case"count":return Ee=de.find(function(Oe){return In(Oe.req.query.range,ue.query.range)}),[Ee,!!Ee,fe,de]}}(y,_,"query",x),X=G[0],B=G[1],te=G[2],F=G[3];return X&&B?X.obsSet=x.obsSet:(B=w.query(x).then(function(Y){var ie=Y.result;if(X&&(X.res=ie),O){for(var $=0,ue=ie.length;$<ue;++$)Object.freeze(ie[$]);Object.freeze(ie)}else Y.result=j(ie);return Y}).catch(function(Y){return F&&X&&qe(F,X),Promise.reject(Y)}),X={obsSet:x.obsSet,promise:B,subscribers:new Set,type:"query",req:x,dirty:!1},F?F.push(X):(F=[X],(te=te||(Ti["idb://".concat(y,"/").concat(_)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[x.query.index.name||""]=F)),zo(X,F,L,K),X.promise.then(function(Y){return{result:Si(Y.result,x,te==null?void 0:te.optimisticOps,w,X,O)}})}})}})}};function Bo(d,y){return new Proxy(d,{get:function(_,w,R){return w==="db"?y:Reflect.get(_,w,R)}})}var Ri=(Zt.prototype.version=function(d){if(isNaN(d)||d<.1)throw new Ke.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new Ke.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var y=this._versions,_=y.filter(function(w){return w._cfg.version===d})[0];return _||(_=new this.Version(d),y.push(_),y.sort(Ca),_.stores({}),this._state.autoSchema=!1,_)},Zt.prototype._whenReady=function(d){var y=this;return this.idbdb&&(this._state.openComplete||Fe.letThrough||this._vip)?d():new Ue(function(_,w){if(y._state.openComplete)return w(new Ke.DatabaseClosed(y._state.dbOpenError));if(!y._state.isBeingOpened){if(!y._state.autoOpen)return void w(new Ke.DatabaseClosed);y.open().catch(Tt)}y._state.dbReadyPromise.then(_,w)}).then(d)},Zt.prototype.use=function(d){var y=d.stack,_=d.create,w=d.level,R=d.name;return R&&this.unuse({stack:y,name:R}),d=this._middlewares[y]||(this._middlewares[y]=[]),d.push({stack:y,create:_,level:w??10,name:R}),d.sort(function(x,O){return x.level-O.level}),this},Zt.prototype.unuse=function(d){var y=d.stack,_=d.name,w=d.create;return y&&this._middlewares[y]&&(this._middlewares[y]=this._middlewares[y].filter(function(R){return w?R.create!==w:!!_&&R.name!==_})),this},Zt.prototype.open=function(){var d=this;return kr(An,function(){return ql(d)})},Zt.prototype._close=function(){var d=this._state,y=br.indexOf(this);if(0<=y&&br.splice(y,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new Ue(function(_){d.dbReadyResolve=_}),d.openCanceller=new Ue(function(_,w){d.cancelOpen=w}))},Zt.prototype.close=function(_){var y=(_===void 0?{disableAutoOpen:!0}:_).disableAutoOpen,_=this._state;y?(_.isBeingOpened&&_.cancelOpen(new Ke.DatabaseClosed),this._close(),_.autoOpen=!1,_.dbOpenError=new Ke.DatabaseClosed):(this._close(),_.autoOpen=this._options.autoOpen||_.isBeingOpened,_.openComplete=!1,_.dbOpenError=null)},Zt.prototype.delete=function(d){var y=this;d===void 0&&(d={disableAutoOpen:!0});var _=0<arguments.length&&typeof arguments[0]!="object",w=this._state;return new Ue(function(R,x){function O(){y.close(d);var L=y._deps.indexedDB.deleteDatabase(y.name);L.onsuccess=ct(function(){var K,G,X;K=y._deps,G=y.name,X=K.indexedDB,K=K.IDBKeyRange,Fs(X)||G===Er||Mo(X,K).delete(G).catch(Tt),R()}),L.onerror=ar(x),L.onblocked=y._fireOnBlocked}if(_)throw new Ke.InvalidArgument("Invalid closeOptions argument to db.delete()");w.isBeingOpened?w.dbReadyPromise.then(O):O()})},Zt.prototype.backendDB=function(){return this.idbdb},Zt.prototype.isOpen=function(){return this.idbdb!==null},Zt.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},Zt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Zt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Zt.prototype,"tables",{get:function(){var d=this;return u(this._allTables).map(function(y){return d._allTables[y]})},enumerable:!1,configurable:!0}),Zt.prototype.transaction=function(){var d=(function(y,_,w){var R=arguments.length;if(R<2)throw new Ke.InvalidArgument("Too few arguments");for(var x=new Array(R-1);--R;)x[R-1]=arguments[R];return w=x.pop(),[y,z(x),w]}).apply(this,arguments);return this._transaction.apply(this,d)},Zt.prototype._transaction=function(d,y,_){var w=this,R=Fe.trans;R&&R.db===this&&d.indexOf("!")===-1||(R=null);var x,O,L=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(O=y.map(function(G){if(G=G instanceof w.Table?G.name:G,typeof G!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return G}),d=="r"||d===gn)x=gn;else{if(d!="rw"&&d!=ji)throw new Ke.InvalidArgument("Invalid transaction mode: "+d);x=ji}if(R){if(R.mode===gn&&x===ji){if(!L)throw new Ke.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");R=null}R&&O.forEach(function(G){if(R&&R.storeNames.indexOf(G)===-1){if(!L)throw new Ke.SubTransaction("Table "+G+" not included in parent transaction.");R=null}}),L&&R&&!R.active&&(R=null)}}catch(G){return R?R._promise(null,function(X,B){B(G)}):Wt(G)}var K=(function G(X,B,te,F,Y){return Ue.resolve().then(function(){var ie=Fe.transless||Fe,$=X._createTransaction(B,te,X._dbSchema,F);if($.explicit=!0,ie={trans:$,transless:ie},F)$.idbtrans=F.idbtrans;else try{$.create(),$.idbtrans._explicit=!0,X._state.PR1398_maxLoop=3}catch(de){return de.name===cn.InvalidState&&X.isOpen()&&0<--X._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),X.close({disableAutoOpen:!1}),X.open().then(function(){return G(X,B,te,null,Y)})):Wt(de)}var ue,fe=be(Y);return fe&&sr(),ie=Ue.follow(function(){var de;(ue=Y.call($,$))&&(fe?(de=Dn.bind(null,null),ue.then(de,de)):typeof ue.next=="function"&&typeof ue.throw=="function"&&(ue=Lr(ue)))},ie),(ue&&typeof ue.then=="function"?Ue.resolve(ue).then(function(de){return $.active?de:Wt(new Ke.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ie.then(function(){return ue})).then(function(de){return F&&$._resolve(),$._completion.then(function(){return de})}).catch(function(de){return $._reject(de),Wt(de)})})}).bind(null,this,x,O,R,_);return R?R._promise(x,K,"lock"):Fe.trans?kr(Fe.transless,function(){return w._whenReady(K)}):this._whenReady(K)},Zt.prototype.table=function(d){if(!S(this._allTables,d))throw new Ke.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},Zt);function Zt(d,y){var _=this;this._middlewares={},this.verno=0;var w=Zt.dependencies;this._options=y=n({addons:Zt.addons,autoOpen:!0,indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange,cache:"cloned"},y),this._deps={indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange},w=y.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var R,x,O,L,K,G={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Tt,dbReadyPromise:null,cancelOpen:Tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:y.autoOpen};G.dbReadyPromise=new Ue(function(B){G.dbReadyResolve=B}),G.openCanceller=new Ue(function(B,te){G.cancelOpen=te}),this._state=G,this.name=d,this.on=yi(this,"populate","blocked","versionchange","close",{ready:[as,Tt]}),this.on.ready.subscribe=re(this.on.ready.subscribe,function(B){return function(te,F){Zt.vip(function(){var Y,ie=_._state;ie.openComplete?(ie.dbOpenError||Ue.resolve().then(te),F&&B(te)):ie.onReadyBeingFired?(ie.onReadyBeingFired.push(te),F&&B(te)):(B(te),Y=_,F||B(function $(){Y.on.ready.unsubscribe(te),Y.on.ready.unsubscribe($)}))})}}),this.Collection=(R=this,zi(Dr.prototype,function(ue,$){this.db=R;var F=gi,Y=null;if($)try{F=$()}catch(fe){Y=fe}var ie=ue._ctx,$=ie.table,ue=$.hook.reading.fire;this._ctx={table:$,index:ie.index,isPrimKey:!ie.index||$.schema.primKey.keyPath&&ie.index===$.schema.primKey.name,range:F,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:ie.or,valueMapper:ue!==qr?ue:null}})),this.Table=(x=this,zi(Ia.prototype,function(B,te,F){this.db=x,this._tx=F,this.name=B,this.schema=te,this.hook=x._allTables[B]?x._allTables[B].hook:yi(null,{creating:[jl,Tt],reading:[Ns,qr],updating:[ic,Tt],deleting:[xr,Tt]})})),this.Transaction=(O=this,zi(Nr.prototype,function(B,te,F,Y,ie){var $=this;this.db=O,this.mode=B,this.storeNames=te,this.schema=F,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=yi(this,"complete","error","abort"),this.parent=ie||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ue(function(ue,fe){$._resolve=ue,$._reject=fe}),this._completion.then(function(){$.active=!1,$.on.complete.fire()},function(ue){var fe=$.active;return $.active=!1,$.on.error.fire(ue),$.parent?$.parent._reject(ue):fe&&$.idbtrans&&$.idbtrans.abort(),Wt(ue)})})),this.Version=(L=this,zi(Bl.prototype,function(B){this.db=L,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(K=this,zi(_i.prototype,function(B,te,F){if(this.db=K,this._ctx={table:B,index:te===":id"?null:te,or:F},this._cmp=this._ascending=dt,this._descending=function(Y,ie){return dt(ie,Y)},this._max=function(Y,ie){return 0<dt(Y,ie)?Y:ie},this._min=function(Y,ie){return dt(Y,ie)<0?Y:ie},this._IDBKeyRange=K._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ke.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(_.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(_.name,"'. Closing db now to resume the delete request.")),_.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(_.name,"') was blocked")):console.warn("Upgrade '".concat(_.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=Ki(y.IDBKeyRange),this._createTransaction=function(B,te,F,Y){return new _.Transaction(B,te,F,_._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(B){_.on("blocked").fire(B),br.filter(function(te){return te.name===_.name&&te!==_&&!te._state.vcFired}).map(function(te){return te.on("versionchange").fire(B)})},this.use(Me),this.use(Fl),this.use(St),this.use(b),this.use(se);var X=new Proxy(this,{get:function(B,te,F){if(te==="_vip")return!0;if(te==="table")return function(ie){return Bo(_.table(ie),X)};var Y=Reflect.get(B,te,F);return Y instanceof Ia?Bo(Y,X):te==="tables"?Y.map(function(ie){return Bo(ie,X)}):te==="_createTransaction"?function(){return Bo(Y.apply(this,arguments),X)}:Y}});this.vip=X,w.forEach(function(B){return B(_)})}var La,Tr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",bf=(Kl.prototype.subscribe=function(d,y,_){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:y,complete:_})},Kl.prototype[Tr]=function(){return this},Kl);function Kl(d){this._subscribe=d}try{La={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{La={indexedDB:null,IDBKeyRange:null}}function Ef(d){var y,_=!1,w=new bf(function(R){var x=be(d),O,L=!1,K={},G={},X={get closed(){return L},unsubscribe:function(){L||(L=!0,O&&O.abort(),B&&Rn.storagemutated.unsubscribe(F))}};R.start&&R.start(X);var B=!1,te=function(){return Yr(Y)},F=function(ie){Mr(K,ie),Pa(G,K)&&te()},Y=function(){var ie,$,ue;!L&&La.indexedDB&&(K={},ie={},O&&O.abort(),O=new AbortController,ue=function(fe){var de=vr();try{x&&sr();var Ee=Xn(d,fe);return Ee=x?Ee.finally(Dn):Ee}finally{de&&Li()}}($={subscr:ie,signal:O.signal,requery:te,querier:d,trans:null}),Promise.resolve(ue).then(function(fe){_=!0,y=fe,L||$.signal.aborted||(K={},function(de){for(var Ee in de)if(S(de,Ee))return;return 1}(G=ie)||B||(Rn(ds,F),B=!0),Yr(function(){return!L&&R.next&&R.next(fe)}))},function(fe){_=!1,["DatabaseClosedError","AbortError"].includes(fe==null?void 0:fe.name)||L||Yr(function(){L||R.error&&R.error(fe)})}))};return setTimeout(te,0),X});return w.hasValue=function(){return _},w.getValue=function(){return y},w}var Ks=Ri;function sc(d){var y=gs;try{gs=!0,Rn.storagemutated.fire(d),Nn(d,!0)}finally{gs=y}}I(Ks,n(n({},Ir),{delete:function(d){return new Ks(d,{addons:[]}).delete()},exists:function(d){return new Ks(d,{addons:[]}).open().then(function(y){return y.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return y=Ks.dependencies,_=y.indexedDB,y=y.IDBKeyRange,(Fs(_)?Promise.resolve(_.databases()).then(function(w){return w.map(function(R){return R.name}).filter(function(R){return R!==Er})}):Mo(_,y).toCollection().primaryKeys()).then(d)}catch{return Wt(new Ke.MissingAPI)}var y,_},defineClass:function(){return function(d){m(this,d)}},ignoreTransaction:function(d){return Fe.trans?kr(Fe.transless,d):d()},vip:$i,async:function(d){return function(){try{var y=Lr(d.apply(this,arguments));return y&&typeof y.then=="function"?y:Ue.resolve(y)}catch(_){return Wt(_)}}},spawn:function(d,y,_){try{var w=Lr(d.apply(_,y||[]));return w&&typeof w.then=="function"?w:Ue.resolve(w)}catch(R){return Wt(R)}},currentTransaction:{get:function(){return Fe.trans||null}},waitFor:function(d,y){return y=Ue.resolve(typeof d=="function"?Ks.ignoreTransaction(d):d).timeout(y||6e4),Fe.trans?Fe.trans.waitFor(y):y},Promise:Ue,debug:{get:function(){return jn},set:function(d){Ul(d)}},derive:Z,extend:m,props:I,override:re,Events:yi,on:Rn,liveQuery:Ef,extendObservabilitySet:Mr,getByKeyPath:De,setByKeyPath:M,delByKeyPath:function(d,y){typeof y=="string"?M(d,y,void 0):"length"in y&&[].map.call(y,function(_){M(d,_,void 0)})},shallowClone:D,deepClone:j,getObjectDiff:T,cmp:dt,asap:Ae,minKey:-1/0,addons:[],connections:br,errnames:cn,dependencies:La,cache:Ti,semVer:"4.0.11",version:"4.0.11".split(".").map(function(d){return parseInt(d)}).reduce(function(d,y,_){return d+y/Math.pow(10,2*_)})})),Ks.maxKey=Ki(Ks.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Rn(ds,function(d){gs||(d=new CustomEvent(qi,{detail:d}),gs=!0,dispatchEvent(d),gs=!1)}),addEventListener(qi,function(d){d=d.detail,gs||sc(d)}));var ja,gs=!1,ur=function(){};return typeof BroadcastChannel<"u"&&((ur=function(){(ja=new BroadcastChannel(qi)).onmessage=function(d){return d.data&&sc(d.data)}})(),typeof ja.unref=="function"&&ja.unref(),Rn(ds,function(d){gs||ja.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!Ri.disableBfCache&&d.persisted){jn&&console.debug("Dexie: handling persisted pagehide"),ja!=null&&ja.close();for(var y=0,_=br;y<_.length;y++)_[y].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!Ri.disableBfCache&&d.persisted&&(jn&&console.debug("Dexie: handling persisted pageshow"),ur(),sc({all:new yn(-1/0,[[]])}))})),Ue.rejectionMapper=function(d,y){return!d||d instanceof Ie||d instanceof TypeError||d instanceof SyntaxError||!d.name||!Vi[d.name]?d:(y=new Vi[d.name](y||d.message,d),"stack"in d&&N(y,"stack",{get:function(){return this.inner.stack}}),y)},Ul(jn),n(Ri,Object.freeze({__proto__:null,Dexie:Ri,liveQuery:Ef,Entity:js,cmp:dt,PropModification:It,replacePrefix:function(d,y){return new It({replacePrefix:[d,y]})},add:function(d){return new It({add:d})},remove:function(d){return new It({remove:d})},default:Ri,RangeSet:yn,mergeRanges:Zr,rangesOverlap:Lo}),{default:Ri}),Ri})}(Bd)),Bd.exports}var oV=aV();const Ky=tS(oV),tT=Symbol.for("Dexie"),_m=globalThis[tT]||(globalThis[tT]=Ky);if(Ky.semVer!==_m.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Ky.semVer} and ${_m.semVer}`);const{liveQuery:XL,mergeRanges:WL,rangesOverlap:JL,RangeSet:ZL,cmp:e3,Entity:t3,PropModification:n3,replacePrefix:r3,add:i3,remove:s3}=_m;class lV extends _m{constructor(){super("FoodTrackerDB");Gb(this,"foods");this.version(1).stores({foods:"date"})}}const hR=new lV;async function uV(i,e){try{await hR.foods.put({date:i,selectedFoods:e})}catch(t){throw console.error(`Error saving foods for date ${i}:`,t),t}}async function cV(){try{return await hR.foods.toArray()}catch(i){throw console.error("Error loading all foods:",i),i}}var nl={},Xc={},rl={},ty={},Wc={},nT;function $m(){return nT||(nT=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.settings=void 0,Wc.settings={debug:!1,gravity:800,zIndex:99999,respectReducedMotion:!0}),Wc}var il={},Jc={},rT;function Gv(){if(rT)return Jc;rT=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.overrideDefaults=void 0;function i(e,t){return Object.assign({},e,t)}return Jc.overrideDefaults=i,Jc}var Zc={},sl={},eh={},iT;function hV(){if(iT)return eh;iT=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.Circle=void 0;var i=function(){function e(t,n,a){a===void 0&&(a=0),this.x=t,this.y=n,this.radius=a}return e.zero=new e(0,0),e}();return eh.Circle=i,eh}var th={},ny={},sT;function Ml(){return sT||(sT=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.approximately=i.clamp=i.invlerp=i.slerp=i.lerp=i.epsilon=i.rad2deg=i.deg2rad=void 0,i.deg2rad=Math.PI/180,i.rad2deg=180/Math.PI,i.epsilon=1e-6;function e(u,h,m){return(1-m)*u+m*h}i.lerp=e;function t(u,h,m){return e(u,h,(1-Math.cos(m*Math.PI))/2)}i.slerp=t;function n(u,h,m){return(m-u)/(h-u)}i.invlerp=n;function a(u,h,m){return Math.min(m,Math.max(h,u))}i.clamp=a;function o(u,h){return Math.abs(u-h)<i.epsilon}i.approximately=o}(ny)),ny}var aT;function fV(){if(aT)return th;aT=1,Object.defineProperty(th,"__esModule",{value:!0}),th.Color=void 0;var i=Ml(),e=function(){function t(n,a,o){this.values=new Float32Array(3),this.rgb=[n,a,o]}return Object.defineProperty(t.prototype,"r",{get:function(){return this.values[0]},set:function(n){this.values[0]=Math.floor(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this.values[1]},set:function(n){this.values[1]=Math.floor(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.values[2]},set:function(n){this.values[2]=Math.floor(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return[this.r,this.g,this.b]},set:function(n){this.r=n[0],this.g=n[1],this.b=n[2]},enumerable:!1,configurable:!0}),t.prototype.mix=function(n,a){return a===void 0&&(a=.5),new t(i.lerp(this.r,n.r,a),i.lerp(this.g,n.g,a),i.lerp(this.b,n.b,a))},t.prototype.toHex=function(){var n=function(a){return a.toString(16).padStart(2,"0")};return"#"+n(this.r)+n(this.g)+n(this.b)},t.prototype.toString=function(){return"rgb("+this.values.join(", ")+")"},t.fromHex=function(n){return n.startsWith("#")&&(n=n.substr(1)),new t(parseInt(n.substr(0,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(4,2),16))},t.fromHsl=function(n,a,o){if(n/=360,a/=100,o/=100,a===0)return new t(o,o,o);var u=function(E,S,I){return I<0&&(I+=1),I>1&&(I-=1),I<.16666666666666666?E+(S-E)*6*I:I<.5?S:I<.6666666666666666?E+(S-E)*(.6666666666666666-I)*6:E},h=function(E){return Math.min(255,256*E)},m=o<.5?o*(1+a):o+a-o*a,g=2*o-m;return new t(h(u(g,m,n+1/3)),h(u(g,m,n)),h(u(g,m,n-1/3)))},t.white=new t(255,255,255),t.black=new t(0,0,0),t}();return th.Color=e,th}var ia={},nh={},oT;function fR(){if(oT)return nh;oT=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.Spline=void 0;var i=Ml(),e=function(){function t(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Splines require at least one key.");if(Array.isArray(n[0]))throw new Error("You are trying to pass an array to the spline constructor, which is not supported. Try to spread the array into the constructor instead.");this.keys=n}return t.prototype.evaluate=function(n){if(this.keys.length===0)throw new Error("Attempt to evaluate a spline with no keys.");if(this.keys.length===1)return this.keys[0].value;var a=this.keys.sort(function(g,E){return g.time-E.time}),o=a.findIndex(function(g){return g.time>n});if(o===0)return a[0].value;if(o===-1)return a[a.length-1].value;var u=a[o-1],h=a[o],m=i.invlerp(u.time,h.time,n);return this.interpolate(u.value,h.value,m)},t}();return nh.Spline=e,nh}var lT;function dV(){if(lT)return ia;lT=1;var i=ia&&ia.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");a(o,u);function h(){this.constructor=o}o.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}}(),e=ia&&ia.__spreadArray||function(a,o){for(var u=0,h=o.length,m=a.length;u<h;u++,m++)a[m]=o[u];return a};Object.defineProperty(ia,"__esModule",{value:!0}),ia.Gradient=void 0;var t=fR(),n=function(a){i(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.interpolate=function(u,h,m){return u.mix(h,m)},o.solid=function(u){return new o({value:u,time:.5})},o.simple=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var m=1/(u.length-1);return new(o.bind.apply(o,e([void 0],u.map(function(g,E){return{value:g,time:E*m}}))))},o}(t.Spline);return ia.Gradient=n,ia}var al={},uT;function mV(){if(uT)return al;uT=1;var i=al&&al.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");a(o,u);function h(){this.constructor=o}o.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}}();Object.defineProperty(al,"__esModule",{value:!0}),al.NumericSpline=void 0;var e=Ml(),t=fR(),n=function(a){i(o,a);function o(){return a!==null&&a.apply(this,arguments)||this}return o.prototype.interpolate=function(u,h,m){return e.slerp(u,h,m)},o}(t.Spline);return al.NumericSpline=n,al}var rh={},cT;function pV(){if(cT)return rh;cT=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.Rect=void 0;var i=function(){function e(t,n,a,o){a===void 0&&(a=0),o===void 0&&(o=0),this.x=t,this.y=n,this.width=a,this.height=o}return e.fromScreen=function(){return new e(window.scrollX,window.scrollY,window.innerWidth,window.innerHeight)},e.fromElement=function(t){var n=t.getBoundingClientRect();return new e(window.scrollX+n.x,window.scrollY+n.y,n.width,n.height)},e.zero=new e(0,0),e}();return rh.Rect=i,rh}var ol={},hT;function $v(){if(hT)return ol;hT=1;var i=ol&&ol.__spreadArray||function(n,a){for(var o=0,u=a.length,h=n.length;o<u;o++,h++)n[h]=a[o];return n};Object.defineProperty(ol,"__esModule",{value:!0}),ol.Vector=void 0;var e=Ml(),t=function(){function n(a,o,u){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=0),this.values=new Float32Array(3),this.xyz=[a,o,u]}return Object.defineProperty(n.prototype,"x",{get:function(){return this.values[0]},set:function(a){this.values[0]=a},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.values[1]},set:function(a){this.values[1]=a},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"z",{get:function(){return this.values[2]},set:function(a){this.values[2]=a},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"xyz",{get:function(){return[this.x,this.y,this.z]},set:function(a){this.values[0]=a[0],this.values[1]=a[1],this.values[2]=a[2]},enumerable:!1,configurable:!0}),n.prototype.magnitude=function(){return Math.sqrt(this.sqrMagnitude())},n.prototype.sqrMagnitude=function(){return this.x*this.x+this.y*this.y+this.z*this.z},n.prototype.add=function(a){return new n(this.x+a.x,this.y+a.y,this.z+a.z)},n.prototype.subtract=function(a){return new n(this.x-a.x,this.y-a.y,this.z-a.z)},n.prototype.scale=function(a){return typeof a=="number"?new n(this.x*a,this.y*a,this.z*a):new n(this.x*a.x,this.y*a.y,this.z*a.z)},n.prototype.normalized=function(){var a=this.magnitude();return a!==0?this.scale(1/a):new(n.bind.apply(n,i([void 0],this.xyz)))},n.prototype.angle=function(a){return e.rad2deg*Math.acos((this.x*a.x+this.y*a.y+this.z*a.z)/(this.magnitude()*a.magnitude()))},n.prototype.cross=function(a){return new n(this.y*a.z-this.z*a.y,this.z*a.x-this.x*a.z,this.x*a.y-this.y*a.x)},n.prototype.dot=function(a){return this.magnitude()*a.magnitude()*Math.cos(e.deg2rad*this.angle(a))},n.prototype.toString=function(){return"Vector("+this.values.join(", ")+")"},n.from2dAngle=function(a){return new n(Math.cos(a*e.deg2rad),Math.sin(a*e.deg2rad))},n.zero=new n(0,0,0),n.one=new n(1,1,1),n.right=new n(1,0,0),n.up=new n(0,1,0),n.forward=new n(0,0,1),n}();return ol.Vector=t,ol}var fT;function _a(){return fT||(fT=1,function(i){var e=sl&&sl.__createBinding||(Object.create?function(n,a,o,u){u===void 0&&(u=o),Object.defineProperty(n,u,{enumerable:!0,get:function(){return a[o]}})}:function(n,a,o,u){u===void 0&&(u=o),n[u]=a[o]}),t=sl&&sl.__exportStar||function(n,a){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,n,o)};Object.defineProperty(i,"__esModule",{value:!0}),t(hV(),i),t(fV(),i),t(dV(),i),t(mV(),i),t(pV(),i),t($v(),i)}(sl)),sl}var dT;function gV(){if(dT)return Zc;dT=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.rotationToNormal=void 0;var i=_a(),e=Ml();function t(n){var a=n.x*e.deg2rad,o=n.y*e.deg2rad,u=new i.Vector(Math.cos(o),0,Math.sin(o)),h=new i.Vector(0,Math.cos(a),Math.sin(a));return u.cross(h)}return Zc.rotationToNormal=t,Zc}var ih={},mT;function dR(){return mT||(mT=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.despawningRules=void 0,ih.despawningRules={lifetime:function(i){return i.lifetime<=0},bounds:function(i){var e=document.documentElement.scrollHeight;return i.location.y>e}}),ih}var sh={},pT;function yV(){if(pT)return sh;pT=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.Lazy=void 0;var i=function(){function e(t,n){n===void 0&&(n=e.defaultExists),this.factory=t,this.exists=n}return Object.defineProperty(e.prototype,"current",{get:function(){return this.exists(this.value)||(this.value=this.factory()),this.value},enumerable:!1,configurable:!0}),e.defaultExists=function(t){return typeof t<"u"},e}();return sh.Lazy=i,sh}var gT;function Yu(){return gT||(gT=1,function(i){var e=il&&il.__createBinding||(Object.create?function(n,a,o,u){u===void 0&&(u=o),Object.defineProperty(n,u,{enumerable:!0,get:function(){return a[o]}})}:function(n,a,o,u){u===void 0&&(u=o),n[u]=a[o]}),t=il&&il.__exportStar||function(n,a){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,n,o)};Object.defineProperty(i,"__esModule",{value:!0}),t(Gv(),i),t(gV(),i),t(dR(),i),t(yV(),i)}(il)),il}var yT;function mR(){return yT||(yT=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.particleContainer=i.debugContainer=i.rootContainer=void 0;var e=$m(),t=Yu(),n="party-js-";function a(u){return u&&u.isConnected}function o(u,h,m){var g=document.createElement("div");return g.id=n+u,Object.assign(g.style,h),m.appendChild(g)}i.rootContainer=new t.Lazy(function(){return o("container",{position:"fixed",left:"0",top:"0",height:"100vh",width:"100vw",pointerEvents:"none",userSelect:"none",zIndex:e.settings.zIndex.toString()},document.body)},a),i.debugContainer=new t.Lazy(function(){return o("debug",{position:"absolute",top:"0",left:"0",margin:"0.5em",padding:"0.5em 1em",border:"2px solid rgb(0, 0, 0, 0.2)",background:"rgb(0, 0, 0, 0.1)",color:"#555",fontFamily:"monospace"},i.rootContainer.current)},a),i.particleContainer=new t.Lazy(function(){return o("particles",{width:"100%",height:"100%",overflow:"hidden",perspective:"1200px"},i.rootContainer.current)},a)}(ty)),ty}var vT;function vV(){if(vT)return rl;vT=1;var i=rl&&rl.__spreadArray||function(a,o){for(var u=0,h=o.length,m=a.length;u<h;u++,m++)a[m]=o[u];return a};Object.defineProperty(rl,"__esModule",{value:!0}),rl.Debug=void 0;var e=mR(),t=$m(),n=function(){function a(o){this.scene=o,this.refreshRate=8,this.refreshTimer=1/this.refreshRate}return a.prototype.tick=function(o){var u=e.debugContainer.current,h=t.settings.debug?"block":"none";u.style.display!==h&&(u.style.display=h),t.settings.debug&&(this.refreshTimer+=o,this.refreshTimer>1/this.refreshRate&&(this.refreshTimer=0,u.innerHTML=this.getDebugInformation(o).join("<br>")))},a.prototype.getDebugInformation=function(o){var u=this.scene.emitters.length,h=this.scene.emitters.reduce(function(E,S){return E+S.particles.length},0),m=["<b>party.js Debug</b>","--------------","FPS: "+Math.round(1/o),"Emitters: "+u,"Particles: "+h],g=this.scene.emitters.map(function(E){return[": "+(E.currentLoop+1)+"/"+(E.options.loops>=0?E.options.loops:""),"p: "+E.particles.length,E.isExpired?"<i>expired</i>":"t: "+E.durationTimer.toFixed(3)+"s"].join(", ")});return m.push.apply(m,i(["--------------"],g)),m},a}();return rl.Debug=n,rl}var ah={},Ar={},ai={},_T;function mf(){if(_T)return ai;_T=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.randomInsideCircle=ai.randomInsideRect=ai.randomUnitVector=ai.pick=ai.randomRange=void 0;var i=_a(),e=Ml();function t(h,m){return h===void 0&&(h=0),m===void 0&&(m=1),e.lerp(h,m,Math.random())}ai.randomRange=t;function n(h){return h.length===0?void 0:h[Math.floor(Math.random()*h.length)]}ai.pick=n;function a(){var h=t(0,2*Math.PI),m=t(-1,1);return new i.Vector(Math.sqrt(1-m*m)*Math.cos(h),Math.sqrt(1-m*m)*Math.sin(h),m)}ai.randomUnitVector=a;function o(h){return new i.Vector(h.x+t(0,h.width),h.y+t(0,h.height))}ai.randomInsideRect=o;function u(h){var m=t(0,2*Math.PI),g=t(0,h.radius);return new i.Vector(h.x+Math.cos(m)*g,h.y+Math.sin(m)*g)}return ai.randomInsideCircle=u,ai}var bT;function pf(){if(bT)return Ar;bT=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.gradientSample=Ar.splineSample=Ar.skewRelative=Ar.skew=Ar.range=Ar.evaluateVariation=void 0;var i=mf();function e(h){return Array.isArray(h)?i.pick(h):typeof h=="function"?h():h}Ar.evaluateVariation=e;function t(h,m){return function(){return i.randomRange(h,m)}}Ar.range=t;function n(h,m){return function(){return h+i.randomRange(-m,m)}}Ar.skew=n;function a(h,m){return function(){return h*(1+i.randomRange(-m,m))}}Ar.skewRelative=a;function o(h){return function(){return h.evaluate(Math.random())}}Ar.splineSample=o;function u(h){return o(h)}return Ar.gradientSample=u,Ar}var ll={},oh={},ET;function _V(){if(ET)return oh;ET=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.getDefaultEmitterOptions=void 0;var i=dR();function e(){return{duration:5,loops:1,useGravity:!0,maxParticles:300,despawningRules:[i.despawningRules.lifetime,i.despawningRules.bounds],modules:[]}}return oh.getDefaultEmitterOptions=e,oh}var lh={},oi={},wT;function Qm(){if(wT)return oi;wT=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.circleSource=oi.rectSource=oi.mouseSource=oi.elementSource=oi.dynamicSource=void 0;var i=_a(),e=mf();function t(h){if(h instanceof HTMLElement)return n(h);if(h instanceof i.Circle)return u(h);if(h instanceof i.Rect)return o(h);if(h instanceof MouseEvent)return a(h);throw new Error("Cannot infer the source type of '"+h+"'.")}oi.dynamicSource=t;function n(h){return function(){return e.randomInsideRect(i.Rect.fromElement(h))}}oi.elementSource=n;function a(h){return function(){return new i.Vector(window.scrollX+h.clientX,window.scrollY+h.clientY)}}oi.mouseSource=a;function o(h){return function(){return e.randomInsideRect(h)}}oi.rectSource=o;function u(h){return function(){return e.randomInsideCircle(h)}}return oi.circleSource=u,oi}var TT;function bV(){if(TT)return lh;TT=1,Object.defineProperty(lh,"__esModule",{value:!0}),lh.getDefaultEmissionOptions=void 0;var i=_a(),e=Qm();function t(){return{rate:10,angle:0,bursts:[],sourceSampler:e.rectSource(i.Rect.zero),initialLifetime:5,initialSpeed:5,initialSize:1,initialRotation:i.Vector.zero,initialColor:i.Color.white}}return lh.getDefaultEmissionOptions=t,lh}var uh={},ST;function EV(){if(ST)return uh;ST=1,Object.defineProperty(uh,"__esModule",{value:!0}),uh.getDefaultRendererOptions=void 0;function i(){return{shapeFactory:"square",applyColor:e,applyOpacity:t,applyLighting:n,applyTransform:a}}uh.getDefaultRendererOptions=i;function e(o,u){var h=o.toHex();switch(u.nodeName.toLowerCase()){case"div":u.style.background=h;break;case"svg":u.style.fill=u.style.color=h;break;default:u.style.color=h;break}}function t(o,u){u.style.opacity=o.toString()}function n(o,u){u.style.filter="brightness("+(.5+Math.abs(o))+")"}function a(o,u){u.style.transform="translateX("+(o.location.x-window.scrollX).toFixed(3)+"px) "+("translateY("+(o.location.y-window.scrollY).toFixed(3)+"px) ")+("translateZ("+o.location.z.toFixed(3)+"px) ")+("rotateX("+o.rotation.x.toFixed(3)+"deg) ")+("rotateY("+o.rotation.y.toFixed(3)+"deg) ")+("rotateZ("+o.rotation.z.toFixed(3)+"deg) ")+("scale("+o.size.toFixed(3)+")")}return uh}var AT;function wV(){return AT||(AT=1,function(i){var e=ll&&ll.__createBinding||(Object.create?function(n,a,o,u){u===void 0&&(u=o),Object.defineProperty(n,u,{enumerable:!0,get:function(){return a[o]}})}:function(n,a,o,u){u===void 0&&(u=o),n[u]=a[o]}),t=ll&&ll.__exportStar||function(n,a){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,n,o)};Object.defineProperty(i,"__esModule",{value:!0}),t(_V(),i),t(bV(),i),t(EV(),i)}(ll)),ll}var ch={},RT;function pR(){if(RT)return ch;RT=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.Particle=void 0;var i=_a(),e=Gv(),t=function(){function n(a){var o=e.overrideDefaults({lifetime:0,size:1,location:i.Vector.zero,rotation:i.Vector.zero,velocity:i.Vector.zero,color:i.Color.white,opacity:1},a);this.id=Symbol(),this.size=this.initialSize=o.size,this.lifetime=this.initialLifetime=o.lifetime,this.rotation=this.initialRotation=o.rotation,this.location=o.location,this.velocity=o.velocity,this.color=o.color,this.opacity=o.opacity}return n}();return ch.Particle=t,ch}var IT;function gR(){if(IT)return ah;IT=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.Emitter=void 0;var i=$v(),e=$m(),t=pf(),n=Gv(),a=wV(),o=pR(),u=function(){function h(m){this.particles=[],this.currentLoop=0,this.durationTimer=0,this.emissionTimer=0,this.attemptedBurstIndices=[],this.options=n.overrideDefaults(a.getDefaultEmitterOptions(),m==null?void 0:m.emitterOptions),this.emission=n.overrideDefaults(a.getDefaultEmissionOptions(),m==null?void 0:m.emissionOptions),this.renderer=n.overrideDefaults(a.getDefaultRendererOptions(),m==null?void 0:m.rendererOptions)}return Object.defineProperty(h.prototype,"isExpired",{get:function(){return this.options.loops>=0&&this.currentLoop>=this.options.loops},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"canRemove",{get:function(){return this.particles.length===0},enumerable:!1,configurable:!0}),h.prototype.clearParticles=function(){return this.particles.splice(0).length},h.prototype.tick=function(m){if(!this.isExpired&&(this.durationTimer+=m,this.durationTimer>=this.options.duration&&(this.currentLoop++,this.durationTimer=0,this.attemptedBurstIndices=[]),!this.isExpired)){for(var g=0,E=0,S=this.emission.bursts;E<S.length;E++){var I=S[E];if(I.time<=this.durationTimer&&!this.attemptedBurstIndices.includes(g)){for(var P=t.evaluateVariation(I.count),N=0;N<P;N++)this.emitParticle();this.attemptedBurstIndices.push(g)}g++}this.emissionTimer+=m;for(var Z=1/this.emission.rate;this.emissionTimer>Z;)this.emissionTimer-=Z,this.emitParticle()}for(var ne=function(_e){var re=ge.particles[_e];ge.tickParticle(re,m),ge.options.despawningRules.some(function(ve){return ve(re)})&&ge.particles.splice(_e,1)},ge=this,N=this.particles.length-1;N>=0;N--)ne(N)},h.prototype.tickParticle=function(m,g){m.lifetime-=g,this.options.useGravity&&(m.velocity=m.velocity.add(i.Vector.up.scale(e.settings.gravity*g))),m.location=m.location.add(m.velocity.scale(g));for(var E=0,S=this.options.modules;E<S.length;E++){var I=S[E];I(m)}},h.prototype.emitParticle=function(){var m=new o.Particle({location:this.emission.sourceSampler(),lifetime:t.evaluateVariation(this.emission.initialLifetime),velocity:i.Vector.from2dAngle(t.evaluateVariation(this.emission.angle)).scale(t.evaluateVariation(this.emission.initialSpeed)),size:t.evaluateVariation(this.emission.initialSize),rotation:t.evaluateVariation(this.emission.initialRotation),color:t.evaluateVariation(this.emission.initialColor)});return this.particles.push(m),this.particles.length>this.options.maxParticles&&this.particles.shift(),m},h}();return ah.Emitter=u,ah}var hh={},ry={},xT;function yR(){return xT||(xT=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.resolveShapeFactory=i.resolvableShapes=void 0;var e=pf();i.resolvableShapes={square:'<div style="height: 10px; width: 10px;"></div>',rectangle:'<div style="height: 6px; width: 10px;"></div>',circle:'<svg viewBox="0 0 2 2" width="10" height="10"><circle cx="1" cy="1" r="1" fill="currentColor"/></svg>',roundedSquare:'<div style="height: 10px; width: 10px; border-radius: 3px;"></div>',roundedRectangle:'<div style="height: 6px; width: 10px; border-radius: 3px;"></div>',star:'<svg viewBox="0 0 512 512" width="15" height="15"><polygon fill="currentColor" points="512,197.816 325.961,185.585 255.898,9.569 185.835,185.585 0,197.816 142.534,318.842 95.762,502.431 255.898,401.21 416.035,502.431 369.263,318.842"/></svg>'};function t(n){var a=e.evaluateVariation(n);if(typeof a=="string"){var o=i.resolvableShapes[a];if(!o)throw new Error("Failed to resolve shape key '"+a+"'. Did you forget to add it to the 'resolvableShapes' lookup?");var u=document.createElement("div");return u.innerHTML=o,u.firstElementChild}return a}i.resolveShapeFactory=t}(ry)),ry}var kT;function TV(){if(kT)return hh;kT=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.Renderer=void 0;var i=gf(),e=$v(),t=mR(),n=yR(),a=Yu(),o=function(){function u(){this.elements=new Map,this.light=new e.Vector(0,0,1),this.enabled=!0,this.enabled=!i.settings.respectReducedMotion||!window.matchMedia("(prefers-reduced-motion)").matches}return u.prototype.begin=function(){this.renderedParticles=[]},u.prototype.end=function(){for(var h=this.elements.keys(),m=h.next();!m.done;){var g=m.value;this.renderedParticles.includes(g)||(this.elements.get(g).remove(),this.elements.delete(g)),m=h.next()}return this.renderedParticles.length},u.prototype.renderParticle=function(h,m){if(this.enabled){var g=m.renderer,E=this.elements.has(h.id)?this.elements.get(h.id):this.createParticleElement(h,g);if(g.applyColor&&g.applyColor(h.color,E),g.applyOpacity&&g.applyOpacity(h.opacity,E),g.applyLighting){var S=a.rotationToNormal(h.rotation),I=S.dot(this.light);g.applyLighting(I,E)}g.applyTransform&&g.applyTransform(h,E),this.renderedParticles.push(h.id)}},u.prototype.createParticleElement=function(h,m){var g=n.resolveShapeFactory(m.shapeFactory),E=g.cloneNode(!0);return E.style.position="absolute",this.elements.set(h.id,t.particleContainer.current.appendChild(E)),E},u}();return hh.Renderer=o,hh}var CT;function SV(){if(CT)return Xc;CT=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.Scene=void 0;var i=vV(),e=gR(),t=TV(),n=function(){function a(){this.emitters=[],this.debug=new i.Debug(this),this.renderer=new t.Renderer,this.scheduledTickId=void 0,this.lastTickTimestamp=performance.now(),this.tick=this.tick.bind(this),this.scheduleTick()}return a.prototype.createEmitter=function(o){var u=new e.Emitter(o);return this.emitters.push(u),u},a.prototype.clearEmitters=function(){return this.emitters.splice(0).length},a.prototype.clearParticles=function(){return this.emitters.reduce(function(o,u){return o+u.clearParticles()},0)},a.prototype.scheduleTick=function(){this.scheduledTickId=window.requestAnimationFrame(this.tick)},a.prototype.cancelTick=function(){window.cancelAnimationFrame(this.scheduledTickId)},a.prototype.tick=function(o){var u=(o-this.lastTickTimestamp)/1e3;try{for(var h=0;h<this.emitters.length;h++){var m=this.emitters[h];m.tick(u),m.isExpired&&m.canRemove&&this.emitters.splice(h--,1)}}catch(N){console.error(`An error occurred while updating the scene's emitters:
"`+N+'"')}try{this.renderer.begin();for(var g=0,E=this.emitters;g<E.length;g++)for(var m=E[g],S=0,I=m.particles;S<I.length;S++){var P=I[S];this.renderer.renderParticle(P,m)}this.renderer.end()}catch(N){console.error(`An error occurred while rendering the scene's particles:
"`+N+'"')}this.debug.tick(u),this.lastTickTimestamp=o,this.scheduleTick()},a}();return Xc.Scene=n,Xc}var ul={},fh={},dh={},OT;function Qv(){if(OT)return dh;OT=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.ModuleBuilder=void 0;var i=_a(),e=function(){function o(){this.factor="lifetime",this.isRelative=!1}return o.prototype.drive=function(u){return this.driverKey=u,this},o.prototype.through=function(u){return this.factor=u,this},o.prototype.by=function(u){return this.driverValue=u,this},o.prototype.relative=function(u){return u===void 0&&(u=!0),this.isRelative=u,this},o.prototype.build=function(){var u=this;if(typeof this.driverKey>"u")throw new Error("No driving key was provided in the module builder. Did you forget a '.drive()' call?");if(typeof this.driverValue>"u")throw new Error("No driving value was provided in the module builder. Did you forget a '.through()' call?");return function(h){a(h,u.driverKey,t(u.driverValue,n(u.factor,h),h),u.isRelative)}},o}();dh.ModuleBuilder=e;function t(o,u,h){return typeof o=="object"&&"evaluate"in o?o.evaluate(u):typeof o=="function"?o(u,h):o}function n(o,u){switch(o){case"lifetime":return u.initialLifetime-u.lifetime;case"relativeLifetime":return(u.initialLifetime-u.lifetime)/u.initialLifetime;case"size":return u.size;default:throw new Error("Invalid driving factor '"+o+"'.")}}function a(o,u,h,m){if(m===void 0&&(m=!1),!m)o[u]=h;else{var g=o["initial"+u[0].toUpperCase()+u.substr(1)];if(typeof g>"u")throw new Error("Unable to use relative chaining with key '"+u+"'; no initial value exists.");if(h instanceof i.Vector)a(o,u,g.add(h));else if(typeof h=="number")a(o,u,g*h);else throw new Error("Unable to use relative chaining with particle key '"+u+"'; no relative operation for '"+h+"' could be inferred.")}}return dh}var DT;function AV(){if(DT)return fh;DT=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.confetti=void 0;var i=gf(),e=_a(),t=Qv(),n=mf(),a=Qm(),o=pf(),u=Yu();function h(m,g){var E=u.overrideDefaults({count:o.range(20,40),spread:o.range(35,45),speed:o.range(300,600),size:o.skew(1,.2),rotation:function(){return n.randomUnitVector().scale(180)},color:function(){return e.Color.fromHsl(n.randomRange(0,360),100,70)},modules:[new t.ModuleBuilder().drive("size").by(function(I){return Math.min(1,I*3)}).relative().build(),new t.ModuleBuilder().drive("rotation").by(function(I){return new e.Vector(140,200,260).scale(I)}).relative().build()],shapes:["square","circle"]},g),S=i.scene.current.createEmitter({emitterOptions:{loops:1,duration:8,modules:E.modules},emissionOptions:{rate:0,bursts:[{time:0,count:E.count}],sourceSampler:a.dynamicSource(m),angle:o.skew(-90,o.evaluateVariation(E.spread)),initialLifetime:8,initialSpeed:E.speed,initialSize:E.size,initialRotation:E.rotation,initialColor:E.color},rendererOptions:{shapeFactory:E.shapes}});return S}return fh.confetti=h,fh}var mh={},NT;function RV(){if(NT)return mh;NT=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.sparkles=void 0;var i=gf(),e=_a(),t=Qv(),n=mf(),a=Qm(),o=pf(),u=Yu();function h(m,g){var E=u.overrideDefaults({lifetime:o.range(1,2),count:o.range(10,20),speed:o.range(100,200),size:o.range(.8,1.8),rotation:function(){return new e.Vector(0,0,n.randomRange(0,360))},color:function(){return e.Color.fromHsl(50,100,n.randomRange(55,85))},modules:[new t.ModuleBuilder().drive("rotation").by(function(I){return new e.Vector(0,0,200).scale(I)}).relative().build(),new t.ModuleBuilder().drive("size").by(new e.NumericSpline({time:0,value:0},{time:.3,value:1},{time:.7,value:1},{time:1,value:0})).through("relativeLifetime").relative().build(),new t.ModuleBuilder().drive("opacity").by(new e.NumericSpline({time:0,value:1},{time:.5,value:1},{time:1,value:0})).through("relativeLifetime").build()],shapes:"star"},g),S=i.scene.current.createEmitter({emitterOptions:{loops:1,duration:3,useGravity:!1,modules:E.modules},emissionOptions:{rate:0,bursts:[{time:0,count:E.count}],sourceSampler:a.dynamicSource(m),angle:o.range(0,360),initialLifetime:E.lifetime,initialSpeed:E.speed,initialSize:E.size,initialRotation:E.rotation,initialColor:E.color},rendererOptions:{applyLighting:void 0,shapeFactory:E.shapes}});return S}return mh.sparkles=h,mh}var PT;function IV(){return PT||(PT=1,function(i){var e=ul&&ul.__createBinding||(Object.create?function(n,a,o,u){u===void 0&&(u=o),Object.defineProperty(n,u,{enumerable:!0,get:function(){return a[o]}})}:function(n,a,o,u){u===void 0&&(u=o),n[u]=a[o]}),t=ul&&ul.__exportStar||function(n,a){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&e(a,n,o)};Object.defineProperty(i,"__esModule",{value:!0}),t(AV(),i),t(RV(),i)}(ul)),ul}var VT;function gf(){return VT||(VT=1,function(i){var e=nl&&nl.__createBinding||(Object.create?function(g,E,S,I){I===void 0&&(I=S),Object.defineProperty(g,I,{enumerable:!0,get:function(){return E[S]}})}:function(g,E,S,I){I===void 0&&(I=S),g[I]=E[S]}),t=nl&&nl.__exportStar||function(g,E){for(var S in g)S!=="default"&&!Object.prototype.hasOwnProperty.call(E,S)&&e(E,g,S)};Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.forceInit=i.util=i.math=i.random=i.sources=i.variation=i.Emitter=i.Particle=i.settings=i.scene=void 0;var n=SV(),a=Yu();t(_a(),i),t(IV(),i),t(yR(),i),t(Qv(),i),i.scene=new a.Lazy(function(){if(typeof document>"u"||typeof window>"u")throw new Error("It seems like you are trying to run party.js in a non-browser-like environment, which is not supported.");return new n.Scene});var o=$m();Object.defineProperty(i,"settings",{enumerable:!0,get:function(){return o.settings}});var u=pR();Object.defineProperty(i,"Particle",{enumerable:!0,get:function(){return u.Particle}});var h=gR();Object.defineProperty(i,"Emitter",{enumerable:!0,get:function(){return h.Emitter}}),i.variation=pf(),i.sources=Qm(),i.random=mf(),i.math=Ml(),i.util=Yu();function m(){i.scene.current}i.forceInit=m,i.default=gf()}(nl)),nl}var xV=gf();const kV=tS(xV);function CV(){const{t:i}=ss("global"),[e,t]=me.useState(""),[n,a]=me.useState({}),[o,u]=me.useState(new Date().toISOString().split("T")[0]),[h,m]=me.useState({calories:3e3,fat:75,protein:150,carbs:431}),[g,E]=me.useState(null),[S,I]=me.useState(!1),P=(n[o]||[]).reduce((re,ve)=>({calories:re.calories+ve.food.calories*ve.quantity,fat:re.fat+ve.food.fat*ve.quantity,protein:re.protein+ve.food.protein*ve.quantity,carbs:re.carbs+ve.food.carbs*ve.quantity}),{calories:0,fat:0,protein:0,carbs:0});me.useEffect(()=>{const re=localStorage.getItem("nutritionGoals");re&&m(JSON.parse(re))},[]),me.useEffect(()=>{localStorage.setItem("nutritionGoals",JSON.stringify(h))},[h]),me.useEffect(()=>{cV().then(re=>{const ve=re.reduce((Ae,{date:De,selectedFoods:M})=>(Ae[De]=M,Ae),{});a(ve),ve[o]||a(Ae=>({...Ae,[o]:[]}))}).catch(re=>{console.error("Error loading all foods:",re),E("Failed to load food data")})},[]),me.useEffect(()=>{var re;if(((re=n[o])==null?void 0:re.length)>=0&&uV(o,n[o]||[]).catch(ve=>{console.error("Error saving foods:",ve),E("Failed to save food data")}),P.calories>h.calories&&!S){const ve=document.querySelector("#confetti");ve&&(kV.confetti(ve),I(!0))}P.calories<=h.calories&&S&&I(!1)},[n,o,P.calories,h.calories,S]);const N=eV.filter(re=>re.name.toLowerCase().includes(e.toLowerCase())),Z=re=>{a(ve=>{const Ae=ve[o]||[],De=Ae.findIndex(D=>D.food.id===re.id);let M;return De>=0?(M=[...Ae],M[De]={...M[De],quantity:M[De].quantity+1}):M=[...Ae,{food:re,quantity:1}],{...ve,[o]:M}}),t(""),E(`${re.name} ${i("notification.added")}`)},ne=re=>{a(ve=>({...ve,[o]:ve[o].filter((Ae,De)=>De!==re)}))},ge=(re,ve)=>{a(Ae=>{const M=[...Ae[o]||[]],D=M[re].quantity+ve;return D<=0?{...Ae,[o]:M.filter((V,z)=>z!==re)}:(M[re]={...M[re],quantity:D},{...Ae,[o]:M})}),ve>0&&E(`${n[o][re].food.name} lagt til`)},_e=re=>{if(re===0){const De=new Date().toISOString().split("T")[0];u(De),n[De]||a(M=>({...M,[De]:[]})),I(!1);return}const ve=new Date(o);ve.setDate(ve.getDate()+re);const Ae=ve.toISOString().split("T")[0];u(Ae),n[Ae]||a(De=>({...De,[Ae]:[]})),I(!1)};return W.jsxs("div",{className:"flex-1 p-4 sm:p-6 max-w-7xl mx-auto",children:[W.jsx(rV,{totals:P,goals:h}),W.jsx(nV,{currentDate:o,changeDate:_e}),W.jsx(tV,{searchTerm:e,filteredFoods:N,addFood:Z,setSearchTerm:t}),W.jsx(iV,{selectedFoods:n,currentDate:o,removeFood:ne,updateQuantity:ge}),g&&W.jsx(ZP,{message:g,onClose:()=>E(null)}),W.jsx(Hv,{})]})}var ph={},MT;function OV(){if(MT)return ph;MT=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.parse=u,ph.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function u(I,P){const N=new o,Z=I.length;if(Z<2)return N;const ne=(P==null?void 0:P.decode)||E;let ge=0;do{const _e=I.indexOf("=",ge);if(_e===-1)break;const re=I.indexOf(";",ge),ve=re===-1?Z:re;if(_e>ve){ge=I.lastIndexOf(";",_e-1)+1;continue}const Ae=h(I,ge,_e),De=m(I,_e,Ae),M=I.slice(Ae,De);if(N[M]===void 0){let D=h(I,_e+1,ve),V=m(I,ve,D);const z=ne(I.slice(D,V));N[M]=z}ge=ve+1}while(ge<Z);return N}function h(I,P,N){do{const Z=I.charCodeAt(P);if(Z!==32&&Z!==9)return P}while(++P<N);return N}function m(I,P,N){for(;P>N;){const Z=I.charCodeAt(--P);if(Z!==32&&Z!==9)return P+1}return N}function g(I,P,N){const Z=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(I))throw new TypeError(`argument name is invalid: ${I}`);const ne=Z(P);if(!e.test(ne))throw new TypeError(`argument val is invalid: ${P}`);let ge=I+"="+ne;if(!N)return ge;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);ge+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);ge+="; Domain="+N.domain}if(N.path){if(!n.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);ge+="; Path="+N.path}if(N.expires){if(!S(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);ge+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(ge+="; HttpOnly"),N.secure&&(ge+="; Secure"),N.partitioned&&(ge+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":ge+="; Priority=Low";break;case"medium":ge+="; Priority=Medium";break;case"high":ge+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":ge+="; SameSite=Strict";break;case"lax":ge+="; SameSite=Lax";break;case"none":ge+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return ge}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function S(I){return a.call(I)==="[object Date]"}return ph}OV();var LT="popstate";function DV(i={}){function e(n,a){let{pathname:o,search:u,hash:h}=n.location;return Hy("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:Yh(a)}return PV(e,t,null,i)}function un(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Os(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NV(){return Math.random().toString(36).substring(2,10)}function jT(i,e){return{usr:i.state,key:i.key,idx:e}}function Hy(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?nc(e):e,state:t,key:e&&e.key||n||NV()}}function Yh({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function nc(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function PV(i,e,t,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,u=a.history,h="POP",m=null,g=E();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function E(){return(u.state||{idx:null}).idx}function S(){h="POP";let ne=E(),ge=ne==null?null:ne-g;g=ne,m&&m({action:h,location:Z.location,delta:ge})}function I(ne,ge){h="PUSH";let _e=Hy(Z.location,ne,ge);g=E()+1;let re=jT(_e,g),ve=Z.createHref(_e);try{u.pushState(re,"",ve)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;a.location.assign(ve)}o&&m&&m({action:h,location:Z.location,delta:1})}function P(ne,ge){h="REPLACE";let _e=Hy(Z.location,ne,ge);g=E();let re=jT(_e,g),ve=Z.createHref(_e);u.replaceState(re,"",ve),o&&m&&m({action:h,location:Z.location,delta:0})}function N(ne){return VV(ne)}let Z={get action(){return h},get location(){return i(a,u)},listen(ne){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(LT,S),m=ne,()=>{a.removeEventListener(LT,S),m=null}},createHref(ne){return e(a,ne)},createURL:N,encodeLocation(ne){let ge=N(ne);return{pathname:ge.pathname,search:ge.search,hash:ge.hash}},push:I,replace:P,go(ne){return u.go(ne)}};return Z}function VV(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),un(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:Yh(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function vR(i,e,t="/"){return MV(i,e,t,!1)}function MV(i,e,t,n){let a=typeof e=="string"?nc(e):e,o=ga(a.pathname||"/",t);if(o==null)return null;let u=_R(i);LV(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let g=QV(o);h=GV(u[m],g,n)}return h}function _R(i,e=[],t=[],n=""){let a=(o,u,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};m.relativePath.startsWith("/")&&(un(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length));let g=ha([n,m.relativePath]),E=t.concat(m);o.children&&o.children.length>0&&(un(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_R(o.children,e,E,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:KV(g,o.index),routesMeta:E})};return i.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let m of bR(o.path))a(o,u,m)}),e}function bR(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let u=bR(n.join("/")),h=[];return h.push(...u.map(m=>m===""?o:[o,m].join("/"))),a&&h.push(...u),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function LV(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:HV(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var jV=/^:[\w-]+$/,UV=3,zV=2,BV=1,qV=10,FV=-2,UT=i=>i==="*";function KV(i,e){let t=i.split("/"),n=t.length;return t.some(UT)&&(n+=FV),e&&(n+=zV),t.filter(a=>!UT(a)).reduce((a,o)=>a+(jV.test(o)?UV:o===""?BV:qV),n)}function HV(i,e){return i.length===e.length&&i.slice(0,-1).every((n,a)=>n===e[a])?i[i.length-1]-e[e.length-1]:0}function GV(i,e,t=!1){let{routesMeta:n}=i,a={},o="/",u=[];for(let h=0;h<n.length;++h){let m=n[h],g=h===n.length-1,E=o==="/"?e:e.slice(o.length)||"/",S=bm({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),I=m.route;if(!S&&g&&t&&!n[n.length-1].route.index&&(S=bm({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!S)return null;Object.assign(a,S.params),u.push({params:a,pathname:ha([o,S.pathname]),pathnameBase:JV(ha([o,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(o=ha([o,S.pathnameBase]))}return u}function bm(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=$V(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:n.reduce((g,{paramName:E,isOptional:S},I)=>{if(E==="*"){let N=h[I]||"";u=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const P=h[I];return S&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:i}}function $V(i,e=!1,t=!0){Os(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(n.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function QV(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Os(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ga(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function YV(i,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof i=="string"?nc(i):i;return{pathname:t?t.startsWith("/")?t:XV(t,e):e,search:ZV(n),hash:eM(a)}}function XV(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function iy(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WV(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ER(i){let e=WV(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function wR(i,e,t,n=!1){let a;typeof i=="string"?a=nc(i):(a={...i},un(!a.pathname||!a.pathname.includes("?"),iy("?","pathname","search",a)),un(!a.pathname||!a.pathname.includes("#"),iy("#","pathname","hash",a)),un(!a.search||!a.search.includes("#"),iy("#","search","hash",a)));let o=i===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=t;else{let S=e.length-1;if(!n&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),S-=1;a.pathname=I.join("/")}h=S>=0?e[S]:"/"}let m=YV(a,h),g=u&&u!=="/"&&u.endsWith("/"),E=(o||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var ha=i=>i.join("/").replace(/\/\/+/g,"/"),JV=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ZV=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,eM=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function tM(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var TR=["POST","PUT","PATCH","DELETE"];new Set(TR);var nM=["GET",...TR];new Set(nM);var rc=me.createContext(null);rc.displayName="DataRouter";var Ym=me.createContext(null);Ym.displayName="DataRouterState";var SR=me.createContext({isTransitioning:!1});SR.displayName="ViewTransition";var rM=me.createContext(new Map);rM.displayName="Fetchers";var iM=me.createContext(null);iM.displayName="Await";var Ds=me.createContext(null);Ds.displayName="Navigation";var yf=me.createContext(null);yf.displayName="Location";var ba=me.createContext({outlet:null,matches:[],isDataRoute:!1});ba.displayName="Route";var Yv=me.createContext(null);Yv.displayName="RouteError";function sM(i,{relative:e}={}){un(vf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=me.useContext(Ds),{hash:a,pathname:o,search:u}=_f(i,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ha([t,o])),n.createHref({pathname:h,search:u,hash:a})}function vf(){return me.useContext(yf)!=null}function Ll(){return un(vf(),"useLocation() may be used only in the context of a <Router> component."),me.useContext(yf).location}var AR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RR(i){me.useContext(Ds).static||me.useLayoutEffect(i)}function aM(){let{isDataRoute:i}=me.useContext(ba);return i?_M():oM()}function oM(){un(vf(),"useNavigate() may be used only in the context of a <Router> component.");let i=me.useContext(rc),{basename:e,navigator:t}=me.useContext(Ds),{matches:n}=me.useContext(ba),{pathname:a}=Ll(),o=JSON.stringify(ER(n)),u=me.useRef(!1);return RR(()=>{u.current=!0}),me.useCallback((m,g={})=>{if(Os(u.current,AR),!u.current)return;if(typeof m=="number"){t.go(m);return}let E=wR(m,JSON.parse(o),a,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ha([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,o,a,i])}me.createContext(null);function _f(i,{relative:e}={}){let{matches:t}=me.useContext(ba),{pathname:n}=Ll(),a=JSON.stringify(ER(t));return me.useMemo(()=>wR(i,JSON.parse(a),n,e==="path"),[i,a,n,e])}function lM(i,e){return IR(i,e)}function IR(i,e,t,n){var _e;un(vf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=me.useContext(Ds),{matches:u}=me.useContext(ba),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",E=h?h.pathnameBase:"/",S=h&&h.route;{let re=S&&S.path||"";xR(g,!S||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let I=Ll(),P;if(e){let re=typeof e=="string"?nc(e):e;un(E==="/"||((_e=re.pathname)==null?void 0:_e.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),P=re}else P=I;let N=P.pathname||"/",Z=N;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Z="/"+N.replace(/^\//,"").split("/").slice(re.length).join("/")}let ne=!o&&t&&t.matches&&t.matches.length>0?t.matches:vR(i,{pathname:Z});Os(S||ne!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Os(ne==null||ne[ne.length-1].route.element!==void 0||ne[ne.length-1].route.Component!==void 0||ne[ne.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ge=dM(ne&&ne.map(re=>Object.assign({},re,{params:Object.assign({},m,re.params),pathname:ha([E,a.encodeLocation?a.encodeLocation(re.pathname).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:ha([E,a.encodeLocation?a.encodeLocation(re.pathnameBase).pathname:re.pathnameBase])})),u,t,n);return e&&ge?me.createElement(yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ge):ge}function uM(){let i=vM(),e=tM(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=me.createElement(me.Fragment,null,me.createElement("p",null," Hey developer "),me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",me.createElement("code",{style:o},"ErrorBoundary")," or"," ",me.createElement("code",{style:o},"errorElement")," prop on your route.")),me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},e),t?me.createElement("pre",{style:a},t):null,u)}var cM=me.createElement(uM,null),hM=class extends me.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?me.createElement(ba.Provider,{value:this.props.routeContext},me.createElement(Yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fM({routeContext:i,match:e,children:t}){let n=me.useContext(rc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),me.createElement(ba.Provider,{value:i},t)}function dM(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let a=i,o=t==null?void 0:t.errors;if(o!=null){let m=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);un(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,h=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:E,errors:S}=t,I=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||I){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,g,E)=>{let S,I=!1,P=null,N=null;t&&(S=o&&g.route.id?o[g.route.id]:void 0,P=g.route.errorElement||cM,u&&(h<0&&E===0?(xR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,N=null):h===E&&(I=!0,N=g.route.hydrateFallbackElement||null)));let Z=e.concat(a.slice(0,E+1)),ne=()=>{let ge;return S?ge=P:I?ge=N:g.route.Component?ge=me.createElement(g.route.Component,null):g.route.element?ge=g.route.element:ge=m,me.createElement(fM,{match:g,routeContext:{outlet:m,matches:Z,isDataRoute:t!=null},children:ge})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?me.createElement(hM,{location:t.location,revalidation:t.revalidation,component:P,error:S,children:ne(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):ne()},null)}function Xv(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mM(i){let e=me.useContext(rc);return un(e,Xv(i)),e}function pM(i){let e=me.useContext(Ym);return un(e,Xv(i)),e}function gM(i){let e=me.useContext(ba);return un(e,Xv(i)),e}function Wv(i){let e=gM(i),t=e.matches[e.matches.length-1];return un(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function yM(){return Wv("useRouteId")}function vM(){var n;let i=me.useContext(Yv),e=pM("useRouteError"),t=Wv("useRouteError");return i!==void 0?i:(n=e.errors)==null?void 0:n[t]}function _M(){let{router:i}=mM("useNavigate"),e=Wv("useNavigate"),t=me.useRef(!1);return RR(()=>{t.current=!0}),me.useCallback(async(a,o={})=>{Os(t.current,AR),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...o}))},[i,e])}var zT={};function xR(i,e,t){!e&&!zT[i]&&(zT[i]=!0,Os(!1,t))}me.memo(bM);function bM({routes:i,future:e,state:t}){return IR(i,void 0,t,e)}function Iu(i){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EM({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1}){un(!vf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),h=me.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=nc(t));let{pathname:m="/",search:g="",hash:E="",state:S=null,key:I="default"}=t,P=me.useMemo(()=>{let N=ga(m,u);return N==null?null:{location:{pathname:N,search:g,hash:E,state:S,key:I},navigationType:n}},[u,m,g,E,S,I,n]);return Os(P!=null,`<Router basename="${u}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:me.createElement(Ds.Provider,{value:h},me.createElement(yf.Provider,{children:e,value:P}))}function wM({children:i,location:e}){return lM(Gy(i),e)}function Gy(i,e=[]){let t=[];return me.Children.forEach(i,(n,a)=>{if(!me.isValidElement(n))return;let o=[...e,a];if(n.type===me.Fragment){t.push.apply(t,Gy(n.props.children,o));return}un(n.type===Iu,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Gy(n.props.children,o)),t.push(u)}),t}var qd="get",Fd="application/x-www-form-urlencoded";function Xm(i){return i!=null&&typeof i.tagName=="string"}function TM(i){return Xm(i)&&i.tagName.toLowerCase()==="button"}function SM(i){return Xm(i)&&i.tagName.toLowerCase()==="form"}function AM(i){return Xm(i)&&i.tagName.toLowerCase()==="input"}function RM(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function IM(i,e){return i.button===0&&(!e||e==="_self")&&!RM(i)}var Rd=null;function xM(){if(Rd===null)try{new FormData(document.createElement("form"),0),Rd=!1}catch{Rd=!0}return Rd}var kM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sy(i){return i!=null&&!kM.has(i)?(Os(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fd}"`),null):i}function CM(i,e){let t,n,a,o,u;if(SM(i)){let h=i.getAttribute("action");n=h?ga(h,e):null,t=i.getAttribute("method")||qd,a=sy(i.getAttribute("enctype"))||Fd,o=new FormData(i)}else if(TM(i)||AM(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(n=m?ga(m,e):null,t=i.getAttribute("formmethod")||h.getAttribute("method")||qd,a=sy(i.getAttribute("formenctype"))||sy(h.getAttribute("enctype"))||Fd,o=new FormData(h,i),!xM()){let{name:g,type:E,value:S}=i;if(E==="image"){let I=g?`${g}.`:"";o.append(`${I}x`,"0"),o.append(`${I}y`,"0")}else g&&o.append(g,S)}}else{if(Xm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qd,n=null,a=Fd,u=i}return o&&a==="text/plain"&&(u=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:u}}function Jv(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function OM(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DM(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function NM(i,e,t){let n=await Promise.all(i.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await OM(o,t);return u.links?u.links():[]}return[]}));return LM(n.flat(1).filter(DM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function BT(i,e,t,n,a,o){let u=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,h=(m,g)=>{var E;return t[g].pathname!==m.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return o==="assets"?e.filter((m,g)=>u(m,g)||h(m,g)):o==="data"?e.filter((m,g)=>{var S;let E=n.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(u(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let I=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function PM(i,e,{includeHydrateFallback:t}={}){return VM(i.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function VM(i){return[...new Set(i)]}function MM(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function LM(i,e){let t=new Set;return new Set(e),i.reduce((n,a)=>{let o=JSON.stringify(MM(a));return t.has(o)||(t.add(o),n.push({key:o,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jM=new Set([100,101,204,205]);function UM(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&ga(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function kR(){let i=me.useContext(rc);return Jv(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zM(){let i=me.useContext(Ym);return Jv(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zv=me.createContext(void 0);Zv.displayName="FrameworkContext";function CR(){let i=me.useContext(Zv);return Jv(i,"You must render this element inside a <HydratedRouter> element"),i}function BM(i,e){let t=me.useContext(Zv),[n,a]=me.useState(!1),[o,u]=me.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,I=me.useRef(null);me.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let Z=ge=>{ge.forEach(_e=>{u(_e.isIntersecting)})},ne=new IntersectionObserver(Z,{threshold:.5});return I.current&&ne.observe(I.current),()=>{ne.disconnect()}}},[i]),me.useEffect(()=>{if(n){let Z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(Z)}}},[n]);let P=()=>{a(!0)},N=()=>{a(!1),u(!1)};return t?i!=="intent"?[o,I,{}]:[o,I,{onFocus:gh(h,P),onBlur:gh(m,N),onMouseEnter:gh(g,P),onMouseLeave:gh(E,N),onTouchStart:gh(S,P)}]:[!1,I,{}]}function gh(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function qM({page:i,...e}){let{router:t}=kR(),n=me.useMemo(()=>vR(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?me.createElement(KM,{page:i,matches:n,...e}):null}function FM(i){let{manifest:e,routeModules:t}=CR(),[n,a]=me.useState([]);return me.useEffect(()=>{let o=!1;return NM(i,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[i,e,t]),n}function KM({page:i,matches:e,...t}){let n=Ll(),{manifest:a,routeModules:o}=CR(),{basename:u}=kR(),{loaderData:h,matches:m}=zM(),g=me.useMemo(()=>BT(i,e,m,a,n,"data"),[i,e,m,a,n]),E=me.useMemo(()=>BT(i,e,m,a,n,"assets"),[i,e,m,a,n]),S=me.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let N=new Set,Z=!1;if(e.forEach(ge=>{var re;let _e=a.routes[ge.route.id];!_e||!_e.hasLoader||(!g.some(ve=>ve.route.id===ge.route.id)&&ge.route.id in h&&((re=o[ge.route.id])!=null&&re.shouldRevalidate)||_e.hasClientLoader?Z=!0:N.add(ge.route.id))}),N.size===0)return[];let ne=UM(i,u);return Z&&N.size>0&&ne.searchParams.set("_routes",e.filter(ge=>N.has(ge.route.id)).map(ge=>ge.route.id).join(",")),[ne.pathname+ne.search]},[u,h,n,a,g,e,i,o]),I=me.useMemo(()=>PM(E,a),[E,a]),P=FM(E);return me.createElement(me.Fragment,null,S.map(N=>me.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),I.map(N=>me.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),P.map(({key:N,link:Z})=>me.createElement("link",{key:N,...Z})))}function HM(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var OR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OR&&(window.__reactRouterVersion="7.6.0")}catch{}function GM({basename:i,children:e,window:t}){let n=me.useRef();n.current==null&&(n.current=DV({window:t,v5Compat:!0}));let a=n.current,[o,u]=me.useState({action:a.action,location:a.location}),h=me.useCallback(m=>{me.startTransition(()=>u(m))},[u]);return me.useLayoutEffect(()=>a.listen(h),[a,h]),me.createElement(EM,{basename:i,children:e,location:o.location,navigationType:o.action,navigator:a})}var DR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NR=me.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:u,state:h,target:m,to:g,preventScrollReset:E,viewTransition:S,...I},P){let{basename:N}=me.useContext(Ds),Z=typeof g=="string"&&DR.test(g),ne,ge=!1;if(typeof g=="string"&&Z&&(ne=g,OR))try{let V=new URL(window.location.href),z=g.startsWith("//")?new URL(V.protocol+g):new URL(g),Q=ga(z.pathname,N);z.origin===V.origin&&Q!=null?g=Q+z.search+z.hash:ge=!0}catch{Os(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _e=sM(g,{relative:a}),[re,ve,Ae]=BM(n,I),De=XM(g,{replace:u,state:h,target:m,preventScrollReset:E,relative:a,viewTransition:S});function M(V){e&&e(V),V.defaultPrevented||De(V)}let D=me.createElement("a",{...I,...Ae,href:ne||_e,onClick:ge||o?e:M,ref:HM(P,ve),target:m,"data-discover":!Z&&t==="render"?"true":void 0});return re&&!Z?me.createElement(me.Fragment,null,D,me.createElement(qM,{page:_e})):D});NR.displayName="Link";var $M=me.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:u,viewTransition:h,children:m,...g},E){let S=_f(u,{relative:g.relative}),I=Ll(),P=me.useContext(Ym),{navigator:N,basename:Z}=me.useContext(Ds),ne=P!=null&&t4(S)&&h===!0,ge=N.encodeLocation?N.encodeLocation(S).pathname:S.pathname,_e=I.pathname,re=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(_e=_e.toLowerCase(),re=re?re.toLowerCase():null,ge=ge.toLowerCase()),re&&Z&&(re=ga(re,Z)||re);const ve=ge!=="/"&&ge.endsWith("/")?ge.length-1:ge.length;let Ae=_e===ge||!a&&_e.startsWith(ge)&&_e.charAt(ve)==="/",De=re!=null&&(re===ge||!a&&re.startsWith(ge)&&re.charAt(ge.length)==="/"),M={isActive:Ae,isPending:De,isTransitioning:ne},D=Ae?e:void 0,V;typeof n=="function"?V=n(M):V=[n,Ae?"active":null,De?"pending":null,ne?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(M):o;return me.createElement(NR,{...g,"aria-current":D,className:V,ref:E,style:z,to:u,viewTransition:h},typeof m=="function"?m(M):m)});$M.displayName="NavLink";var QM=me.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:u=qd,action:h,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:S,...I},P)=>{let N=ZM(),Z=e4(h,{relative:g}),ne=u.toLowerCase()==="get"?"get":"post",ge=typeof h=="string"&&DR.test(h),_e=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let ve=re.nativeEvent.submitter,Ae=(ve==null?void 0:ve.getAttribute("formmethod"))||u;N(ve||re.currentTarget,{fetcherKey:e,method:Ae,navigate:t,replace:a,state:o,relative:g,preventScrollReset:E,viewTransition:S})};return me.createElement("form",{ref:P,method:ne,action:Z,onSubmit:n?m:_e,...I,"data-discover":!ge&&i==="render"?"true":void 0})});QM.displayName="Form";function YM(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PR(i){let e=me.useContext(rc);return un(e,YM(i)),e}function XM(i,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=aM(),m=Ll(),g=_f(i,{relative:o});return me.useCallback(E=>{if(IM(E,e)){E.preventDefault();let S=t!==void 0?t:Yh(m)===Yh(g);h(i,{replace:S,state:n,preventScrollReset:a,relative:o,viewTransition:u})}},[m,h,g,t,n,e,i,a,o,u])}var WM=0,JM=()=>`__${String(++WM)}__`;function ZM(){let{router:i}=PR("useSubmit"),{basename:e}=me.useContext(Ds),t=yM();return me.useCallback(async(n,a={})=>{let{action:o,method:u,encType:h,formData:m,body:g}=CM(n,e);if(a.navigate===!1){let E=a.fetcherKey||JM();await i.fetch(E,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await i.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function e4(i,{relative:e}={}){let{basename:t}=me.useContext(Ds),n=me.useContext(ba);un(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={..._f(i||".",{relative:e})},u=Ll();if(i==null){o.search=u.search;let h=new URLSearchParams(o.search),m=h.getAll("index");if(m.some(E=>E==="")){h.delete("index"),m.filter(S=>S).forEach(S=>h.append("index",S));let E=h.toString();o.search=E?`?${E}`:""}}return(!i||i===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ha([t,o.pathname])),Yh(o)}function t4(i,e={}){let t=me.useContext(SR);un(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=PR("useViewTransitionState"),a=_f(i,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ga(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=ga(t.nextLocation.pathname,n)||t.nextLocation.pathname;return bm(a.pathname,u)!=null||bm(a.pathname,o)!=null}[...jM];function n4(){const{t:i}=ss("global");return W.jsx("div",{className:"min-h-screen flex items-start justify-start flex-col p-8",children:W.jsxs("div",{className:"max-w-lg text-left",children:[W.jsxs("h3",{className:"text-5xl font-bold text-gray-800 mb-4",children:["404 - ",i("errorpage.main")]}),W.jsx("p",{className:"text-black mb-4",children:i("errorpage.description")}),W.jsx("a",{href:"/",className:"text-sm text-black underline",children:i("errorpage.link")})]})})}const r4="/assets/emoji-CUFihAvz.png";function i4(){const{t:i}=ss("global"),{user:e}=me.useContext(Wh);return W.jsxs("div",{className:"min-h-screen flex items-start justify-start flex-col p-8",children:[W.jsxs("div",{className:"max-w-lg text-left",children:[W.jsxs("h3",{className:"text-5xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:["Velkommen",W.jsx("img",{src:r4,alt:"Hand emoji",className:"inline-block w-12 h-12"})]}),W.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:[i("homepage.top.title")," ",W.jsxs("span",{className:"relative inline-block",children:[i("homepage.top.highlighted_phrases.amazing"),W.jsx("svg",{className:"absolute -bottom-1 left-0 w-full h-2",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:W.jsx("path",{d:"M0,5 Q50,10 100,5",fill:"none",stroke:"#FBBF24",strokeWidth:"2"})})]})," ",i("homepage.top.mid_description"),W.jsxs("span",{className:"relative inline-block mx-1",children:[i("homepage.top.highlighted_phrases.track"),W.jsx("svg",{className:"absolute -bottom-1 left-0 w-full h-2",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:W.jsx("path",{d:"M0,5 Q50,10 100,5",fill:"none",stroke:"#FBBF24",strokeWidth:"2"})})]})," ",i("homepage.top.description")]}),W.jsx("div",{className:"space-y-4",children:e?W.jsxs("button",{type:"button",onClick:()=>window.location.assign("/tracker"),className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[i("homepage.buttons.tracker"),W.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:W.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]}):W.jsxs("button",{type:"button",onClick:()=>window.location.assign("/account"),className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[i("homepage.buttons.account"),W.jsx("svg",{className:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10",children:W.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})})]})})]}),W.jsx("div",{className:"text-left ml-[-20px] mt-15 md:mt-0",children:W.jsx("section",{className:"bg-white",children:W.jsxs("div",{className:"gap-16 items-center py-4 px-4 mx-auto max-w-screen-xl lg:grid lg:grid-cols-2 lg:py-16 lg:px-6",children:[W.jsxs("div",{className:"font-light text-gray-500 sm:text-lg",children:[W.jsxs("h2",{className:"mb-4 text-4xl tracking-tight font-extrabold text-gray-900",children:[i("homepage.introduction.main1")," ",i("homepage.introduction.main2")]}),W.jsx("p",{className:"mb-4",children:i("homepage.introduction.first")}),W.jsx("p",{children:i("homepage.introduction.second")})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[W.jsx("img",{className:"w-full rounded-lg",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/content/office-long-2.png",alt:"office content 1"}),W.jsx("img",{className:"mt-4 w-full lg:mt-10 rounded-lg",src:"https://flowbite.s3.amazonaws.com/blocks/marketing-ui/content/office-long-1.png",alt:"office content 2"})]})]})})}),W.jsx("div",{className:"w-full",children:W.jsx(Hv,{})})]})}function s4(){const{t:i}=ss("global"),e=i("termspage.title"),t=i("termspage.intro"),n=i("termspage.sections",{returnObjects:!0});return W.jsxs("div",{className:"mx-auto p-8",children:[W.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-4",children:e}),W.jsx("p",{className:"mb-6 text-gray-700",children:t}),n.map((a,o)=>W.jsxs("div",{className:"mb-6",children:[W.jsx("h2",{className:"text-2xl font-semibold mt-6 mb-2 text-gray-800",children:a.title}),W.jsx("p",{className:"text-gray-700",children:a.content})]},o)),W.jsx(Hv,{})]})}const a4=async()=>{try{const i=new sa,t=(await JC(Kv,i)).user,n=ZA(oR,"users",t.email);if(!(await sR(n)).exists())throw new Error("User document doesn't exist");return t}catch(i){throw console.error("Google sign-in error:",i),i}};function o4(){const[i,e]=me.useState(!1),[t,n]=me.useState(null),a=async()=>{try{e(!0),n(null),await a4(),window.location.assign("/tracker")}catch(o){const u=o.message||"Failed to sign in with Google";n(u),alert(u)}finally{e(!1)}};return W.jsx("div",{className:"min-h-screen flex items-center justify-center",children:W.jsxs("div",{className:"bg-white p-4 rounded-lg w-full max-w-lg",children:[W.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create an account / log in"}),W.jsx("p",{className:"text-gray-500 text-base",children:"Create your account / log in using our following providers."}),t&&W.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:t}),W.jsx("div",{className:"flex flex-col space-y-4 mt-6",children:W.jsxs("button",{onClick:a,disabled:i,className:"flex items-center justify-center cursor-pointer gap-2 text-sm bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[W.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[W.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),W.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-1.02.68-2.33 1.09-3.71 1.09-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),W.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),W.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i?"Signing in...":"Google"]})})]})})}function l4(){const{user:i}=me.useContext(Wh);return W.jsxs("div",{className:"flex min-h-screen",children:[W.jsx("div",{className:"fixed top-0 left-0 h-screen w-64 z-999",children:W.jsx(JP,{})}),W.jsx("div",{className:"flex-1 flex items-center justify-center md:ml-64 overflow-y-auto w-full",children:W.jsx("div",{className:"max-w-[1200px] w-full h-full",children:W.jsx(GM,{children:W.jsxs(wM,{children:[W.jsx(Iu,{path:"/",element:W.jsx(i4,{})}),i&&W.jsx(Iu,{path:"/tracker",element:W.jsx(CV,{})}),!i&&W.jsx(Iu,{path:"/account",element:W.jsx(o4,{})}),W.jsx(Iu,{path:"/terms",element:W.jsx(s4,{})}),W.jsx(Iu,{path:"*",element:W.jsx(n4,{})})]})})})})]})}const u4=({children:i})=>{const[e,t]=me.useState(null),[n,a]=me.useState(!0);me.useEffect(()=>{const u=Kv.onAuthStateChanged(async h=>{try{if(a(!0),h){const m=ZA(oR,"users",h.email);(await sR(m)).exists()?t(h):t(null)}else t(null)}catch(m){console.error("Auth state change error:",m),t(null)}finally{a(!1)}});return()=>u()},[]);const o={user:e,isLoading:n};return W.jsx(Wh.Provider,{value:o,children:i})},ut=i=>typeof i=="string",yh=()=>{let i,e;const t=new Promise((n,a)=>{i=n,e=a});return t.resolve=i,t.reject=e,t},qT=i=>i==null?"":""+i,c4=(i,e,t)=>{i.forEach(n=>{e[n]&&(t[n]=e[n])})},h4=/###/g,FT=i=>i&&i.indexOf("###")>-1?i.replace(h4,"."):i,KT=i=>!i||ut(i),Oh=(i,e,t)=>{const n=ut(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(KT(i))return{};const o=FT(n[a]);!i[o]&&t&&(i[o]=new t),Object.prototype.hasOwnProperty.call(i,o)?i=i[o]:i={},++a}return KT(i)?{}:{obj:i,k:FT(n[a])}},HT=(i,e,t)=>{const{obj:n,k:a}=Oh(i,e,Object);if(n!==void 0||e.length===1){n[a]=t;return}let o=e[e.length-1],u=e.slice(0,e.length-1),h=Oh(i,u,Object);for(;h.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),h=Oh(i,u,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=t},f4=(i,e,t,n)=>{const{obj:a,k:o}=Oh(i,e,Object);a[o]=a[o]||[],a[o].push(t)},Em=(i,e)=>{const{obj:t,k:n}=Oh(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},d4=(i,e,t)=>{const n=Em(i,t);return n!==void 0?n:Em(e,t)},VR=(i,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in i?ut(i[n])||i[n]instanceof String||ut(e[n])||e[n]instanceof String?t&&(i[n]=e[n]):VR(i[n],e[n],t):i[n]=e[n]);return i},bu=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var m4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const p4=i=>ut(i)?i.replace(/[&<>"'\/]/g,e=>m4[e]):i;class g4{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const y4=[" ",",","?","!",";"],v4=new g4(20),_4=(i,e,t)=>{e=e||"",t=t||"";const n=y4.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(n.length===0)return!0;const a=v4.getRegExp(`(${n.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(i);if(!o){const u=i.indexOf(t);u>0&&!a.test(i.substring(0,u))&&(o=!0)}return o},$y=(i,e,t=".")=>{if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const n=e.split(t);let a=i;for(let o=0;o<n.length;){if(!a||typeof a!="object")return;let u,h="";for(let m=o;m<n.length;++m)if(m!==o&&(h+=t),h+=n[m],u=a[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&m<n.length-1)continue;o+=m-o+1;break}a=u}return a},wm=i=>i==null?void 0:i.replace("_","-"),b4={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){var t,n;(n=(t=console==null?void 0:console[i])==null?void 0:t.apply)==null||n.call(t,console,e)}};class Tm{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||b4,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,a){return a&&!this.debug?null:(ut(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Tm(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Tm(this.logger,e)}}var Is=new Tm;class Wm{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(t)||0;this.observers[n].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[e,...t])})}}class GT extends Wm{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,a={}){var g,E;const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,t],n&&(Array.isArray(n)?h.push(...n):ut(n)&&o?h.push(...n.split(o)):h.push(n)));const m=Em(this.data,h);return!m&&!t&&!n&&e.indexOf(".")>-1&&(e=h[0],t=h[1],n=h.slice(2).join(".")),m||!u||!ut(n)?m:$y((E=(g=this.data)==null?void 0:g[e])==null?void 0:E[t],n,o)}addResource(e,t,n,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[e,t];n&&(h=h.concat(u?n.split(u):n)),e.indexOf(".")>-1&&(h=e.split("."),a=t,t=h[1]),this.addNamespaces(t),HT(this.data,h,a),o.silent||this.emit("added",e,t,n,a)}addResources(e,t,n,a={silent:!1}){for(const o in n)(ut(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});a.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,a,o,u={silent:!1,skipCopy:!1}){let h=[e,t];e.indexOf(".")>-1&&(h=e.split("."),a=n,n=t,t=h[1]),this.addNamespaces(t);let m=Em(this.data,h)||{};u.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?VR(m,n,o):m={...m,...n},HT(this.data,h,m),u.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var MR={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,n,a){return i.forEach(o=>{var u;e=((u=this.processors[o])==null?void 0:u.process(e,t,n,a))??e}),e}};const $T={},QT=i=>!ut(i)&&typeof i!="boolean"&&typeof i!="number";class Sm extends Wm{constructor(e,t={}){super(),c4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Is.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(e==null)return!1;const a=this.resolve(e,n);return(a==null?void 0:a.res)!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const u=n&&e.indexOf(n)>-1,h=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!_4(e,n,a);if(u&&!h){const m=e.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:e,namespaces:ut(o)?[o]:o};const g=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(g[0])>-1)&&(o=g.shift()),e=g.join(a)}return{key:e,namespaces:ut(o)?[o]:o}}translate(e,t,n){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(a={...a}),a||(a={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:m}=this.extractFromKey(e[e.length-1],a),g=m[m.length-1];let E=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;E===void 0&&(E=":");const S=a.lng||this.language,I=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((S==null?void 0:S.toLowerCase())==="cimode")return I?o?{res:`${g}${E}${h}`,usedKey:h,exactUsedKey:h,usedLng:S,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${E}${h}`:o?{res:h,usedKey:h,exactUsedKey:h,usedLng:S,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:h;const P=this.resolve(e,a);let N=P==null?void 0:P.res;const Z=(P==null?void 0:P.usedKey)||h,ne=(P==null?void 0:P.exactUsedKey)||h,ge=["[object Number]","[object Function]","[object RegExp]"],_e=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,re=!this.i18nFormat||this.i18nFormat.handleAsObject,ve=a.count!==void 0&&!ut(a.count),Ae=Sm.hasDefaultValue(a),De=ve?this.pluralResolver.getSuffix(S,a.count,a):"",M=a.ordinal&&ve?this.pluralResolver.getSuffix(S,a.count,{ordinal:!1}):"",D=ve&&!a.ordinal&&a.count===0,V=D&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${De}`]||a[`defaultValue${M}`]||a.defaultValue;let z=N;re&&!N&&Ae&&(z=V);const Q=QT(z),J=Object.prototype.toString.apply(z);if(re&&z&&Q&&ge.indexOf(J)<0&&!(ut(_e)&&Array.isArray(z))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Z,z,{...a,ns:m}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(P.res=j,P.usedParams=this.getUsedParamsDetails(a),P):j}if(u){const j=Array.isArray(z),Dt=j?[]:{},Lt=j?ne:Z;for(const ye in z)if(Object.prototype.hasOwnProperty.call(z,ye)){const Ne=`${Lt}${u}${ye}`;Ae&&!N?Dt[ye]=this.translate(Ne,{...a,defaultValue:QT(V)?V[ye]:void 0,joinArrays:!1,ns:m}):Dt[ye]=this.translate(Ne,{...a,joinArrays:!1,ns:m}),Dt[ye]===Ne&&(Dt[ye]=z[ye])}N=Dt}}else if(re&&ut(_e)&&Array.isArray(N))N=N.join(_e),N&&(N=this.extendTranslation(N,e,a,n));else{let j=!1,Dt=!1;!this.isValidLookup(N)&&Ae&&(j=!0,N=V),this.isValidLookup(N)||(Dt=!0,N=h);const ye=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Dt?void 0:N,Ne=Ae&&V!==N&&this.options.updateMissing;if(Dt||j||Ne){if(this.logger.log(Ne?"updateKey":"missingKey",S,g,h,Ne?V:N),u){const be=this.resolve(h,{...a,keySeparator:!1});be&&be.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let qe=[];const ft=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ft&&ft[0])for(let be=0;be<ft.length;be++)qe.push(ft[be]);else this.options.saveMissingTo==="all"?qe=this.languageUtils.toResolveHierarchy(a.lng||this.language):qe.push(a.lng||this.language);const q=(be,Ve,Ie)=>{var lt;const Ye=Ae&&Ie!==N?Ie:ye;this.options.missingKeyHandler?this.options.missingKeyHandler(be,g,Ve,Ye,Ne,a):(lt=this.backendConnector)!=null&&lt.saveMissing&&this.backendConnector.saveMissing(be,g,Ve,Ye,Ne,a),this.emit("missingKey",be,g,Ve,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ve?qe.forEach(be=>{const Ve=this.pluralResolver.getSuffixes(be,a);D&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Ve.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ve.push(`${this.options.pluralSeparator}zero`),Ve.forEach(Ie=>{q([be],h+Ie,a[`defaultValue${Ie}`]||V)})}):q(qe,h,V))}N=this.extendTranslation(N,e,a,P,n),Dt&&N===h&&this.options.appendNamespaceToMissingKey&&(N=`${g}${E}${h}`),(Dt||j)&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${E}${h}`:h,j?N:void 0,a))}return o?(P.res=N,P.usedParams=this.getUsedParamsDetails(a),P):N}extendTranslation(e,t,n,a,o){var m,g;if((m=this.i18nFormat)!=null&&m.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const E=ut(e)&&(((g=n==null?void 0:n.interpolation)==null?void 0:g.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let S;if(E){const P=e.match(this.interpolator.nestingRegexp);S=P&&P.length}let I=n.replace&&!ut(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(I={...this.options.interpolation.defaultVariables,...I}),e=this.interpolator.interpolate(e,I,n.lng||this.language||a.usedLng,n),E){const P=e.match(this.interpolator.nestingRegexp),N=P&&P.length;S<N&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...P)=>(o==null?void 0:o[0])===P[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${P[0]} in key: ${t[0]}`),null):this.translate(...P,t),n)),n.interpolation&&this.interpolator.reset()}const u=n.postProcess||this.options.postProcess,h=ut(u)?[u]:u;return e!=null&&(h!=null&&h.length)&&n.applyPostProcessor!==!1&&(e=MR.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,a,o,u,h;return ut(e)&&(e=[e]),e.forEach(m=>{if(this.isValidLookup(n))return;const g=this.extractFromKey(m,t),E=g.key;a=E;let S=g.namespaces;this.options.fallbackNS&&(S=S.concat(this.options.fallbackNS));const I=t.count!==void 0&&!ut(t.count),P=I&&!t.ordinal&&t.count===0,N=t.context!==void 0&&(ut(t.context)||typeof t.context=="number")&&t.context!=="",Z=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);S.forEach(ne=>{var ge,_e;this.isValidLookup(n)||(h=ne,!$T[`${Z[0]}-${ne}`]&&((ge=this.utils)!=null&&ge.hasLoadedNamespace)&&!((_e=this.utils)!=null&&_e.hasLoadedNamespace(h))&&($T[`${Z[0]}-${ne}`]=!0,this.logger.warn(`key "${a}" for languages "${Z.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Z.forEach(re=>{var De;if(this.isValidLookup(n))return;u=re;const ve=[E];if((De=this.i18nFormat)!=null&&De.addLookupKeys)this.i18nFormat.addLookupKeys(ve,E,re,ne,t);else{let M;I&&(M=this.pluralResolver.getSuffix(re,t.count,t));const D=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(I&&(ve.push(E+M),t.ordinal&&M.indexOf(V)===0&&ve.push(E+M.replace(V,this.options.pluralSeparator)),P&&ve.push(E+D)),N){const z=`${E}${this.options.contextSeparator}${t.context}`;ve.push(z),I&&(ve.push(z+M),t.ordinal&&M.indexOf(V)===0&&ve.push(z+M.replace(V,this.options.pluralSeparator)),P&&ve.push(z+D))}}let Ae;for(;Ae=ve.pop();)this.isValidLookup(n)||(o=Ae,n=this.getResource(re,ne,Ae,t))}))})}),{res:n,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n,a={}){var o;return(o=this.i18nFormat)!=null&&o.getResource?this.i18nFormat.getResource(e,t,n,a):this.resourceStore.getResource(e,t,n,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ut(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const o of t)delete a[o]}return a}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class YT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Is.create("languageUtils")}getScriptPartFromCode(e){if(e=wm(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=wm(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ut(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return t=a;const o=this.getLanguagePartFromCode(n);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),ut(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return ut(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):ut(e)&&o(this.formatLanguageCode(e)),n.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const XT={zero:0,one:1,two:2,few:3,many:4,other:5},WT={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class E4{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Is.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=wm(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),WT;if(!e.match(/-|_/))return WT;const m=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(m,t)}return this.pluralRulesCache[o]=u,u}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((a,o)=>XT[a]-XT[o]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,n={}){const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const JT=(i,e,t,n=".",a=!0)=>{let o=d4(i,e,t);return!o&&a&&ut(t)&&(o=$y(i,t,n),o===void 0&&(o=$y(e,t,n))),o},ay=i=>i.replace(/\$/g,"$$$$");class w4{constructor(e={}){var t;this.logger=Is.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:h,suffixEscaped:m,formatSeparator:g,unescapeSuffix:E,unescapePrefix:S,nestingPrefix:I,nestingPrefixEscaped:P,nestingSuffix:N,nestingSuffixEscaped:Z,nestingOptionsSeparator:ne,maxReplaces:ge,alwaysFormat:_e}=e.interpolation;this.escape=t!==void 0?t:p4,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?bu(o):u||"{{",this.suffix=h?bu(h):m||"}}",this.formatSeparator=g||",",this.unescapePrefix=E?"":S||"-",this.unescapeSuffix=this.unescapePrefix?"":E||"",this.nestingPrefix=I?bu(I):P||bu("$t("),this.nestingSuffix=N?bu(N):Z||bu(")"),this.nestingOptionsSeparator=ne||",",this.maxReplaces=ge||1e3,this.alwaysFormat=_e!==void 0?_e:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>(t==null?void 0:t.source)===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,a){var P;let o,u,h;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=N=>{if(N.indexOf(this.formatSeparator)<0){const _e=JT(t,m,N,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_e,void 0,n,{...a,...t,interpolationkey:N}):_e}const Z=N.split(this.formatSeparator),ne=Z.shift().trim(),ge=Z.join(this.formatSeparator).trim();return this.format(JT(t,m,ne,this.options.keySeparator,this.options.ignoreJSONStructure),ge,n,{...a,...t,interpolationkey:ne})};this.resetRegExp();const E=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,S=((P=a==null?void 0:a.interpolation)==null?void 0:P.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:N=>ay(N)},{regex:this.regexp,safeValue:N=>this.escapeValue?ay(this.escape(N)):ay(N)}].forEach(N=>{for(h=0;o=N.regex.exec(e);){const Z=o[1].trim();if(u=g(Z),u===void 0)if(typeof E=="function"){const ge=E(e,o,a);u=ut(ge)?ge:""}else if(a&&Object.prototype.hasOwnProperty.call(a,Z))u="";else if(S){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${Z} for interpolating ${e}`),u="";else!ut(u)&&!this.useRawValueToEscape&&(u=qT(u));const ne=N.safeValue(u);if(e=e.replace(o[0],ne),S?(N.regex.lastIndex+=u.length,N.regex.lastIndex-=o[0].length):N.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,t,n={}){let a,o,u;const h=(m,g)=>{const E=this.nestingOptionsSeparator;if(m.indexOf(E)<0)return m;const S=m.split(new RegExp(`${E}[ ]*{`));let I=`{${S[1]}`;m=S[0],I=this.interpolate(I,u);const P=I.match(/'/g),N=I.match(/"/g);(((P==null?void 0:P.length)??0)%2===0&&!N||N.length%2!==0)&&(I=I.replace(/'/g,'"'));try{u=JSON.parse(I),g&&(u={...g,...u})}catch(Z){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,Z),`${m}${E}${I}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,m};for(;a=this.nestingRegexp.exec(e);){let m=[];u={...n},u=u.replace&&!ut(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let g=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const E=a[1].split(this.formatSeparator).map(S=>S.trim());a[1]=E.shift(),m=E,g=!0}if(o=t(h.call(this,a[1].trim(),u),u),o&&a[0]===e&&!ut(o))return o;ut(o)||(o=qT(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),g&&(o=m.reduce((E,S)=>this.format(E,S,n.lng,{...n,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const T4=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const n=i.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(u=>{if(u){const[h,...m]=u.split(":"),g=m.join(":").trim().replace(/^'+|'+$/g,""),E=h.trim();t[E]||(t[E]=g),g==="false"&&(t[E]=!1),g==="true"&&(t[E]=!0),isNaN(g)||(t[E]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Eu=i=>{const e={};return(t,n,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=n+JSON.stringify(o);let h=e[u];return h||(h=i(wm(n),a),e[u]=h),h(t)}};class S4{constructor(e={}){this.logger=Is.create("formatter"),this.options=e,this.formats={number:Eu((t,n)=>{const a=new Intl.NumberFormat(t,{...n});return o=>a.format(o)}),currency:Eu((t,n)=>{const a=new Intl.NumberFormat(t,{...n,style:"currency"});return o=>a.format(o)}),datetime:Eu((t,n)=>{const a=new Intl.DateTimeFormat(t,{...n});return o=>a.format(o)}),relativetime:Eu((t,n)=>{const a=new Intl.RelativeTimeFormat(t,{...n});return o=>a.format(o,n.range||"day")}),list:Eu((t,n)=>{const a=new Intl.ListFormat(t,{...n});return o=>a.format(o)})},this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Eu(t)}format(e,t,n,a={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(m=>m.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,m)=>{var S;const{formatName:g,formatOptions:E}=T4(m);if(this.formats[g]){let I=h;try{const P=((S=a==null?void 0:a.formatParams)==null?void 0:S[a.interpolationkey])||{},N=P.locale||P.lng||a.locale||a.lng||n;I=this.formats[g](h,N,{...E,...a,...P})}catch(P){this.logger.warn(P)}return I}else this.logger.warn(`there was no format function for ${g}`);return h},e)}}const A4=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class R4 extends Wm{constructor(e,t,n,a={}){var o,u;super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Is.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(o=this.backend)==null?void 0:o.init)==null||u.call(o,n,a.backend,a)}queueLoad(e,t,n,a){const o={},u={},h={},m={};return e.forEach(g=>{let E=!0;t.forEach(S=>{const I=`${g}|${S}`;!n.reload&&this.store.hasResourceBundle(g,S)?this.state[I]=2:this.state[I]<0||(this.state[I]===1?u[I]===void 0&&(u[I]=!0):(this.state[I]=1,E=!1,u[I]===void 0&&(u[I]=!0),o[I]===void 0&&(o[I]=!0),m[S]===void 0&&(m[S]=!0)))}),E||(h[g]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(m)}}loaded(e,t,n){const a=e.split("|"),o=a[0],u=a[1];t&&this.emit("failedLoading",o,u,t),!t&&n&&this.store.addResourceBundle(o,u,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const h={};this.queue.forEach(m=>{f4(m.loaded,[o],u),A4(m,e),t&&m.errors.push(t),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(g=>{h[g]||(h[g]={});const E=m.loaded[g];E.length&&E.forEach(S=>{h[g][S]===void 0&&(h[g][S]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(m=>!m.done)}read(e,t,n,a=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:o,callback:u});return}this.readingCalls++;const h=(g,E)=>{if(this.readingCalls--,this.waitingReads.length>0){const S=this.waitingReads.shift();this.read(S.lng,S.ns,S.fcName,S.tried,S.wait,S.callback)}if(g&&E&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,a+1,o*2,u)},o);return}u(g,E)},m=this.backend[n].bind(this.backend);if(m.length===2){try{const g=m(e,t);g&&typeof g.then=="function"?g.then(E=>h(null,E)).catch(h):h(null,g)}catch(g){h(g)}return}return m(e,t,h)}prepareLoading(e,t,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();ut(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ut(t)&&(t=[t]);const o=this.queueLoad(e,t,n,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),a=n[0],o=n[1];this.read(a,o,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${t}loading namespace ${o} for language ${a} failed`,u),!u&&h&&this.logger.log(`${t}loaded namespace ${o} for language ${a}`,h),this.loaded(e,u,h)})}saveMissing(e,t,n,a,o,u={},h=()=>{}){var m,g,E,S,I;if((g=(m=this.services)==null?void 0:m.utils)!=null&&g.hasLoadedNamespace&&!((S=(E=this.services)==null?void 0:E.utils)!=null&&S.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((I=this.backend)!=null&&I.create){const P={...u,isUpdate:o},N=this.backend.create.bind(this.backend);if(N.length<6)try{let Z;N.length===5?Z=N(e,t,n,a,P):Z=N(e,t,n,a),Z&&typeof Z.then=="function"?Z.then(ne=>h(null,ne)).catch(h):h(null,Z)}catch(Z){h(Z)}else N(e,t,n,a,h,P)}!e||!e[0]||this.store.addResource(e[0],t,n,a)}}}const ZT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),ut(i[1])&&(e.defaultValue=i[1]),ut(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),eS=i=>{var e,t;return ut(i.ns)&&(i.ns=[i.ns]),ut(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),ut(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),((t=(e=i.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i},Id=()=>{},I4=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class Xh extends Wm{constructor(e={},t){if(super(),this.options=eS(e),this.services={},this.logger=Is,this.modules={external:[]},I4(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(ut(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=ZT();this.options={...n,...this.options,...eS(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Is.init(a(this.modules.logger),this.options):Is.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=S4;const E=new YT(this.options);this.store=new GT(this.options.resources,this.options);const S=this.services;S.logger=Is,S.resourceStore=this.store,S.languageUtils=E,S.pluralResolver=new E4(E,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(S.formatter=a(g),S.formatter.init(S,this.options),this.options.interpolation.format=S.formatter.format.bind(S.formatter)),S.interpolator=new w4(this.options),S.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},S.backendConnector=new R4(a(this.modules.backend),S.resourceStore,S,this.options),S.backendConnector.on("*",(I,...P)=>{this.emit(I,...P)}),this.modules.languageDetector&&(S.languageDetector=a(this.modules.languageDetector),S.languageDetector.init&&S.languageDetector.init(S,this.options.detection,this.options)),this.modules.i18nFormat&&(S.i18nFormat=a(this.modules.i18nFormat),S.i18nFormat.init&&S.i18nFormat.init(this)),this.translator=new Sm(this.services,this.options),this.translator.on("*",(I,...P)=>{this.emit(I,...P)}),this.modules.external.forEach(I=>{I.init&&I.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Id),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...E)=>this.store[g](...E)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...E)=>(this.store[g](...E),this)});const h=yh(),m=()=>{const g=(E,S)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(S),t(E,S)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),h}loadResources(e,t=Id){var o,u;let n=t;const a=ut(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const h=[],m=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(S=>{S!=="cimode"&&h.indexOf(S)<0&&h.push(S)})};a?m(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(E=>m(E)),(u=(o=this.options.preload)==null?void 0:o.forEach)==null||u.call(o,g=>m(g)),this.services.backendConnector.load(h,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(g)})}else n(null)}reloadResources(e,t,n){const a=yh();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Id),this.services.backendConnector.reload(e,t,o=>{a.resolve(),n(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&MR.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=yh();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},o=(h,m)=>{m?this.isLanguageChangingTo===e&&(a(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,n.resolve((...g)=>this.t(...g)),t&&t(h,(...g)=>this.t(...g))},u=h=>{var E,S;!e&&!h&&this.services.languageDetector&&(h=[]);const m=ut(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(ut(h)?[h]:h);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),(S=(E=this.services.languageDetector)==null?void 0:E.cacheUserLanguage)==null||S.call(E,g)),this.loadResources(g,I=>{o(I,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),n}getFixedT(e,t,n){const a=(o,u,...h)=>{let m;typeof u!="object"?m=this.options.overloadTranslationOptionHandler([o,u].concat(h)):m={...u},m.lng=m.lng||a.lng,m.lngs=m.lngs||a.lngs,m.ns=m.ns||a.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||n||a.keyPrefix);const g=this.options.keySeparator||".";let E;return m.keyPrefix&&Array.isArray(o)?E=o.map(S=>`${m.keyPrefix}${g}${S}`):E=m.keyPrefix?`${m.keyPrefix}${g}${o}`:o,this.t(E,m)};return ut(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=n,a}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const u=(h,m)=>{const g=this.services.backendConnector.state[`${h}|${m}`];return g===-1||g===0||g===2};if(t.precheck){const h=t.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(n,e)&&(!a||u(o,e)))}loadNamespaces(e,t){const n=yh();return this.options.ns?(ut(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=yh();ut(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{n.resolve(),t&&t(u)}),n):(t&&t(),Promise.resolve())}dir(e){var a,o;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((o=this.services)==null?void 0:o.languageUtils)||new YT(ZT());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Xh(e,t)}cloneInstance(e={},t=Id){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new Xh(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const h=Object.keys(this.store.data).reduce((m,g)=>(m[g]={...this.store.data[g]},m[g]=Object.keys(m[g]).reduce((E,S)=>(E[S]={...m[g][S]},E),m[g]),m),{});o.store=new GT(h,a),o.services.resourceStore=o.store}return o.translator=new Sm(o.services,a),o.translator.on("*",(h,...m)=>{o.emit(h,...m)}),o.init(a,t),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gr=Xh.createInstance();gr.createInstance=Xh.createInstance;gr.createInstance;gr.dir;gr.init;gr.loadResources;gr.reloadResources;gr.use;gr.changeLanguage;gr.getFixedT;gr.t;gr.exists;gr.setDefaultNamespace;gr.hasLoadedNamespace;gr.loadNamespaces;gr.loadLanguages;const x4={home:"Home",account:"Account",terms:"Terms and Conditions",note:{new:"New",description:"Try using our app in your language! Tell now supports 9 languages in total!"},userblock:{logout:"Log out"}},k4={counter:{togo:"to go",over:"over",carbs:"Carbs",proteins:"Proteins",fat:"Fat"},foodsearch:{search:"Search for food...",chosenfood:"Chosen food",nofood:"There is no food added yet.",remove:"Remove"}},C4={top:{title:"Discover our",mid_description:"calorietracker, where you can just",highlighted_phrases:{amazing:"amazing",track:"track your food"},description:"without bullshit features!"},buttons:{tracker:"Go to the tracker",account:"Make an account"},introduction:{main1:"We're not the first to do it,",main2:"we just do it right.",first:"We are normal people who just want to track our calories. No ads, no unnecessary functions, just plain and simple (yet very efficient!) calorietracking.",second:"At Tell (Norwegian for 'count'), we want to have a simple app where people can track their calories, across platforms, without a hasle. That's why we made this app as simple as possible, yet let it have the bare minimum of what we want it to have."}},O4={main:"There's nothing to be found here...",description:"Whatever you were looking for is not here.",link:"Go back to the main page"},D4={title:"Terms and Conditions",intro:"Welcome to our calorie tracking website. By using our website and services, you agree to these Terms and Conditions. If you do not agree, please do not use our services.",sections:[{title:"1. Account Registration",content:"To use our service, you must create an account through Google Authentication. You are responsible for maintaining the confidentiality of your account and ensuring all activity under your account complies with these terms."},{title:"2. Use of Service",content:"Our service allows you to track your daily caloric intake. You agree to use this service solely for personal, non-commercial purposes and not for any unlawful or harmful activities."},{title:"3. Privacy and Data",content:"By signing in with your Google account, you authorize us to access certain information such as your name and email address. We do not sell your data and take appropriate steps to protect your privacy. For more details, see our Privacy Policy."},{title:"4. Termination",content:"We reserve the right to suspend or terminate your account if you violate these terms or engage in any activity that harms our service or users."},{title:"5. Changes to Terms",content:"We may update these Terms and Conditions at any time. Continued use of the service after changes constitutes acceptance of the new terms."},{title:"6. Contact Us",content:"If you have questions about these Terms, please contact us at wesselvandalen@gmail.com."}]},N4={added:"added"},P4={description:"All rights reserved."},V4={sidebar:x4,tracker:k4,homepage:C4,errorpage:O4,termspage:D4,notification:N4,footer:P4},M4={home:"Hjem",account:"Konto",terms:"Vilkr og betingelser",note:{new:"Ny",description:"Prv  bruke appen vr p ditt sprk! Tell sttter n 9 sprk totalt!"},userblock:{logout:"Logg ut"}},L4={counter:{togo:"igjen",over:"over",carbs:"Karbohydrater",proteins:"Proteiner",fat:"Fett"},foodsearch:{search:"Sk etter mat...",chosenfood:"Valgt mat",nofood:"Ingen mat er lagt til enn.",remove:"Fjern"}},j4={top:{title:"Oppdag vr",mid_description:"kalorieteller, hvor du bare kan",highlighted_phrases:{amazing:"fantastiske",track:"registrere maten din"},description:"uten undvendige funksjoner!"},buttons:{tracker:"G til teller",account:"Lag en konto"},introduction:{main1:"Vi er ikke de frste som gjr det,",main2:"vi bare gjr det riktig.",first:"Vi er vanlige folk som bare vil telle kalorier. Ingen annonser, ingen undvendige funksjoner, bare enkelt og effektivt kaloriregistrering.",second:"Hos Tell (norsk for 'telle') vil vi ha en enkel app hvor folk kan spore kaloriene sine, p tvers av plattformer, uten styr. Derfor lagde vi denne appen s enkel som mulig, men med det vi faktisk trenger."}},U4={main:"Det finnes ingenting her...",description:"Uansett hva du lette etter, er det ikke her.",link:"G tilbake til hovedsiden"},z4={title:"Vilkr og betingelser",intro:"Velkommen til vrt nettsted for kaloritelling. Ved  bruke vrt nettsted og vre tjenester, godtar du disse vilkrene og betingelsene. Hvis du ikke godtar dem, vennligst ikke bruk vre tjenester.",sections:[{title:"1. Registrering av konto",content:"For  bruke tjenesten vr m du opprette en konto via Google-autentisering. Du er ansvarlig for  holde kontoen din konfidensiell og srge for at all aktivitet under kontoen overholder disse vilkrene."},{title:"2. Bruk av tjenesten",content:"Tjenesten lar deg spore ditt daglige kaloriinntak. Du samtykker i  bruke tjenesten kun til personlig, ikke-kommersiell bruk og ikke til ulovlige eller skadelige aktiviteter."},{title:"3. Personvern og data",content:"Ved  logge inn med Google-kontoen din gir du oss tillatelse til  f tilgang til informasjon som navn og e-postadresse. Vi selger ikke dine data og tar ndvendige tiltak for  beskytte ditt personvern. Se vr personvernerklring for mer informasjon."},{title:"4. Oppsigelse",content:"Vi forbeholder oss retten til  suspendere eller avslutte kontoen din hvis du bryter disse vilkrene eller utfrer handlinger som skader tjenesten eller brukere."},{title:"5. Endringer i vilkr",content:"Vi kan oppdatere disse vilkrene og betingelsene nr som helst. Fortsatt bruk etter endringer innebrer at du godtar de nye vilkrene."},{title:"6. Kontakt oss",content:"Hvis du har sprsml om disse vilkrene, vennligst kontakt oss p wesselvandalen@gmail.com."}]},B4={added:"lagt til"},q4={description:"Alle rettigheter forbeholdt."},F4={sidebar:M4,tracker:L4,homepage:j4,errorpage:U4,termspage:z4,notification:B4,footer:q4},K4={home:"Hjem",account:"Konto",terms:"Vilkr og betingelser",note:{new:"Ny",description:"Prv at bruge vores app p dit sprog! Tell understtter nu 9 sprog i alt!"},userblock:{logout:"Log ud"}},H4={counter:{togo:"tilbage",over:"over",carbs:"Kulhydrater",proteins:"Proteiner",fat:"Fedt"},foodsearch:{search:"Sg efter mad...",chosenfood:"Valgt mad",nofood:"Der er endnu ikke tilfjet nogen mad.",remove:"Fjern"}},G4={top:{title:"Opdag vores",mid_description:"kalorietller, hvor du bare kan",highlighted_phrases:{amazing:"fantastiske",track:"registrere din mad"},description:"uden overfldige funktioner!"},buttons:{tracker:"G til tlleren",account:"Opret en konto"},introduction:{main1:"Vi er ikke de frste til at gre det,",main2:"vi gr det bare rigtigt.",first:"Vi er almindelige mennesker, som bare vil tlle kalorier. Ingen reklamer, ingen undvendige funktioner  bare enkel og effektiv kalorietlling.",second:"Hos Tell (norsk for 'tlle') nsker vi en simpel app, hvor folk kan registrere deres kalorier p tvrs af platforme uden besvr. Derfor lavede vi denne app s enkel som muligt, men med det mest ndvendige."}},$4={main:"Der er ikke noget at finde her...",description:"Uanset hvad du ledte efter, er det ikke her.",link:"G tilbage til forsiden"},Q4={title:"Vilkr og betingelser",intro:"Velkommen til vores kaloriesporingsside. Ved at bruge vores hjemmeside og tjenester accepterer du disse vilkr og betingelser. Hvis du ikke accepterer dem, bedes du undlade at bruge vores tjenester.",sections:[{title:"1. Kontooprettelse",content:"For at bruge vores tjeneste skal du oprette en konto via Google-godkendelse. Du er ansvarlig for at holde dine kontooplysninger fortrolige og sikre, at al aktivitet under din konto overholder disse vilkr."},{title:"2. Brug af tjenesten",content:"Vores tjeneste giver dig mulighed for at spore dit daglige kalorieindtag. Du accepterer at bruge denne tjeneste udelukkende til personligt, ikke-kommercielt brug og ikke til ulovlige eller skadelige aktiviteter."},{title:"3. Privatliv og data",content:"Ved at logge ind med din Google-konto giver du os tilladelse til at tilg visse oplysninger som dit navn og din e-mailadresse. Vi slger ikke dine data og tager passende skridt for at beskytte dit privatliv. Se vores privatlivspolitik for flere oplysninger."},{title:"4. Opsigelse",content:"Vi forbeholder os retten til at suspendere eller opsige din konto, hvis du overtrder disse vilkr eller foretager dig noget, der skader vores tjeneste eller brugere."},{title:"5. ndringer i vilkr",content:"Vi kan til enhver tid opdatere disse vilkr og betingelser. Fortsat brug af tjenesten efter ndringer betragtes som accept af de nye vilkr."},{title:"6. Kontakt os",content:"Hvis du har sprgsml om disse vilkr, bedes du kontakte os p wesselvandalen@gmail.com."}]},Y4={added:"tilfjet"},X4={description:"Alle rettigheder forbeholdes."},W4={sidebar:K4,tracker:H4,homepage:G4,errorpage:$4,termspage:Q4,notification:Y4,footer:X4},J4={home:"Avaleht",account:"Konto",terms:"Tingimused",note:{new:"Uus",description:"Proovi meie rakendust oma keeles! Tell toetab nd kokku 9 keelt!"},userblock:{logout:"Logi vlja"}},Z4={counter:{togo:"jnud",over:"le",carbs:"Ssivesikud",proteins:"Valgud",fat:"Rasv"},foodsearch:{search:"Otsi toitu...",chosenfood:"Valitud toit",nofood:"Toitu ei ole veel lisatud.",remove:"Eemalda"}},eL={top:{title:"Avasta meie",mid_description:"kalorilugeja, kus saad lihtsalt",highlighted_phrases:{amazing:"hmmastavalt",track:"jlgida oma toitu"},description:"ilma ebavajalike funktsioonideta!"},buttons:{tracker:"Mine kalorilugejasse",account:"Loo konto"},introduction:{main1:"Me ei ole esimesed, kes seda teevad,",main2:"me lihtsalt teeme seda igesti.",first:"Oleme tavalised inimesed, kes tahavad lihtsalt oma kaloreid jlgida. Ei reklaame, ei leliigseid funktsioone  ainult lihtne ja thus kaloriarvestus.",second:"Tellis (norra keeles 'loenda') tahame lihtsat rakendust, kus inimesed saavad jlgida oma kaloreid eri platvormidel ilma vaevata. Seeprast limegi vimalikult lihtsa, kuid vajalike funktsioonidega rakenduse."}},tL={main:"Siin ei ole midagi...",description:"Mida iganes sa otsisid, see ei ole siin.",link:"Tagasi avalehele"},nL={title:"Treytir og setingar",intro:"Vlkomin til okkara kaloriuteljingarheimasu. Vi at brka okkara heimasu og tnastu gtekur t hesar treytir. Um t ikki gtekur tr, vinarliga brka ikki tnastuna.",sections:[{title:"1. Kontuskrseting",content:"Fyri at brka tnastuna skalt t stovna eina kontu vi Google-stafesting. T ert byrgdarfull/ur fyri at halda kontu tnari loyniligari og tryggja, at ll ntsla er  samsvari vi hesar treytir."},{title:"2. Ntsla av tnastuni",content:"Tnastan gevur tr mguleika at telja tn dagliga kaloriuinntku. T ntir hana bert til persnligt, ikki-vinnuligt endaml og ikki til lgliga ella skailiga ntslu."},{title:"3. Persnsupplsingar og dtuvernd",content:"Vi at innrita vi Google gevur t okkum atgongd til upplsingar sum navn og teldupost. Vit selja ikki tnar upplsingar og verja tnar persnligu dtur. Les okkara dtupolitikk fyri meira kunning."},{title:"4. Ending av kontu",content:"Vit hava rtt til at stega ella slkkja tna kontu um t brtur hesar treytir ella skaar tnastuna ella brkarar."},{title:"5. Broytingar  treytum",content:"Vit kunnu dagfra hesar treytir nr sum helst. Heldur t fram vi at brka tnastuna, verur ta rokna sum gkenning av nggju treytunum."},{title:"6. Samband",content:"Hevur t spurningar um hesar treytir, set teg  samband vi okkum  wesselvandalen@gmail.com."}]},rL={added:"lisatud"},iL={description:"Kik igused kaitstud."},sL={sidebar:J4,tracker:Z4,homepage:eL,errorpage:tL,termspage:nL,notification:rL,footer:iL},aL={home:"Etusivu",account:"Tili",terms:"Kyttehdot",note:{new:"Uusi",description:"Kokeile sovellustamme omalla kielellsi! Tell tukee nyt yhteens 9 kielt!"},userblock:{logout:"Kirjaudu ulos"}},oL={counter:{togo:"jljell",over:"yli",carbs:"Hiilihydraatit",proteins:"Proteiinit",fat:"Rasvat"},foodsearch:{search:"Etsi ruokaa...",chosenfood:"Valittu ruoka",nofood:"Ruokaa ei ole viel listty.",remove:"Poista"}},lL={top:{title:"Tutustu meidn",mid_description:"kalorilaskuriin, jossa voit vain",highlighted_phrases:{amazing:"mahtavaan",track:"seurata ruokaasi"},description:"ilman turhia ominaisuuksia!"},buttons:{tracker:"Siirry laskuriin",account:"Luo tili"},introduction:{main1:"Emme ole ensimmisi, jotka tekevt tmn,",main2:"me vain teemme sen oikein.",first:"Olemme tavallisia ihmisi, jotka haluavat vain seurata kaloreitaan. Ei mainoksia, ei turhia toimintoja  vain yksinkertaista ja tehokasta kaloriseurantaa.",second:"Telliss (norskaa sanalle 'laskea') haluamme yksinkertaisen sovelluksen, jolla ihmiset voivat seurata kaloreitaan helposti eri alustoilla. Siksi teimme tst sovelluksesta mahdollisimman yksinkertaisen, mutta sisllytimme siihen kaiken olennaisen."}},uL={main:"Tll ei ole mitn...",description:"Mit ikin etsitkin, se ei ole tll.",link:"Palaa etusivulle"},cL={title:"Kyttehdot",intro:"Tervetuloa kalorienseurantasivustollemme. Kyttmll verkkosivustoamme ja palveluitamme hyvksyt nm kyttehdot. Jos et hyvksy ehtoja, l kyt palveluamme.",sections:[{title:"1. Tilin rekisterinti",content:"Palvelun kyttmiseksi sinun tulee luoda tili Google-tunnistautumisen avulla. Olet vastuussa tilisi tietoturvasta ja siit, ett kaikki toiminta tilillsi noudattaa nit ehtoja."},{title:"2. Palvelun kytt",content:"Palvelumme avulla voit seurata pivittist kalorinsaantiasi. Sitoudut kyttmn palvelua vain henkilkohtaiseen, ei-kaupalliseen kyttn, ja et laittomaan tai vahingolliseen toimintaan."},{title:"3. Tietosuoja ja tiedot",content:"Kirjautumalla sisn Google-tilillsi annat meille luvan kytt tiettyj tietoja, kuten nimesi ja shkpostiosoitettasi. Emme myy tietojasi ja suojelemme yksityisyyttsi asianmukaisesti. Katso tietosuojakytntmme listietoja varten."},{title:"4. Tilin sulkeminen",content:"Pidtmme oikeuden keskeytt tai lopettaa tilisi, jos rikot nit ehtoja tai vaarannat palvelua tai sen kyttji."},{title:"5. Ehtojen muutokset",content:"Saatamme pivitt nit kyttehtoja milloin tahansa. Palvelun jatkokytt tarkoittaa uusien ehtojen hyvksymist."},{title:"6. Ota yhteytt",content:"Jos sinulla on kysyttv nist ehdoista, ota meihin yhteytt osoitteessa wesselvandalen@gmail.com."}]},hL={added:"listty"},fL={description:"Kaikki oikeudet pidtetn."},dL={sidebar:aL,tracker:oL,homepage:lL,errorpage:uL,termspage:cL,notification:hL,footer:fL},mL={home:"Hem",account:"Konto",terms:"Villkor",note:{new:"Ny",description:"Prova att anvnda vr app p ditt sprk! Tell stder nu totalt 9 sprk!"},userblock:{logout:"Logga ut"}},pL={counter:{togo:"kvar",over:"ver",carbs:"Kolhydrater",proteins:"Proteiner",fat:"Fett"},foodsearch:{search:"Sk efter mat...",chosenfood:"Vald mat",nofood:"Ingen mat har lagts till nnu.",remove:"Ta bort"}},gL={top:{title:"Upptck vr",mid_description:"kalorirknare, dr du bara kan",highlighted_phrases:{amazing:"fantastiska",track:"spra din mat"},description:"utan ondiga funktioner!"},buttons:{tracker:"G till rknaren",account:"Skapa ett konto"},introduction:{main1:"Vi r inte de frsta som gr det,",main2:"vi gr det bara rtt.",first:"Vi r vanliga mnniskor som bara vill rkna kalorier. Inga annonser, inga ondiga funktioner, bara enkel och effektiv kalorirkning.",second:"P Tell (norska fr 'rkna') vill vi ha en enkel app dr folk kan rkna kalorier ver olika plattformar, utan krngel. Drfr gjorde vi appen s enkel som mjligt men med det ndvndiga."}},yL={main:"Det finns inget hr...",description:"Vad du n letade efter finns inte hr.",link:"G tillbaka till startsidan"},vL={title:"Villkor och bestmmelser",intro:"Vlkommen till vr webbplats fr kalorisprning. Genom att anvnda vr webbplats och vra tjnster godknner du dessa villkor. Om du inte godknner, vnligen anvnd inte vra tjnster.",sections:[{title:"1. Konto Registrering",content:"Fr att anvnda vr tjnst mste du skapa ett konto via Google-autentisering. Du ansvarar fr att hlla ditt konto konfidentiellt och skerstlla att all aktivitet p ditt konto fljer dessa villkor."},{title:"2. Anvndning av tjnsten",content:"Vr tjnst gr att du kan spra ditt dagliga kaloriintag. Du samtycker till att anvnda denna tjnst enbart fr personligt, icke-kommersiellt bruk och inte fr olagliga eller skadliga aktiviteter."},{title:"3. Integritet och data",content:"Genom att logga in med ditt Google-konto godknner du att vi fr tillgng till viss information som ditt namn och e-postadress. Vi sljer inte dina uppgifter och vidtar lmpliga tgrder fr att skydda din integritet. Se vr integritetspolicy fr mer information."},{title:"4. Uppsgning",content:"Vi frbehller oss rtten att stnga av eller avsluta ditt konto om du bryter mot dessa villkor eller gnar dig t skadlig aktivitet."},{title:"5. ndringar i villkoren",content:"Vi kan uppdatera dessa villkor nr som helst. Fortsatt anvndning av tjnsten efter ndringar innebr att du godknner de nya villkoren."},{title:"6. Kontakta oss",content:"Om du har frgor om dessa villkor, vnligen kontakta oss p wesselvandalen@gmail.com."}]},_L={added:"tillagd"},bL={description:"Alla rttigheter frbehllna."},EL={sidebar:mL,tracker:pL,homepage:gL,errorpage:yL,termspage:vL,notification:_L,footer:bL},wL={home:"Heim",account:"Brkarakonto",terms:"Treytir og reglur",note:{new:"Ntt",description:"Roys app okkara  tnum mli! Tell stular n 9 mlum alt!"},userblock:{logout:"Logga t"}},TL={counter:{togo:"eftir",over:"yvir",carbs:"Kolvetni",proteins:"Protein",fat:"Fiti"},foodsearch:{search:"Leita eftir mati...",chosenfood:"Valdur matur",nofood:"Eingin matur er lagdur afturat enn.",remove:"Fjarlgja"}},SL={top:{title:"Uppdaga okkara",mid_description:"kalorteljara, har t bara kanst",highlighted_phrases:{amazing:"trliga",track:"skrseta matin tn"},description:"uttan neyugar funksjnir!"},buttons:{tracker:"Far til teljaran",account:"Ger tr ein konto"},introduction:{main1:"Vit eru ikki tey fyrstu, sum gera hetta,",main2:"vit gera ta bara rtt.",first:"Vit eru vanlig flk, sum bara vilja telja kalorur. Ongar lsingar, ongar neyugar funktinir  bara einfld og virkin kaloruteljing.",second:"Hj Tell (norskt fyri 'telja') vilja vit hava eitt einfalt app, har flk kunnu telja snar kalorur, tvrtur um eindir, uttan trupulleikar. T gjrdu vit hetta appi so einfalt sum mguligt vi bara t mest neyuga."}},AL={main:"Her er einki at finna...",description:"Hvat t leitai eftir er ikki her.",link:"Far aftur til hvussuna"},RL={title:"Tingimused ja stted",intro:"Tere tulemast meie kalorijlgimise veebilehele. Meie veebilehte ja teenuseid kasutades nustute nende tingimustega. Kui te ei nustu, palun rge kasutage meie teenuseid.",sections:[{title:"1. Konto registreerimine",content:"Teenuse kasutamiseks peate looma konto Google'i autentimise kaudu. Olete vastutav oma konto konfidentsiaalsuse silitamise eest ning tagate, et kik tegevused vastavad nendele tingimustele."},{title:"2. Teenuse kasutamine",content:"Meie teenus vimaldab jlgida teie igapevast kalorite tarbimist. Nustute kasutama teenust ainult isiklikuks, mitteriliseks otstarbeks ning mitte ebaseaduslikuks vi kahjulikuks tegevuseks."},{title:"3. Privaatsus ja andmed",content:"Googlei kontoga sisse logides annate meile loa juurdepsuks teatud teabele, niteks teie nimi ja e-posti aadress. Me ei m teie andmeid ning vtame tarvitusele sobivad meetmed teie privaatsuse kaitsmiseks. Lisateabe saamiseks vaadake meie privaatsuspoliitikat."},{title:"4. Konto lpetamine",content:"Meil on igus peatada vi lpetada teie konto, kui rikute neid tingimusi vi kahjustate teenust vi selle kasutajaid."},{title:"5. Tingimuste muutmine",content:"Vime neid tingimusi igal ajal uuendada. Teenuse edasine kasutamine prast muudatusi thendab uute tingimustega nustumist."},{title:"6. Vtke hendust",content:"Kui teil on nende tingimuste kohta ksimusi, vtke meiega hendust aadressil wesselvandalen@gmail.com."}]},IL={added:"lagt afturat"},xL={description:"ll rttindi forbeholdin."},kL={sidebar:wL,tracker:TL,homepage:SL,errorpage:AL,termspage:RL,notification:IL,footer:xL},CL={home:"Home",account:"Account",terms:"Algemene voorwaarden",note:{new:"Nieuw",description:"Probeer onze app in jouw taal! Tell ondersteunt nu in totaal 9 talen!"},userblock:{logout:"Uitloggen"}},OL={counter:{togo:"over",over:"boven",carbs:"Koolhydraten",proteins:"Eiwitten",fat:"Vetten"},foodsearch:{search:"Zoek naar eten...",chosenfood:"Gekozen voedsel",nofood:"Er is nog geen eten toegevoegd.",remove:"Verwijderen"}},DL={top:{title:"Ontdek onze",mid_description:"calorietracker, waarmee je gewoon",highlighted_phrases:{amazing:"geweldige",track:"je voedsel kunt bijhouden"},description:"zonder onzinfuncties!"},buttons:{tracker:"Ga naar de tracker",account:"Maak een account aan"},introduction:{main1:"We zijn niet de eersten die het doen,",main2:"we doen het gewoon goed.",first:"Wij zijn gewone mensen die gewoon calorien willen bijhouden. Geen advertenties, geen onnodige functies, gewoon eenvoudig en efficint calorietracken.",second:"Bij Tell (Noors voor 'tellen') willen we een simpele app waarmee mensen hun calorien kunnen bijhouden, op elk platform, zonder gedoe. Daarom hebben we deze app zo simpel mogelijk gemaakt, met alleen de noodzakelijke functies."}},NL={main:"Er is hier niets te vinden...",description:"Wat je ook zocht, het is hier niet.",link:"Ga terug naar de hoofdpagina"},PL={title:"Algemene voorwaarden",intro:"Welkom op onze calorie-trackingwebsite. Door onze website en diensten te gebruiken, ga je akkoord met deze algemene voorwaarden. Als je niet akkoord gaat, gebruik onze diensten dan niet.",sections:[{title:"1. Accountregistratie",content:"Om onze dienst te gebruiken, moet je een account aanmaken via Google-authenticatie. Je bent verantwoordelijk voor het vertrouwelijk houden van je accountgegevens en ervoor te zorgen dat alle activiteiten onder jouw account in overeenstemming zijn met deze voorwaarden."},{title:"2. Gebruik van de dienst",content:"Onze dienst stelt je in staat om je dagelijkse calorie-inname bij te houden. Je stemt ermee in deze dienst uitsluitend voor persoonlijk, niet-commercieel gebruik te gebruiken en niet voor illegale of schadelijke activiteiten."},{title:"3. Privacy en gegevens",content:"Door in te loggen met je Google-account geef je ons toestemming om bepaalde informatie te gebruiken, zoals je naam en e-mailadres. Wij verkopen je gegevens niet en nemen passende maatregelen om je privacy te beschermen. Zie ons privacybeleid voor meer informatie."},{title:"4. Beindiging",content:"We behouden ons het recht voor om je account op te schorten of te beindigen als je deze voorwaarden overtreedt of activiteiten onderneemt die onze dienst of gebruikers schaden."},{title:"5. Wijzigingen in voorwaarden",content:"We kunnen deze voorwaarden op elk moment bijwerken. Voortgezet gebruik van de dienst na wijzigingen betekent dat je de nieuwe voorwaarden accepteert."},{title:"6. Contacteer ons",content:"Als je vragen hebt over deze voorwaarden, neem dan contact met ons op via wesselvandalen@gmail.com."}]},VL={added:"toegevoegd"},ML={description:"Alle rechten voorbehouden."},LL={sidebar:CL,tracker:OL,homepage:DL,errorpage:NL,termspage:PL,notification:VL,footer:ML},jL={home:"Heim",account:"Agangur",terms:"Skilmlar og skilyri",note:{new:"Ntt",description:"Reyndu appi okkar  nu tungumli! Tell styur n alls 9 tunguml!"},userblock:{logout:"Skr t"}},UL={counter:{togo:"eftir",over:"yfir",carbs:"Kolvetni",proteins:"Prtein",fat:"Fita"},foodsearch:{search:"Leitau a mat...",chosenfood:"Valinn matur",nofood:"Enginn matur hefur veri btt vi enn.",remove:"Fjarlgja"}},zL={top:{title:"Uppgtvau okkar",mid_description:"hitaeiningateljara, ar sem  getur einfaldlega",highlighted_phrases:{amazing:"trlega",track:"fylgst me matnum num"},description:"n arfa eiginleika!"},buttons:{tracker:"Fara  teljarann",account:"Ba til agang"},introduction:{main1:"Vi erum ekki au fyrstu sem gera etta,",main2:"vi gerum etta bara rtt.",first:"Vi erum venjulegt flk sem vill bara telja hitaeiningar. Engar auglsingar, engir arfa eiginleikar, bara einfld og hrifark talning.",second:"Hj Tell (norska fyrir telja) viljum vi hafa einfalt app ar sem flk getur fylgst me hitaeiningum snum  mismunandi tkjum, n vesen. ess vegna gerum vi appi eins einfalt og hgt er, me v sem vi teljum nausynlegt."}},BL={main:"a er ekkert hr...",description:"Hva sem  varst a leita a er ekki hr.",link:"Fara aftur  heimasuna"},qL={title:"Skilmlar og skilyri",intro:"Velkomin  vefsu okkar fyrir kalorueftirlit. Me v a nota vefsuna okkar og jnustu samykkir  essa skilmla. Ef  samykkir  ekki, vinsamlegast notau ekki jnustuna.",sections:[{title:"1. Skrning reiknings",content:"Til a nota jnustuna verur  a skr ig inn me Google-aukenningu.  ber byrg  a vihalda trnai um reikning inn og a allar agerir  num nafni su  samrmi vi essa skilmla."},{title:"2. Notkun jnustunnar",content:"jnustan gerir r kleift a fylgjast me daglegri kaloruneyslu.  samykkir a nota hana aeins  persnulegum, ekki-viskiptalegum tilgangi og ekki  lglegum ea skalegum tilgangi."},{title:"3. Persnuvernd og ggn",content:"Me v a skr ig inn me Google reikningi veitir  okkur agang a kvenum upplsingum eins og nafni og netfangi. Vi seljum ekki ggnin n og grpum til vieigandi rstafana til a vernda persnuvernd na. Sju persnuverndarstefnuna okkar fyrir frekari upplsingar."},{title:"4. Lokun reiknings",content:"Vi skiljum okkur rtt til a loka ea slta reikningnum num ef  brtur gegn essum skilmlum ea tekur tt  skalegri hegun."},{title:"5. Breytingar  skilmlum",content:"Vi getum uppfrt essa skilmla hvenr sem er. framhaldandi notkun eftir breytingar telst samykki  nju skilmlunum."},{title:"6. Hafu samband",content:"Ef  hefur spurningar um essa skilmla, vinsamlegast hafu samband vi okkur  wesselvandalen@gmail.com."}]},FL={added:"btt vi"},KL={description:"ll rttindi skilin."},HL={sidebar:jL,tracker:UL,homepage:zL,errorpage:BL,termspage:qL,notification:FL,footer:KL};function GL(){const i=localStorage.getItem("lang");return i==="en"||i==="no"||i==="dk"||i==="se"||i==="fi"||i==="is"||i==="et"||i==="fo"||i==="nl"?(document.documentElement.lang=i,i):(localStorage.setItem("lang","en"),document.documentElement.lang="en","en")}gr.use(HP).init({interpolation:{escapeValue:!0},lng:GL(),resources:{en:{global:V4},no:{global:F4},dk:{global:W4},et:{global:sL},fo:{global:kL},se:{global:EL},fi:{global:dL},is:{global:HL},nl:{global:LL}}});cx.createRoot(document.getElementById("root")).render(W.jsx(me.StrictMode,{children:W.jsx(u4,{children:W.jsx(l4,{})})}));
